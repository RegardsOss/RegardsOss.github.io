<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-release-notes docs-version-current docs-doc-page docs-doc-id-notes/release-notes-v2.3.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Version 2.3.0 | REGARDS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://RegardsOss.github.io/release-notes/v2.3.0"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-release-notes-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-release-notes-current"><meta data-rh="true" property="og:title" content="Version 2.3.0 | REGARDS"><meta data-rh="true" name="description" content="Released on : xx/xx/2025"><meta data-rh="true" property="og:description" content="Released on : xx/xx/2025"><link data-rh="true" rel="icon" href="/img/logos/regards-png/regards-favicon.png"><link data-rh="true" rel="canonical" href="https://RegardsOss.github.io/release-notes/v2.3.0"><link data-rh="true" rel="alternate" href="https://RegardsOss.github.io/release-notes/v2.3.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://RegardsOss.github.io/release-notes/v2.3.0" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BP0ACDVAUR-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="REGARDS" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.08d66866.css">
<script src="/assets/js/runtime~main.3c7979db.js" defer="defer"></script>
<script src="/assets/js/main.400d358b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/regards-svg/regards-white.svg" alt="Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/regards-svg/regards-white.svg" alt="Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">REGARDS</b></a><a class="navbar__item navbar__link" href="/docs/development/functional-overview/overview">Overview</a><a class="navbar__item navbar__link" href="/docs/user-guide">Manual</a><a class="navbar__item navbar__link" href="/docs/setup">Install</a><a class="navbar__item navbar__link" href="/docs/development">Developers</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/development/functional-overview/overview">2.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/development/functional-overview/overview">2.3.0</a></li><li><a class="dropdown__link" href="/docs/2.2.0/development/functional-overview/overview">2.2.0</a></li><li><a class="dropdown__link" href="/docs/2.1.0/development/functional-overview/overview">2.1.0</a></li><li><a class="dropdown__link" href="/docs/development/functional-overview/overview">2.0.0</a></li><li><a class="dropdown__link" href="/docs/1.15/setup">1.15</a></li><li><a class="dropdown__link" href="/docs/1.14/setup">1.14</a></li><li><a class="dropdown__link" href="/docs/1.13.0/setup">1.13.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/release-notes">Release notes</a><a class="navbar__item navbar__link" href="/aboutus">About us</a><a href="https://github.com/RegardsOss/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/release-notes/v2.3.0">Version 2.3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v2.2.0">Version 2.2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v2.1.0">Version 2.1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v2.0.0">Version 2.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.15.3">Version 1.15.3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.15.1">Version 1.15.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.15.0">Version 1.15.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.14.9">Version 1.14.9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.14.7">Version 1.14.7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.14.0">Version 1.14.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.13.0">Version 1.13.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.12.0">Version 1.12.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.11.0">Version 1.11.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.8.1">Version 1.8.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.8.0">Version 1.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.7.1">Version 1.7.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.6.0">Version 1.6.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.5.0">Version 1.5.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.4.0">Version 1.4.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.3.0">Version 1.3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.2.0">Version 1.2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.1.0">Version 1.1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v1.0.0">Version 1.0.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v0.4.1">Version 0.4.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v0.4.0">Version 0.4.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v0.3.0">Version 0.3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v0.2.0">Version 0.2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes/v0.1.1">Version 0.1.1</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Version 2.3.0</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Version 2.3.0</h1></header><p>Released on : xx/xx/2025<br>
<a href="https://www.gnu.org/licenses/gpl-3.0" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3" class="img_ev3q"></a>
<strong>Operational version</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="indexation-improvement">Indexation improvement<a href="#indexation-improvement" class="hash-link" aria-label="Direct link to Indexation improvement" title="Direct link to Indexation improvement">​</a></h3>
<p>Elastic entities insertions are now asynchronous. It is now recommended to increase the size of the Elasticsearch
connection pool to handle the higher level of parallelism. See the <a href="/docs/next/development/services/dam/configuration/static-configuration#ansible-editable-properties">configuration guide</a>
for details on how to configure this value (regards.jpa.multitenant.maxPoolSize and regards.elasticsearch.threadpool.size).</p>
<p>Multiple insertion tasks can now run at the same time.
Depending on the size of the inserted products and the microservice’s allocated memory, you may need to reduce the configured insertion batch size of the rs-dam microservice (<strong>regards.crawler.max.bulk.size</strong> in <em>rs-dam.properties</em>) if you encounter memory errors.</p>
<p>The new Elasticsearch reindexing does not introduce any breaking changes.
However, there are now recommendations regarding the following <strong>naming conventions</strong>:</p>
<ul>
<li>There is now a default Elasticsearch alias named <strong>[tenant]_alias</strong>.
If you use a custom Elasticsearch alias, make sure it does <strong>not</strong> use this name.</li>
<li>In the configuration of crawling datasources , do <strong>not</strong> use a <strong>label</strong> or <strong>ID</strong> ending with the string <strong>&quot;_building&quot;</strong>,  as this
suffix is reserved for a specific category of ingestions used during reindexing.</li>
</ul>
<p>Due to a limitation in the Elasticsearch 7 client, applying access rights may take longer than the default timeout configured in the rs-dam microservice (<strong>regards.elasticsearch.index.request.timeout</strong> in <em>rs-dam.properties</em>). When the timeout is reached, the aspiration process will exit with an error, even though Elasticsearch continues applying the access rights in the background. In reality, the aspiration is typically successful.
To avoid this false-negative outcome, you can significantly increase the timeout value.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><ul>
<li>It is now forbidden to delete an index or an alias directly in Elasticsearch.</li>
<li>When querying Elasticsearch directly to perform catalog searches, you must now use the alias name instead of the
index name.</li>
<li>During reindexing, Elasticsearch server will require twice as much disk space as during normal use. Make sure you
have enough free space allocated to ElasticSearch for the reindexing to complete successfully.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="restriction-to-one-category-per-oais-product">Restriction to one category per OAIS product<a href="#restriction-to-one-category-per-oais-product" class="hash-link" aria-label="Direct link to Restriction to one category per OAIS product" title="Direct link to Restriction to one category per OAIS product">​</a></h3>
<p>The ability to associate several categories per OAIS product has never been used, so the data structure and APIs
have been modified to permit only one category per product. This restriction allows some performance improvements
during crawling on OAIS products, and in the administration interface.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-naming-and-layout-of-delivery-files">Improved Naming and Layout of Delivery Files<a href="#improved-naming-and-layout-of-delivery-files" class="hash-link" aria-label="Direct link to Improved Naming and Layout of Delivery Files" title="Direct link to Improved Naming and Layout of Delivery Files">​</a></h3>
<p>The name and structure of the zip files generated by the delivery service have evolved. The new naming conventions
are described <a href="/docs/next/user-guide/order-data/settings-delivery#format-de-livraison">in the documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-change">Breaking change<a href="#breaking-change" class="hash-link" aria-label="Direct link to Breaking change" title="Direct link to Breaking change">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">​</a></h3>
<p>You need to follow the <a href="/docs/next/setup/swarm/migration/2.2-to-2.3">Ansible migration guide</a> to update your
playbook from V2.2.0 to V2.3.0.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a href="#database" class="hash-link" aria-label="Direct link to Database" title="Direct link to Database">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="oais-category-change">OAIS Category change<a href="#oais-category-change" class="hash-link" aria-label="Direct link to OAIS Category change" title="Direct link to OAIS Category change">​</a></h4>
<p>The database tables <code>ingest.t_sip</code> and <code>ingest.t_aip</code> have changed: the <code>categories</code> column (format jsonb) is replaced
by a <code>category</code> column (format varchar 128). After first deploying the 2.3.0 version of the service, the data
will be moved to the new column. If the <code>categories</code> column contained a list of a single category, it will be
transferred to the new column. If it contained several categories, only the first one will be preserved.</p>
<p>The change is automatic on updating the service, but may take a long time depending on the number of products.
If the script takes too long, the service may restart before the migration finishes. In this case the migration
will continue from where it was when the service restarts. It may happen several times, until it eventually
completes the migration.
To avoid any problem during the migration, we provide a script to manually modify these 2 tables, to be executed
after shutdown of the current system and before the restart in the new version: see the
<a href="/docs/next/setup/swarm/migration/2.2-to-2.3">Ansible migration guide</a>.</p>
<p>Similarly for the acquisition chains in service <code>dataprovider</code>: the table <code>dataprovider.t_acq_processing_chain</code>
has had its <code>categories</code> column replaced by a <code>category</code> column. The change is automatic on updating the service
and the data is migrated automatically. If the <code>categories</code> column contained a list of a single category,
it will be transferred to the new column. If it contained several categories, only the first one will be preserved.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="index-changes">Index changes<a href="#index-changes" class="hash-link" aria-label="Direct link to Index changes" title="Direct link to Index changes">​</a></h4>
<p>An index was added in the table <code>ingest.t_aip</code> on (<code>last_update</code>, <code>id</code>) to improve the performance
of aspirations of OAIS products.
An index was replaced in the table <code>fem.t_feature</code> on (<code>model</code>, <code>last_update</code>) by a new one on (<code>model</code>, <code>last_update</code>, <code>id</code>)
to improve the performance of aspirations of GeoJson products.
These changes are automatic on updating the service, but may take a long time depending on the number of products.
To avoid any problem during the migration, the script provided for the OAIS Category change above can be used,
it also performs the update to the indexes.
To be executed after shutdown of the current system and before the restart in the new version:
See the <a href="/docs/next/setup/swarm/migration/2.2-to-2.3">Ansible migration guide</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rest-api">Rest API<a href="#rest-api" class="hash-link" aria-label="Direct link to Rest API" title="Direct link to Rest API">​</a></h3>
<p>The OAIS product manager modification API (rs-ingest/aips/update) no longer allows to set multiple categories on a product.
Requests to add a category to a product that already has one, or to add multiple categories will be ignored.
It is still possible to replace an existing category by removing it and adding another one at the same time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-configuration">Service configuration<a href="#service-configuration" class="hash-link" aria-label="Direct link to Service configuration" title="Direct link to Service configuration">​</a></h3>
<p>The format for the configuration file for the <code>rs-dataprovider</code> service has changed following the change
to a single category.
When specifying an AcquisitionProcessingChain in the configuration, the <code>categories</code> attribute must be replaced
by a <code>category</code> attribute containing a single string.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-api">AMQP API<a href="#amqp-api" class="hash-link" aria-label="Direct link to AMQP API" title="Direct link to AMQP API">​</a></h3>
<p>OAIS products for rs-ingest no longer allow multiple categories. To allow retro-compatibility, a product can have either
a string <code>category</code> field, or a list <code>categories</code> field with a single category, but not both.
The use of the <code>categories</code> field is deprecated.</p>
<p>The OAISMigrationWorker no longer allows multiple categories in a product. To allow retro-compatibility,
a product can have either a string <code>category</code> field, or a list <code>categories</code> field with a single category,
but not both. The use of the <code>categories</code> field is deprecated.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug fixes" title="Direct link to Bug fixes">​</a></h2></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/release-notes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/release-notes/v2.2.0"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Version 2.2.0</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#indexation-improvement" class="table-of-contents__link toc-highlight">Indexation improvement</a></li><li><a href="#restriction-to-one-category-per-oais-product" class="table-of-contents__link toc-highlight">Restriction to one category per OAIS product</a></li><li><a href="#improved-naming-and-layout-of-delivery-files" class="table-of-contents__link toc-highlight">Improved Naming and Layout of Delivery Files</a></li></ul></li><li><a href="#breaking-change" class="table-of-contents__link toc-highlight">Breaking change</a><ul><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li><li><a href="#rest-api" class="table-of-contents__link toc-highlight">Rest API</a></li><li><a href="#service-configuration" class="table-of-contents__link toc-highlight">Service configuration</a></li><li><a href="#amqp-api" class="table-of-contents__link toc-highlight">AMQP API</a></li></ul></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug fixes</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container_grid_bQnQ"><div class="col_1_KTIr"><p><strong>A framework and a set of plugins to build scientific archives.</strong></p><p>REGARDS is an Open Source data valorization product, highly flexible to various themes, modular, efficient, long-lasting, evolutionary and scalable, aims at providing services to Mission Centers and laboratories, and is able to deal with huge amount of data. <br>Our goal is to allow a strong commitment from user community in the development of modules and plugins.</p><p><strong>We welcome <a href="https://github.com/RegardsOss/RegardsOss.github.io/blob/master/CONTRIBUTING.md">your contributions</a> to make these documents better.</strong></p><div><img src="/img/logos/courbe-institutionnelle-signature_y110-inverser.png"></div></div><div class="col_2_Jonb"><h4 class="footer__title">Users</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/user-guide">Manual</a></li></ul></div><div class="col_2_Jonb"><h4 class="footer__title">Developpers</h4><ul class="footer__items"><li class="footer__item"><a href="/docs/setup" class="footer__link-item" target="_blank" rel="noopener noreferrer">Install</a></li><li class="footer__item"><a href="/docs/development/frontend/introduction/setup" class="footer__link-item" target="_blank" rel="noopener noreferrer">Web UI</a></li></ul></div><div class="col_2_Jonb"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/RegardsOss/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 REGARDS, OSS. Built with Docusaurus.</div></div></footer></div>
</body>
</html>
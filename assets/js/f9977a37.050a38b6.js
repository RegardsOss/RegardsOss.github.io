"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[67878],{94212:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=t(74848),r=t(28453);const s={id:"rule-matcher-notifier-plugins",title:"Rule matcher plugins",sidebar_label:"Rule matcher plugins",slug:"/development/backend/services/notifier/plugins/rule-matcher",sidebar_position:4},l=void 0,a={id:"development/services/notifier/plugins/rule-matcher-notifier-plugins",title:"Rule matcher plugins",description:"This guide introduces you how to configure Rule matcher plugins.",source:"@site/versioned_docs/version-2.0.0/development/services/notifier/plugins/rule-matcher-plugins.md",sourceDirName:"development/services/notifier/plugins",slug:"/development/backend/services/notifier/plugins/rule-matcher",permalink:"/docs/development/backend/services/notifier/plugins/rule-matcher",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-2.0.0/development/services/notifier/plugins/rule-matcher-plugins.md",tags:[],version:"2.0.0",sidebarPosition:4,frontMatter:{id:"rule-matcher-notifier-plugins",title:"Rule matcher plugins",sidebar_label:"Rule matcher plugins",slug:"/development/backend/services/notifier/plugins/rule-matcher",sidebar_position:4},sidebar:"dev",previous:{title:"Recipient sender plugins",permalink:"/docs/development/backend/services/notifier/plugins/recipient-sender"},next:{title:"Importation/Exportation",permalink:"/docs/development/backend/services/notifier/configuration/import-export"}},o={},c=[{value:"Default Rule Matcher",id:"default-rule-matcher",level:3},{value:"Lucene Rule Matcher",id:"lucene-rule-matcher",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["This guide introduces you how to configure Rule matcher plugins.",(0,i.jsx)(n.br,{}),"\n","These plugins allow to define if a product should be sent according to its content and metadata."]}),"\n",(0,i.jsx)(n.p,{children:"Here is the list of documented plugins:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#default-rule-matcher",children:"Default Rule Matcher"})," allows sending a notification if its content json properties match\nspecific values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#lucene-rule-matcher",children:"Lucene Rule Matcher"})," allows sending a notification if its content or its metadata match\ngiven Lucene expressions"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["All the plugins implements\nthe ",(0,i.jsx)(n.a,{href:"https://github.com/RegardsOss/regards-backend/blob/master/rs-notifier/notifier/notifier-domain/src/main/java/fr/cnes/regards/modules/notifier/domain/plugin/IRuleMatcher.java",children:"IRuleMatcher interface"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"developers advice",type:"info",children:(0,i.jsx)(n.p,{children:"If you want to create your own implementation of one of these extension points, you need to extend the specific\ninterface indicated."})}),"\n",(0,i.jsx)(n.h3,{id:"default-rule-matcher",children:"Default Rule Matcher"}),"\n",(0,i.jsxs)(n.p,{children:["This rule matcher allows to check into notification content if a json property matches given specific value. If so, the\nnotification is sent to associated ",(0,i.jsx)(n.a,{href:"/docs/development/backend/services/notifier/plugins/recipient-sender",children:"Recipient sender plugin(s)"}),".",(0,i.jsx)(n.br,{}),"\n","Configuration parameters are:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"attributeToSeek"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"attribute name to search for the notification json content"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"attributeValueToSeek"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"attribute value to match"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"title='Default Rule Matcher plugin configuration example'",children:' {\n  "key": "fr.cnes.regards.framework.modules.plugins.domain.PluginConfiguration",\n  "value": {\n    "pluginId": "DefaultRuleMatcher",\n    "label": "{label}",\n    "businessId": "{uniqueIdentifier}",\n    "version": "1.0.0",\n    "priorityOrder": 0,\n    "active": true,\n    "parameters": [\n      {\n        "name": "attributeToSeek",\n        "type": "STRING",\n        "value": "session"\n      },\n      {\n        "name": "attributeValueToSeek",\n        "type": "STRING",\n        "value": "REGARDS-NOTIF-AIP"\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"lucene-rule-matcher",children:"Lucene Rule Matcher"}),"\n",(0,i.jsxs)(n.p,{children:["This rule matcher allows to check if notification content or metadata matches given lucene expression. If so,\nthe notification is sent to associated ",(0,i.jsx)(n.a,{href:"/docs/development/backend/services/notifier/plugins/recipient-sender",children:"Recipient sender plugin(s)"}),".\nConfiguration parameters are:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"payload_rule"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Lucene expression to seek inside the payload of the input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"metadata_rule"}),(0,i.jsx)(n.td,{children:"String"}),(0,i.jsx)(n.td,{children:"Lucene expression to seek inside the metadata of the input"})]})]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Lucene queries",type:"info",children:(0,i.jsxs)(n.p,{children:["You can check the ",(0,i.jsx)(n.a,{href:"../../../../appendices/lucene-query",children:"Lucene guide"})," to create your lucene query"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"title='Lucene Rule matcher plugin configuration example'",children:' {\n  "key": "fr.cnes.regards.framework.modules.plugins.domain.PluginConfiguration",\n  "value": {\n    "pluginId": "LuceneRuleMatcher",\n    "label": "{label}",\n    "businessId": "{uniqueIdentifier}",\n    "version": "1.0.0",\n    "priorityOrder": 0,\n    "active": true,\n    "parameters": [\n      {\n        "name": "payload_rule",\n        "type": "STRING",\n        "value": "properties.is_valid: true\n      },\n      {\n        "name": "metadata_rule",\n        "type": "STRING",\n        "value": "action: CREATED"\n      }\n    ]\n  }\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
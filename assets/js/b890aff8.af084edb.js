"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[46309],{88358:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});var s=n(74848),i=n(28453);const c={id:"backend-framework-dev-microservice",title:"Develop a new microservice",sidebar_label:"How to create a microservice",slug:"/development/tutorials/backend/dev-microservice/"},o=void 0,t={id:"development/tutorials/backend-framework-dev-microservice",title:"Develop a new microservice",description:"REGARDS Microservices are REST services exposed by a Jetty web server contained in a Spring boot application and",source:"@site/versioned_docs/version-2.2.0/development/tutorials/02-backend-microservice.md",sourceDirName:"development/tutorials",slug:"/development/tutorials/backend/dev-microservice/",permalink:"/docs/2.2.0/development/tutorials/backend/dev-microservice/",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-2.2.0/development/tutorials/02-backend-microservice.md",tags:[],version:"2.2.0",sidebarPosition:2,frontMatter:{id:"backend-framework-dev-microservice",title:"Develop a new microservice",sidebar_label:"How to create a microservice",slug:"/development/tutorials/backend/dev-microservice/"},sidebar:"dev",previous:{title:"Overview",permalink:"/docs/2.2.0/development/tutorials/overview/"},next:{title:"How to create a plugin",permalink:"/docs/2.2.0/development/tutorials/backend/dev-plugin/"}},d={},l=[{value:"Requirements for development",id:"requirements-for-development",level:2},{value:"Common features",id:"common-features",level:2},{value:"Create your first microservice",id:"create-your-first-microservice",level:2},{value:"Create your first module",id:"create-your-first-module",level:2},{value:"References",id:"references",level:2}];function a(e){const r={a:"a",br:"br",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["REGARDS Microservices are REST services exposed by a Jetty web server contained in a Spring boot application and\ncomposed of modules. Each microservice is a Maven project aggregating Maven modules.",(0,s.jsx)(r.br,{}),"\n","There is two modules by default:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"one responsible for running the microservice"}),"\n",(0,s.jsx)(r.li,{children:"one responsible for business."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"In case a microservice needs to be\ncomposed by more than one business module, a module archetype is available."}),"\n",(0,s.jsx)(r.h2,{id:"requirements-for-development",children:"Requirements for development"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Git client"}),"\n",(0,s.jsx)(r.li,{children:"Maven v3.8.4+"}),"\n",(0,s.jsx)(r.li,{children:"JDK Eclipse Temurin v17.0.3+"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"common-features",children:"Common features"}),"\n",(0,s.jsx)(r.p,{children:"Each microservice offers the features :"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"REST Resources authorization access by user ROLES"}),"\n",(0,s.jsx)(r.li,{children:"Access to the Cloud Eureka Registry client to communicate with others microservices"}),"\n",(0,s.jsx)(r.li,{children:"Access to the Cloud Config Server to centralize configurations properties"}),"\n",(0,s.jsxs)(r.li,{children:["Swagger Interface : ",(0,s.jsx)(r.code,{children:"http://address:port/swagger-ui.html"})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"create-your-first-microservice",children:"Create your first microservice"}),"\n",(0,s.jsx)(r.p,{children:"To create a new microservice you have to create a new maven project with the microservice-archetype. To do so :"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Clone the git regards-backend repository"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"git clone https://github.com/RegardsOss/regards-backend.git\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Compile and install the maven project"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cd regards-backend\nmvn clean install -DskipTests\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Generate the new microservice in another folder than regards-backend thanks to the maven project archetype:"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"mkdir ../myMicroservice\ncd ../myMicroservice\nmvn archetype:generate -DarchetypeCatalog=local\n"})}),"\n",(0,s.jsx)(r.p,{children:"You have many archetype proposed to you, under the format"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-txt",children:"number: [local|remote] -> archetype_group_id:archetype_artifact_id (archetype_description)\n"})}),"\n",(0,s.jsx)(r.p,{children:"find the line"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-txt",children:"X: local -> fr.cnes.regards.microservices:microservice-archetype (microservice-archetype)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["and enter ",(0,s.jsx)(r.code,{children:"X"})]}),"\n",(0,s.jsx)(r.p,{children:"where X is the actual number of the microservice creation archetype. Then enter the requested fields as follow :"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"groupId"})," : fr.cnes.regards.microservices.mymicroservice"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"artifactId"})," : mymicroservice"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"version"})," : press enter to apply default value"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"package"})," : press enter to apply default value"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microserviceDescription"})," : My microservice description"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microserviceName"})," : mymicroservice"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microserviceTitle"})," : My Microservice"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"create-your-first-module",children:"Create your first module"}),"\n",(0,s.jsx)(r.p,{children:"Once you have created the microservice module, you have to create sub-modules."}),"\n",(0,s.jsx)(r.p,{children:"To add a new module to your microservice you have to add a new maven module with the module-archetype. To do so :"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Inside the microservice root folder, execute the following command to generate a module"}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"  cd myMicroservice\n  mvn archetype:generate -DarchetypeCatalog=local\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Choose the right archetype (",(0,s.jsx)(r.code,{children:"fr.cnes.regards.modules:module-archetype"}),") and enter requested field as follow :"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"groupId"})," : fr.cnes.regards.modules"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"artifactId"})," : my-module"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"version"})," : press enter to apply default value"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"package"})," : press enter to apply default value"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Add the following dependency to ",(0,s.jsx)(r.code,{children:"bootstrap-myMicroservice/pom.xml"})," file (for instance, with the module artifact\nid ",(0,s.jsx)(r.code,{children:"myModule"}),") :"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:"\n<dependency>\n    <groupId>fr.cnes.regards.modules</groupId>\n    <artifactId>my-module-rest</artifactId>\n    <version>1.0-SNAPSHOT</version>\n</dependency>\n"})}),"\n",(0,s.jsx)(r.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(r.p,{children:["You can also find a tutorial documentation on how to build REGARDS plugins and\nmicroservices ",(0,s.jsx)(r.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(34753).A+"",children:"here"})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},34753:(e,r,n)=>{n.d(r,{A:()=>s});const s=n.p+"assets/files/regards-backend-tutorial-67ece5d5bea022c4ddc0721f69bd6016.odp"},28453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>t});var s=n(96540);const i={},c=s.createContext(i);function o(e){const r=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(c.Provider,{value:r},e.children)}}}]);
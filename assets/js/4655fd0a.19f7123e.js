"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[47336],{4997:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var t=s(74848),i=s(28453);const r={id:"1.12-to-1.13",title:"V1.12 to V1.13",slug:"/setup/swarm/migration/1.12-to-1.13",sidebar_position:3},o=void 0,a={id:"setup/swarm/migration/1.12-to-1.13",title:"V1.12 to V1.13",description:"Steps to migrate REGARDS from version 1.12 to 1.13",source:"@site/docs/setup/swarm/migration/1.12-to-1.13.md",sourceDirName:"setup/swarm/migration",slug:"/setup/swarm/migration/1.12-to-1.13",permalink:"/docs/next/setup/swarm/migration/1.12-to-1.13",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/setup/swarm/migration/1.12-to-1.13.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"1.12-to-1.13",title:"V1.12 to V1.13",slug:"/setup/swarm/migration/1.12-to-1.13",sidebar_position:3},sidebar:"install",previous:{title:"V1.11 to V1.12",permalink:"/docs/next/setup/swarm/migration/1.11-to-1.12"},next:{title:"V1.13 to V1.14",permalink:"/docs/next/setup/swarm/migration/1.13-to-1.14"}},l={},c=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Steps to migrate REGARDS from version 1.12 to 1.13"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Shutdown REGARDS using the playbook"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ansible-playbook -i [...] regards-shutdown.yml [...]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Download last playbook version and move your inventory inside the new playbook"}),"\n",(0,t.jsxs)(n.li,{children:["Edit your inventory file ",(0,t.jsx)(n.code,{children:"group_vars/all/main.yml"})," :"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# Replace \nversion: 1.12.0\n# Into \nversion: 1.13.1\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["When this guide has been written, last version was 1.13.1. Check if there is an updated version\navailable ",(0,t.jsx)(n.a,{href:"https://github.com/orgs/RegardsOss/packages/container/package/rs-authentication",children:"here"})]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add a property ",(0,t.jsx)(n.code,{children:"active_mail_on_admin_instance"})," inside your inventory file ",(0,t.jsx)(n.code,{children:"group_vars/regards_nodes/main.yml"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# Add new property active_mail_on_admin_instance\ngroup_config_mservices:\n  enable_healthcheck: true\n  enable_resource_limits: true\n  active_mail_on_admin_instance: true\n  [...]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Also, add a property ",(0,t.jsx)(n.code,{children:"security"})," inside the same file to the frontend service:"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"on the front service:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"group_docker_mservices:\n  [...]\n  front:\n    [...]\n    securised: true\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Install REGARDS using the playbook"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ansible-playbook -i [...] regards.yml [...]\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(96540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[65039],{68940:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var t=n(74848),o=n(28453);const i={title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",slug:"/development/backend/services/order/configuration/import-export",sidebar_position:1},s=void 0,a={id:"development/services/order/configuration/import-export",title:"Configuration Importation/Exportation",description:"Microservices settings regroup a set of settings that are specific by tenant",source:"@site/docs/development/services/order/configuration/import-export.md",sourceDirName:"development/services/order/configuration",slug:"/development/backend/services/order/configuration/import-export",permalink:"/docs/next/development/backend/services/order/configuration/import-export",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/development/services/order/configuration/import-export.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",slug:"/development/backend/services/order/configuration/import-export",sidebar_position:1},sidebar:"dev",previous:{title:"All endpoints (OpenAPI)",permalink:"/docs/next/development/backend/services/order/api-swagger"},next:{title:"Static configuration",permalink:"/docs/next/development/backend/services/order/configuration/static-configuration"}},d={},c=[{value:"Import/Export API",id:"importexport-api",level:2},{value:"Configurable parameters",id:"configurable-parameters",level:2},{value:"Example",id:"example",level:2}];function l(e){const r={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["Microservices settings regroup a set of settings that are specific by ",(0,t.jsx)(r.a,{href:"/docs/next/development/concepts/multitenant/",children:"tenant"}),"\nand stored in the microservice database."]}),"\n",(0,t.jsx)(r.h2,{id:"importexport-api",children:"Import/Export API"}),"\n",(0,t.jsxs)(r.p,{children:["To configure ",(0,t.jsx)(r.code,{children:"rs-order"})," settings for a specific tenant, you need to follow the ",(0,t.jsx)(r.a,{href:"/docs/next/development/services/common/common-import-export-configuration",children:"generic Import/Export service\nconfiguration guide"}),", it will help you understand the expected JSON\nfile payload that you can send to the\n",(0,t.jsx)(r.a,{href:"/docs/next/development/backend/services/order/api-swagger#tag/module-manager-controller/operation/importConfiguration",children:"import configuration endpoint"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["This configuration can also be imported or exported\nthrough the ",(0,t.jsx)(r.a,{href:"/docs/next/user-guide/project-configuration/microservices/",children:"administrator UI"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"configurable-parameters",children:"Configurable parameters"}),"\n",(0,t.jsxs)(r.p,{children:["Dynamic settings for ",(0,t.jsx)(r.code,{children:"rs-order"})," microservice are :"]}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Name"}),(0,t.jsx)(r.th,{children:"Type"}),(0,t.jsx)(r.th,{children:"Default value"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"expiration_max_duration_in_hours"}),(0,t.jsx)(r.td,{children:"Integer"}),(0,t.jsx)(r.td,{children:"168 (7 jours)"}),(0,t.jsx)(r.td,{children:"Order expiration duration maximal (in hours)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"app_sub_order_duration"}),(0,t.jsx)(r.td,{children:"Integer"}),(0,t.jsx)(r.td,{children:"2"}),(0,t.jsx)(r.td,{children:"Sub order duration for applicative orders (in hours)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"user_order_parameters"}),(0,t.jsxs)(r.td,{children:["Object ",(0,t.jsx)(r.code,{children:'{"subOrderDuration":"Integer",'})," ",(0,t.jsx)(r.code,{children:'"delayBeforeEmailNotification":"Integer"}'})]}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:'{"subOrderDuration":"240",'})," ",(0,t.jsx)(r.code,{children:'"delayBeforeEmailNotification":"72"}'})]}),(0,t.jsx)(r.td,{children:"Parameters for User order (in hours)"})]})]})]}),"\n",(0,t.jsxs)(r.p,{children:["This configuration can also be changed\nthrough the ",(0,t.jsx)(r.a,{href:"/docs/next/user-guide/order-data/settings-orders/",children:"administrator UI"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",metastring:"title='rs-order configuration file example'",children:'{\n  "microservice": "rs-order",\n  "modules": [\n    {\n      "module": {\n        "id": "order",\n        "name": "Order module",\n        "description": "Handle users products orders",\n        "version": "2.1.0",\n        "author": "REGARDS",\n        "legalOwner": "CNES",\n        "documentation": "https://github.com/RegardsOss"\n      },\n      "resetBeforeImport": true,\n      "configuration": [\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "user_order_parameters",\n            "description": "Parameters for User order (in hours)",\n            "value": "{\\"subOrderDuration\\":240,\\"delayBeforeEmailNotification\\":72}",\n            "defaultValue": "{\\"subOrderDuration\\":240,\\"delayBeforeEmailNotification\\":72}",\n            "className": "fr.cnes.regards.modules.order.service.settings.UserOrderParameters",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "expiration_max_duration_in_hours",\n            "description": "Order expiration duration maximal (in hours)",\n            "value": "168",\n            "defaultValue": "168",\n            "className": "java.lang.Integer",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "app_sub_order_duration",\n            "description": "Sub order duration for applicative orders (in hours)",\n            "value": "2",\n            "defaultValue": "2",\n            "className": "java.lang.Integer",\n            "containsSensitiveParameters": false\n          }\n        }\n      ]\n    }\n  ]\n}\n'})})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>a});var t=n(96540);const o={},i=t.createContext(o);function s(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);
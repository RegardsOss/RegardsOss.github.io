"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[78934],{85317:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var r=t(74848),s=t(28453);const o={id:"frontend-introduction-setup",title:"Development setup and build",sidebar_label:"Setup",slug:"/development/frontend/introduction/setup/"},i=void 0,l={id:"development/frontend/frontend-introduction-setup",title:"Development setup and build",description:"Requirements",source:"@site/docs/development/frontend/setup.md",sourceDirName:"development/frontend",slug:"/development/frontend/introduction/setup/",permalink:"/docs/next/development/frontend/introduction/setup/",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/development/frontend/setup.md",tags:[],version:"current",frontMatter:{id:"frontend-introduction-setup",title:"Development setup and build",sidebar_label:"Setup",slug:"/development/frontend/introduction/setup/"},sidebar:"dev",previous:{title:"How to create a plugin",permalink:"/docs/next/development/backend/framework/dev-plugin/"},next:{title:"Setting up an IDE",permalink:"/docs/next/development/frontend/introduction/ide/"}},d={},a=[{value:"Requirements",id:"requirements",level:3},{value:"Quick setup",id:"quick-setup",level:2},{value:"Compile for production deployment",id:"compile-for-production-deployment",level:3},{value:"Run for developement",id:"run-for-developement",level:3},{value:"Run tests",id:"run-tests",level:3},{value:"Run test coverage",id:"run-test-coverage",level:3},{value:"Lint",id:"lint",level:3},{value:"Known issues",id:"known-issues",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"node v8.10+"}),"\n",(0,r.jsx)(n.li,{children:"npm v16+ (npm i -g npm to upgrade)"}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsxs)(n.p,{children:["As REGARDS frontend is developed around two main libraries, ",(0,r.jsx)(n.a,{href:"https://reactjs.org",children:"React"})," and ",(0,r.jsx)(n.a,{href:"http://redux.js.org",children:"Redux"}),", we highly recommand new developers to start by watching the here under ",(0,r.jsx)(n.a,{href:"https://egghead.io",children:"Egghead"})," videos to learn the basics of these two libraries."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://egghead.io/courses/react-native-fundamentals",children:"React"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://egghead.io/courses/getting-started-with-redux",children:"Redux"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["New developers can also check at the ",(0,r.jsx)(n.a,{href:"https://v0.material-ui.com/#/components/app-bar",children:"Material-ui"})," library which is used to design all components of the REGARDS frontend."]})]}),"\n",(0,r.jsx)(n.h2,{id:"quick-setup",children:"Quick setup"}),"\n",(0,r.jsxs)(n.p,{children:["Clone the ",(0,r.jsx)(n.code,{children:"rs-frontend"})," repository, available ",(0,r.jsx)(n.a,{href:"https://github.com/RegardsOss/regards-frontend",children:"on GitHub"})," and open the webapp folder in cloned repository using your terminal:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd regards-frontend/webapp\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then install all dependencies, and produce all required webpack DLL:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn install\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Please note that, after a new GIT branch checkout and when installed Node version is greater than 8, it may be required to delete all package-lock.json in project. It can be done using the following commands:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd webapp\nfind . -name 'package-lock*' -exec rm {} \\;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"compile-for-production-deployment",children:"Compile for production deployment"}),"\n",(0,r.jsxs)(n.p,{children:["This two commands will generate the entire webapp for production environement with all plugins compiled.\nThe result is in the ",(0,r.jsx)(n.code,{children:"dist/prod"})," directory. You can ignore this step if you want to produce a production build."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn build:production\nyarn build:plugins\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Congratulation"}),", you're now ready to launch the application !"]}),"\n",(0,r.jsx)(n.h3,{id:"run-for-developement",children:"Run for developement"}),"\n",(0,r.jsxs)(n.p,{children:["The command below allow you to run the frontend webapp in development mode with hot sources reload.\nHowever, you need to override the REGARDS gateway address by replacing ",(0,r.jsx)(n.code,{children:"http://172.26.47.107"})," by the address\nof your local REGARDS gateway instance in the ",(0,r.jsx)(n.code,{children:"/webapp/webpack.dev.preprod.config.js"})," file. Then you can launch :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn start:withpreprod\n"})}),"\n",(0,r.jsx)(n.p,{children:"Optionally, you may also build the plugins, using the following command in webapp folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"./scripts/build-all-plugins dev all\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Congratulation"}),", you're now ready to access to your local front instance at the address ",(0,r.jsx)(n.a,{href:"http://localhost:3333",children:"localhost:3333"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Notes:\n-",(0,r.jsx)(n.em,{children:"Some REGARDS NPM tasks provide runnable using the proxy mock server. You may want to look deeper in those tasks when developping new features or without backend"}),"\n-",(0,r.jsxs)(n.em,{children:["REGARDS NPM tasks are currently defined for continous integration servers at ",(0,r.jsx)(n.a,{href:"https://www.c-s.fr/",children:"CS SI"})]})]}),"\n",(0,r.jsx)(n.h3,{id:"run-tests",children:"Run tests"}),"\n",(0,r.jsxs)(n.p,{children:["The following command runs the app tests and create reports in ",(0,r.jsx)(n.code,{children:"webapp/reports/mocha/"})," folder:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn test\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-test-coverage",children:"Run test coverage"}),"\n",(0,r.jsxs)(n.p,{children:["The following command runs application coverage (lcov, xunit) and reports in ",(0,r.jsx)(n.code,{children:"webapp/reports/coverage/"})," folder:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn test:coverage\n"})}),"\n",(0,r.jsx)(n.h3,{id:"lint",children:"Lint"}),"\n",(0,r.jsx)(n.p,{children:"The following command lint the REGARDS frontend application code and fixes automatically all formatting problems."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"yarn lint:fix\n"})}),"\n",(0,r.jsx)(n.p,{children:"The developers should always run that comment before committing code files."}),"\n",(0,r.jsx)(n.h3,{id:"known-issues",children:"Known issues"}),"\n",(0,r.jsx)(n.p,{children:"When you install this application, all these NPM warnings can be safely ignored :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN enoent SKIPPING OPTIONAL DEPENDENCY: ENOENT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN optional SKIPPING OPTIONAL DEPENDENCY"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN enoent ENOENT: no such file or directory"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN <some dependency>@<version> requires a peer of <another dependency>@<version> but none is installed. You must install peer dependencies yourself."})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"npm WARN rollback Rolling back <some dependency>@<version> failed (this is probably harmless)"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var r=t(96540);const s={},o=r.createContext(s);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);
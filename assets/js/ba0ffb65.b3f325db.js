"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[56877],{63994:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var n=s(74848),r=s(28453);const t={id:"release-notes-v2.0.0",title:"Version 2.0.0",slug:"/v2.0.0/",sidebar_position:9975},l=void 0,o={id:"notes/release-notes-v2.0.0",title:"Version 2.0.0",description:"Released on : 15/11/2024",source:"@site/release_notes/notes/V2.0.0.md",sourceDirName:"notes",slug:"/v2.0.0/",permalink:"/release-notes/v2.0.0/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9975,frontMatter:{id:"release-notes-v2.0.0",title:"Version 2.0.0",slug:"/v2.0.0/",sidebar_position:9975},sidebar:"release_notes",previous:{title:"Version 2.1.0",permalink:"/release-notes/v2.1.0/"},next:{title:"Version 1.15.3",permalink:"/release-notes/v1.15.3/"}},a={},d=[{value:"Features",id:"features",level:2},{value:"Dependencies updates",id:"dependencies-updates",level:3},{value:"Docker images version updates",id:"docker-images-version-updates",level:3},{value:"Auto retry amqp message failure",id:"auto-retry-amqp-message-failure",level:3},{value:"Create basket using text file",id:"create-basket-using-text-file",level:3},{value:"Add filters to order files",id:"add-filters-to-order-files",level:3},{value:"Deprecation",id:"deprecation",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Breaking change",id:"breaking-change",level:2},{value:"Deployment",id:"deployment",level:3},{value:"REST API",id:"rest-api",level:3},{value:"Plugins",id:"plugins",level:3},{value:"Notifier plugin : Dissemination ACK Sender",id:"notifier-plugin--dissemination-ack-sender",level:4},{value:"Bug fixes",id:"bug-fixes",level:2}];function c(e){const i={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.p,{children:["Released on : 15/11/2024",(0,n.jsx)(i.br,{}),"\n",(0,n.jsx)(i.a,{href:"https://www.gnu.org/licenses/gpl-3.0",children:(0,n.jsx)(i.img,{src:"https://img.shields.io/badge/License-GPLv3-blue.svg",alt:"License: GPL v3"})}),"\n",(0,n.jsx)(i.strong,{children:"Operational version"})]}),"\n",(0,n.jsx)(i.h2,{id:"features",children:"Features"}),"\n",(0,n.jsx)(i.h3,{id:"dependencies-updates",children:"Dependencies updates"}),"\n",(0,n.jsx)(i.p,{children:"This new Regards version is mainly delivered to update all libraries used by Regards framework, microservices and\nplugins to their latest version.\nHere is a quick summary about main libraries versions used:"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Library"}),(0,n.jsxs)(i.th,{children:["Previously (",(0,n.jsx)(i.code,{children:"<= v1.15"}),")"]}),(0,n.jsx)(i.th,{children:"2.0.0"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"spring-boot"}),(0,n.jsx)(i.td,{children:"2.6.4"}),(0,n.jsx)(i.td,{children:"3.3.0"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"spring-cloud-dependencies"}),(0,n.jsx)(i.td,{children:"2021.0.1"}),(0,n.jsx)(i.td,{children:"2023.0.2"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"hibernate"}),(0,n.jsx)(i.td,{children:"6.0.0.Final"}),(0,n.jsx)(i.td,{children:"6.3.2.Final"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"swagger"}),(0,n.jsx)(i.td,{children:"2.2.0"}),(0,n.jsx)(i.td,{children:"2.2.21"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Elasticsearch"}),(0,n.jsx)(i.td,{children:"7.17.1"}),(0,n.jsx)(i.td,{children:"7.17.22"})]})]})]}),"\n",(0,n.jsxs)(i.p,{children:["To see the complete list of Java dependencies,\nsee ",(0,n.jsx)(i.a,{href:"https://github.com/RegardsOss/regards-backend/blob/release/V2.0.0/pom.xml",children:"REGARDS bom"})]}),"\n",(0,n.jsx)(i.h3,{id:"docker-images-version-updates",children:"Docker images version updates"}),"\n",(0,n.jsx)(i.p,{children:"On Docker images, there is some changes:"}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Library"}),(0,n.jsx)(i.th,{children:"old version"}),(0,n.jsx)(i.th,{children:"new version"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"RabbitMQ"}),(0,n.jsx)(i.td,{children:"3.8.34"}),(0,n.jsx)(i.td,{children:"3.11"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Elasticsearch"}),(0,n.jsx)(i.td,{children:"7.17.11"}),(0,n.jsx)(i.td,{children:"7.17.22"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"Grafana"}),(0,n.jsx)(i.td,{children:"10.0.1"}),(0,n.jsx)(i.td,{children:"11.0.0"})]})]})]}),"\n",(0,n.jsxs)(i.p,{children:["Click ",(0,n.jsx)(i.a,{href:"/docs/setup/swarm/cots-version",children:"here see the complete list of Docker images version"})]}),"\n",(0,n.jsx)(i.h3,{id:"auto-retry-amqp-message-failure",children:"Auto retry amqp message failure"}),"\n",(0,n.jsx)(i.p,{children:"The Regards AMQP starter framework is improved to :"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Allow retry for AMQP message batch when an unexpected error occurred."}),"\n",(0,n.jsx)(i.li,{children:"Invalid format message (deserialization issues) are not sent to DLQ anymore. Those messages are not valid, it is not\nuseful to keep them."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Retry system is based on RabbitMQ\nplugin ",(0,n.jsx)(i.a,{href:"https://github.com/rabbitmq/rabbitmq-delayed-message-exchange",children:"rabbitmq-delayed-message-exchange"})]}),"\n",(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsxs)(i.p,{children:["If you do not use the RabbitMQ server provided by the REGARDS RabbitMQ image, ensure\nthe ",(0,n.jsx)(i.code,{children:"rabbitmq-delayed-message-exchange"})," is active"]})}),"\n",(0,n.jsx)(i.p,{children:"Starting with this version, auto retry is activated for some AMQP queues.\nRetry is enabled on:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"rs-fem"})," microservice - creation/deletion/dissemination/update/notification requests queues."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"rs-notifier"})," microservice - notification requests queues."]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Auto retry configuration (number of retries and delay before retries) is done with new inventory properties :"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["rs-fem : ",(0,n.jsx)(i.code,{children:"group_docker_mservices.fem.configuration.retry_delay_attempts"})]}),"\n",(0,n.jsxs)(i.li,{children:["rs-notifier : ",(0,n.jsx)(i.code,{children:"group_docker_mservices.notifier.configuration.retry_delay_attempts"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"create-basket-using-text-file",children:"Create basket using text file"}),"\n",(0,n.jsxs)(i.p,{children:["You can now fill a basket by uploading a text file containing provider ID on Order microservice.",(0,n.jsx)(i.br,{}),"\n","See ",(0,n.jsx)(i.a,{href:"/docs/development/backend/services/order/guides/fill-basket-from-file",children:"Fill basket from file"})," guide for\nfurther information."]}),"\n",(0,n.jsx)(i.h3,{id:"add-filters-to-order-files",children:"Add filters to order files"}),"\n",(0,n.jsxs)(i.p,{children:["Before placing an order you have the possibility to add selection criteria to the files of your order.\nSee ",(0,n.jsx)(i.a,{href:"/docs/user-guide/order-data/file-filters",children:"File filters"})," for further information."]}),"\n",(0,n.jsx)(i.h2,{id:"deprecation",children:"Deprecation"}),"\n",(0,n.jsx)(i.h3,{id:"authentication",children:"Authentication"}),"\n",(0,n.jsxs)(i.p,{children:["Authentication endpoint ",(0,n.jsx)(i.code,{children:"/oauth/token"})," will not accept ",(0,n.jsx)(i.code,{children:"url query parameters"})," in further versions.\nNew way to retrieve an authentication token is to use body parameters of the ",(0,n.jsx)(i.code,{children:"POST"})," request instead."]}),"\n",(0,n.jsx)(i.admonition,{title:"Password issue",type:"danger",children:(0,n.jsxs)(i.p,{children:["When you send an authentification request to REGARDS, ",(0,n.jsx)(i.code,{children:"url query parameters"})," may be saved on the reverse\nproxy with username and ",(0,n.jsx)(i.strong,{children:"password"}),"! With ",(0,n.jsx)(i.code,{children:"POST"})," body parameters, the reverse proxy won't log these sensitive\ninformation."]})}),"\n",(0,n.jsx)(i.h2,{id:"breaking-change",children:"Breaking change"}),"\n",(0,n.jsx)(i.h3,{id:"deployment",children:"Deployment"}),"\n",(0,n.jsxs)(i.p,{children:["You need to follow\nthe ",(0,n.jsx)(i.a,{href:"/docs/setup/swarm/migration/1.15-to-2.0",children:"Ansible migration guide to update your playbook from V1.15 to V2.0"})]}),"\n",(0,n.jsx)(i.h3,{id:"rest-api",children:"REST API"}),"\n",(0,n.jsx)(i.p,{children:"No breaking changes."}),"\n",(0,n.jsx)(i.h3,{id:"plugins",children:"Plugins"}),"\n",(0,n.jsx)(i.h4,{id:"notifier-plugin--dissemination-ack-sender",children:"Notifier plugin : Dissemination ACK Sender"}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:"Dissemination-ack-sender-plugin"})," can now handle dissemination ack from both OAIS and GeoJson catalogs.\nTo do so, the plugin configuration is modified from the previous version. You have to follow\nthe ",(0,n.jsx)(i.a,{href:"/docs/setup/swarm/migration/1.15-to-2.0",children:"plugin configuration migration guide"}),"."]}),"\n",(0,n.jsx)(i.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["HMI","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes fem-edit HMI plugin to allow feature updates from user HMI"}),"\n",(0,n.jsx)(i.li,{children:"Fixes display of abstract HTML pages in entities description page from user HMI."}),"\n",(0,n.jsx)(i.li,{children:"Fixes a problem displaying the map for certain geometries"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a plugin configuration problem that was causing the web interface to crash"}),"\n",(0,n.jsx)(i.li,{children:"Fixes display of STAC example urls in search protocols configuration section"}),"\n",(0,n.jsx)(i.li,{children:'Fixes display of users last connection date in "Users" section of admin HMI.'}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-fem :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes update of dissemination info for features when ack is required"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a problem where information could be lost during update requests"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a problem with unblocking delete requests waiting to be broadcast"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a possible issue during deletion jobs"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-admin :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes a problem during deletion of blocked account"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a problem sending emails associated with unread notifications when too many notifications are in the database"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-notifier :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes update microservice configuration when deployed with multiple instances."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-catalog :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes search with special characters"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a pagination problem when the result contains more than 10000 results. This problem could cause duplicate entries to appear in search results"}),"\n",(0,n.jsx)(i.li,{children:"Fixes a problem on search queries with a search criterion on a list of values for a given attribute that made Elasticsearch queries too long"}),"\n",(0,n.jsx)(i.li,{children:"Multidownload plugin : Fixes a possible error when maximum number of downloadable files is reached"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-lta-manager :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes a problem with the formatting of product attributes when sending a submission request"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-storage :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"In reference storage requests, the service now checks that the checksum supplied is a valid checksum"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-dam :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes a problem where crawlers could be stuck in a Running state after a restart of the service"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["rs-dataprovider :","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Fixes a problem with the configuration of acquisition chains, which meant that some invalid configurations could be accepted."}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["regards-docker","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"decrease jetty threadpool from 200 to 100 for most of the services"}),"\n",(0,n.jsx)(i.li,{children:"set database min pool size same value as max pool size"}),"\n",(0,n.jsx)(i.li,{children:"change Docker Swarm service update configuration to update all services together"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,i,s)=>{s.d(i,{R:()=>l,x:()=>o});var n=s(96540);const r={},t=n.createContext(r);function l(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);
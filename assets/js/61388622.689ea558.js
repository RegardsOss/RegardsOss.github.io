"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[20149],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return d}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(a),d=r,k=c["".concat(s,".").concat(d)]||c[d]||m[d]||i;return a?n.createElement(k,l(l({ref:t},p),{},{components:a})):n.createElement(k,l({ref:t},p))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var u=2;u<i;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},34982:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return c}});var n=a(87462),r=a(63366),i=(a(67294),a(3905)),l=["components"],o={id:"catalog-protocols-stac",title:"STAC protocol",slug:"/user-guide/catalog/protocols/stac"},s=void 0,u={unversionedId:"user-documentation/catalog-consultation/catalog-protocols-stac",id:"version-1.7.1/user-documentation/catalog-consultation/catalog-protocols-stac",title:"STAC protocol",description:"Dans cette page, vous apprendrez \xe0 ajouter \xe0 REGARDS le protocole de recherche standardis\xe9 STAC.",source:"@site/versioned_docs/version-1.7.1/user-documentation/6-catalog-consultation/protocols-stac.md",sourceDirName:"user-documentation/6-catalog-consultation",slug:"/user-guide/catalog/protocols/stac",permalink:"/docs/1.7.1/user-guide/catalog/protocols/stac",editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.7.1/user-documentation/6-catalog-consultation/protocols-stac.md",tags:[],version:"1.7.1",frontMatter:{id:"catalog-protocols-stac",title:"STAC protocol",slug:"/user-guide/catalog/protocols/stac"},sidebar:"manual",previous:{title:"OpenSearch protocol",permalink:"/docs/1.7.1/user-guide/catalog/protocols/opensearch"},next:{title:"Introduction",permalink:"/docs/1.7.1/user-guide/data-services/introduction/"}},p=[{value:'<img src="/images/user-documentation/doc-icons/right-arrow.png" alt="arrow" height="12" width="12"/> STAC',id:"-stac",children:[{value:"Description",id:"description",children:[],level:3},{value:"Collection STAC",id:"collection-stac",children:[{value:"Collection statiques",id:"collection-statiques",children:[],level:4},{value:"Collection dynamiques",id:"collection-dynamiques",children:[],level:4}],level:3},{value:"Configuration",id:"configuration",children:[],level:3},{value:"Propri\xe9t\xe9s STAC",id:"propri\xe9t\xe9s-stac",children:[],level:3},{value:"Propri\xe9t\xe9s des jeux de donn\xe9es",id:"propri\xe9t\xe9s-des-jeux-de-donn\xe9es",children:[],level:3},{value:"Niveau dans l&#39;arbre des collections dynamiques",id:"niveau-dans-larbre-des-collections-dynamiques",children:[],level:3},{value:"Format des valeurs propos\xe9es dans les collections dynamiques",id:"format-des-valeurs-propos\xe9es-dans-les-collections-dynamiques",children:[{value:"Type EXACT",id:"type-exact",children:[],level:4},{value:"Type Datetime",id:"type-datetime",children:[],level:4},{value:"Type Number",id:"type-number",children:[],level:4},{value:"Type String",id:"type-string",children:[],level:4}],level:3},{value:"Format d&#39;un attribut STAC",id:"format-dun-attribut-stac",children:[],level:3}],level:2}],m={toc:p};function c(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Dans cette page, vous apprendrez \xe0 ajouter \xe0 REGARDS le protocole de recherche standardis\xe9 STAC.")),(0,i.kt)("h2",{id:"-stac"},(0,i.kt)("img",{src:"/images/user-documentation/doc-icons/right-arrow.png",alt:"arrow",height:"12",width:"12"})," STAC"),(0,i.kt)("h3",{id:"description"},"Description"),(0,i.kt)("p",null,"Il est possible de configurer un moteur de recherche STAC afin de naviguer sur le catalogue REGARDS en suivant le protocole ",(0,i.kt)("a",{parentName:"p",href:"https://stacspec.org/"},"SpatioTemporal Asset Catalog (STAC)"),".",(0,i.kt)("br",{parentName:"p"}),"\n","REGARDS est conforme aux sp\xe9cifications suivantes : "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/radiantearth/stac-spec/tree/v1.0.0-beta.2"},"STAC spec v1.0.0-beta.2")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/radiantearth/stac-api-spec/tree/v1.0.0-beta.1"},"STAC API spec v1.0.0-beta.1"))),(0,i.kt)("h3",{id:"collection-stac"},"Collection STAC"),(0,i.kt)("p",null,"Les collections STAC sont cr\xe9es depuis deux sources diff\xe9rentes :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"les collections statiques de REGARDS, depuis les collections et jeux de donn\xe9es"),(0,i.kt)("li",{parentName:"ul"},"les collections dynamiques depuis la liste des propri\xe9t\xe9s STAC configur\xe9s")),(0,i.kt)("h4",{id:"collection-statiques"},"Collection statiques"),(0,i.kt)("p",null,"Dans le standard STAC, les collections sont con\xe7ues pour contenir un petit nombre d'\xe9l\xe9ments, une centaine au maximum.\nC'est pour cela que si dans votre cas le catalogue contient beaucoup d'\xe9l\xe9ments, c'est une bonne id\xe9e de les s\xe9parer dans plusieurs collections."),(0,i.kt)("p",null,"Cependant, REGARDS a d\xe9j\xe0 la notion de collection et de jeux de donn\xe9es, on peut commencer par cr\xe9er un arbre STAC avec ces \xe9l\xe9ments, les collections statiques de REGARDS."),(0,i.kt)("p",null,"Les collections REGARDS peuvent r\xe9f\xe9rencer d'autres collections, ce qui permet de cr\xe9er un arbre de collection. De mani\xe8re similaire, les jeux de donn\xe9es peuvent r\xe9f\xe9rencer des collections. Le moteur de recherche STAC utilise ces tags pour cr\xe9er un arbre de collections STAC."),(0,i.kt)("p",null,"A la racine, les collections statiques affichent les liens vers les collections et jeux de donn\xe9es sans aucun parent (qui ne sont pas r\xe9f\xe9renc\xe9s par une autre collection/jeu de donn\xe9es REGARDS)."),(0,i.kt)("p",null,"L'utilisateur qui acc\xe8de \xe0 une collection STAC qui est contruite \xe0 partir d'une collection REGARDS verra:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"si cette collection est r\xe9f\xe9renc\xe9e par une autre collection/jeu de donn\xe9es: un lien vers cette entit\xe9"),(0,i.kt)("li",{parentName:"ul"},"si cette collection dispose uniquement d'\xe9l\xe9ments, un lien vers ces \xe9l\xe9ments")),(0,i.kt)("p",null,"L'utilisateur qui acc\xe8de \xe0 une collection STAC qui est contruite \xe0 partir d'un jeu de donn\xe9es REGARDS verra:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"un lien vers la liste des \xe9l\xe9ments de ce jeu de donn\xe9es")),(0,i.kt)("h4",{id:"collection-dynamiques"},"Collection dynamiques"),(0,i.kt)("p",null,"Un administrateur peut choisir de s\xe9lectionner certaines propri\xe9t\xe9s STAC, m\xeame la propri\xe9t\xe9 datetime, pour que les diff\xe9rentes valeurs de cette propri\xe9t\xe9 soit s\xe9lectionnable dans l'arbre dynamique, ce qui permet \xe0 un utilisateur de r\xe9aliser un filtrage sur les valeurs de cet attribut."),(0,i.kt)("p",null,"Chaque niveau doit avoir au moins un sous niveau, mais peut en avoir plus. Par exemple, la propri\xe9t\xe9 datetime peut \xeatre utilis\xe9e sur diff\xe9rents niveaux pour permettre \xe0 l'utilisateur de tout d'abord s\xe9lectionner l'ann\xe9e, puis le mois, puis le jour.."),(0,i.kt)("p",null,"Les collections dynamiques sont enti\xe8rement configur\xe9es dans la configuration de plugin, gr\xe2ce aux param\xe8tres  ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"dynamic collection level"))," et ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"dynamic collection format"))," du moteur de recherche."),(0,i.kt)("h3",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"Cliquez sur le bouton ",(0,i.kt)("img",{src:"/images/user-documentation/regards-icons/admin/add.png",alt:"add",height:"25",width:"25"})," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Add"))," de la carte ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Search protocols")),".\nVous serez redirig\xe9 vers l'\xe9cran ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Configure search protocol")),", renseignez les param\xe8tres suivants :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Label"))," la description de votre protocole qui appara\xeetra dans la liste des protocoles"),(0,i.kt)("li",{parentName:"ul"},"S\xe9lectionnez ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Use this search protocol for every search on catalog"))," pour que ce protocole soit utilis\xe9 sur l'ensemble des donn\xe9es du catalogue ou ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Use this search protocol only for search on the selected dataset")),", pour restreindre la recherche \xe0 un jeu de donn\xe9es en particulier. Dans ce cas, choisissez-le dans la liste d\xe9roulante."),(0,i.kt)("li",{parentName:"ul"},"Cliquez sur le bouton ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Choose a search protocol"))," et appuyez sur ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"opensearch"))," puis ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"New configuration")),", un nouveau bloc de configuration s'affichera.")),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"/images/user-documentation/v1.6/6-catalog-consultation/stac-new-conf.png",alt:"protocol create"})),(0,i.kt)("p",null,"Remplissez ensuite tous les champs relatifs au protocole Opensearch:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Label"))," ",(0,i.kt)("em",{parentName:"li"},"[Obligatoire]"),", le nom du moteur de recherche dans REGARDS. Ce nom sera utilis\xe9 comme discriminant dans l'url de recherche avec : http://regards/api/v1/rs-catalog/",(0,i.kt)("em",{parentName:"li"},"label"),"/dataobjects/search."),(0,i.kt)("li",{parentName:"ul"},"Les param\xe8tres du search engine",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC title"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),', un titre identifiant votre search engine, par d\xe9faut "STAC catalog $PROJECT" avec $PROJECT le nom du projet courrant'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC description"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", une br\xe8ve description du search engine. Elle doit faire 1024 caract\xe8res ou moins et ne doit pas contenir de HTML ou autre tag."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC root static collection title"))," ",(0,i.kt)("em",{parentName:"li"},'[Optionnel, d\xe9faut "static"]'),", le label utilis\xe9 pour la racine des collections statiques"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC root dynamic collection title"))," ",(0,i.kt)("em",{parentName:"li"},'[Optionnel, defaut "dynamic"]'),", le label utilis\xe9 pour la racine des collections dynamiques"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC datetime property")),", la configuration de l'attribut datetime, correspondant \xe0 l'aspect temporel de la specification STAC.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Source model property path"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel, defaut creationDate]"),", le nom de l'attribut REGARDS, pr\xe9c\xe9d\xe9 du fragment si pr\xe9sent (",(0,i.kt)("strong",{parentName:"li"},"fragment.attribut"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"JSON property path"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", si l'attribut est de type JSON, le chemin dans cet attribut pour acc\xe9der \xe0 l'attribut servant de date"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC dynamic collection level"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel, defaut -1]"),", le niveau au sein des collection dynamiques  - cf ",(0,i.kt)("a",{parentName:"li",href:"#niveau-dans-larbre-des-collections-dynamiques"},"Niveau des collections dynamiques")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC dynamic collection format"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", le format \xe0 utiliser au sein des collection dynamiques - cf ",(0,i.kt)("a",{parentName:"li",href:"#format-des-valeurs-propos%C3%A9es-dans-les-collections-dynamiques"},"Format des valeurs propos\xe9es dans les collections dynamiques")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC properties")),", le mapping entre les attributs du mod\xe8le REGARDS et les propri\xe9t\xe9s STAC - cf ",(0,i.kt)("a",{parentName:"li",href:"#propri%C3%A9t%C3%A9s-stac"},"Propri\xe9t\xe9s STAC")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC dataset properties")),", les propri\xe9t\xe9s des collections pour les datasets s\xe9lectionn\xe9s, permettant de d\xe9finir par exemple la licence et l'origine des collections et datasets  - cf ",(0,i.kt)("a",{parentName:"li",href:"#propri%C3%A9t%C3%A9s-des-jeux-de-donn%C3%A9es"},"Propri\xe9t\xe9s des jeux de donn\xe9es"))))),(0,i.kt)("h3",{id:"propri\xe9t\xe9s-stac"},"Propri\xe9t\xe9s STAC"),(0,i.kt)("p",null,"La configuration du moteur de recherche STAC n\xe9cessite la configuration des propri\xe9t\xe9s STAC. Plusieurs propri\xe9t\xe9s STAC peuvent \xeatre ajout\xe9es gr\xe2ce au bouton Add ",(0,i.kt)("img",{src:"/images/user-documentation/v1.6/6-catalog-consultation/add-property.png",alt:"add property"}),"   "),(0,i.kt)("p",null,"L'administrateur peut sp\xe9cifier pour chaque param\xe8tre STAC: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Compute summary"))," ",(0,i.kt)("em",{parentName:"li"},"[Boolean]"),", si coch\xe9, un sommaire est calcul\xe9 pour cette propri\xe9t\xe9 dans les collections. Cette valeur ne peut \xeatre coch\xe9e que pour les types 'ANGLE', 'LENGTH', 'PERCENTAGE' et 'NUMBER'."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC dynamic collection level"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel, defaut -1]"),", le niveau au sein des collection dynamiques  - cf ",(0,i.kt)("a",{parentName:"li",href:"#niveau-dans-larbre-des-collections-dynamiques"},"Niveau des collections dynamiques")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC dynamic collection format"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", le format \xe0 utiliser au sein des collection dynamiques - cf ",(0,i.kt)("a",{parentName:"li",href:"#format-des-valeurs-propos%C3%A9es-dans-les-collections-dynamiques"},"Format des valeurs propos\xe9es dans les collections dynamiques")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Enclosing object name (i.e. namespace) for current property"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", pour d\xe9finir un objet enfermant la propri\xe9t\xe9 courrante"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC property name (Expected format : {extension:}name)"))," ",(0,i.kt)("em",{parentName:"li"},"[Obligatoire]"),", le nom de l'attribut STAC expos\xe9, contenant optionnellement l'extension"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Name or URL of the STAC extension"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", si la propri\xe9t\xe9 ",(0,i.kt)("inlineCode",{parentName:"li"},"STAC")," n'est pas d\xe9finie dans le standard, le nom ou lien vers de cette extension"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"STAC property type"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel, d\xe9faut \xe0 'STRING']"),", avec une des valeurs suivantes : 'DATETIME', 'URL', 'STRING', 'ANGLE', 'LENGTH', 'PERCENTAGE', 'NUMBER', 'BOOLEAN', 'JSON_OBJECT'"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Format for the STAC value")),", si une transformation entre la valeur REGARDS et la valeur STAC est n\xe9cessaire - cf ",(0,i.kt)("a",{parentName:"li",href:"#format-dun-attribut-stac"},"Format d'un attribut STAC"),". Peut prendre la valeur ``"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Source model property path"))," ",(0,i.kt)("em",{parentName:"li"},"[Obligatoire]"),", le nom de l'attribut REGARDS, pr\xe9c\xe9d\xe9 du fragment si pr\xe9sent (",(0,i.kt)("strong",{parentName:"li"},"fragment.attribut"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"JSON property path (for a JSON type attribute only)"))," ",(0,i.kt)("em",{parentName:"li"},"[Optionnel]"),", si l'attribut est de type JSON, le chemin dans cet attribut pour acc\xe9der \xe0 l'attribut servant de date"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Format for the source property value"))," ????????????????")),(0,i.kt)("h3",{id:"propri\xe9t\xe9s-des-jeux-de-donn\xe9es"},"Propri\xe9t\xe9s des jeux de donn\xe9es"),(0,i.kt)("p",null,"La configuration du moteur de recherche STAC n\xe9cessite la configuration des propri\xe9t\xe9s des jeux de donn\xe9es STAC."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Dataset URNs")),", la liste des URN de dataset auquelle cette configuration s'applique"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"License")),", le nom de la licence auxquelles les donn\xe9es issues de ce jeu de donn\xe9es appartiennent"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Keywords")),", une liste de mots cl\xe9s"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"Providers")),", une liste de providers")),(0,i.kt)("p",null,"Chaque provider est d\xe9finie par :\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Provider name")),", le nom du fournisseur du jeu de donn\xe9es\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Provider description")),", la description du fournisseur du jeu de donn\xe9es\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Provider URL")),", l'URL du fournisseur du jeu de donn\xe9es\n",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Provider Role")),", le role du fournisseur du jeu de donn\xe9es. Valeur accept\xe9es: 'LICENSOR', 'PRODUCER', 'PROCESSOR', 'HOST'."),(0,i.kt)("h3",{id:"niveau-dans-larbre-des-collections-dynamiques"},"Niveau dans l'arbre des collections dynamiques"),(0,i.kt)("p",null,"Valeur par d\xe9faut : -1"),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"/images/user-documentation/v1.6/6-catalog-consultation/level-positive.png",alt:"level positive",height:"300px"})),"Cette valeur d\xe9finie le niveau au sein de l'arbre de la propri\xe9t\xe9 auquelle elle est rattach\xe9e. Si cette valeur est positive, la valeur est utilis\xe9e pour afficher l'attribut au niveau sp\xe9cifi\xe9.",(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"/images/user-documentation/v1.6/6-catalog-consultation/level-negative.png",alt:"level negative"})),"Si le champs est vide ou a une valeur n\xe9gative, le champs est ignor\xe9.",(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Chaque propri\xe9t\xe9 STAC devraient \xeatre \xe0 leur propre niveau dans l'arbre des collections dynamiques. Si plusieurs propri\xe9t\xe9s sont au m\xeame niveau, l'ordre des collections dynamiques n'est pas garantie."))),(0,i.kt)("h3",{id:"format-des-valeurs-propos\xe9es-dans-les-collections-dynamiques"},"Format des valeurs propos\xe9es dans les collections dynamiques"),(0,i.kt)("div",{align:"center"},(0,i.kt)("img",{src:"/images/user-documentation/v1.6/6-catalog-consultation/format-month.png",alt:"Format month"})),"Cet attribut permet de sp\xe9cifier le format d'une collection dynamique. Pour un m\xeame attribut, il est possible d'avoir des crit\xe8res plus ou moins pr\xe9cis pour restreindre tout autant les collections et donn\xe9es li\xe9es suivant la valeur qu'il sera donn\xe9 au param\xe8tre Format.",(0,i.kt)("p",null,"Les formats sont :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"pour les dates : ",(0,i.kt)("inlineCode",{parentName:"li"},"YEAR")," | ",(0,i.kt)("inlineCode",{parentName:"li"},"MONTH")," | ",(0,i.kt)("inlineCode",{parentName:"li"},"DAY")," | ",(0,i.kt)("inlineCode",{parentName:"li"},"HOUR")," | ",(0,i.kt)("inlineCode",{parentName:"li"},"MINUTE"),", pour les type d'attribut ",(0,i.kt)("inlineCode",{parentName:"li"},"DATETIME")),(0,i.kt)("li",{parentName:"ul"},"pour les nombres : ",(0,i.kt)("inlineCode",{parentName:"li"},"MIN;INTERVAL;MAX"),", pour les types ",(0,i.kt)("inlineCode",{parentName:"li"},"NUMBER"),", ou tout autre type bas\xe9 sur des nombres (ANGLE, LENGTH, PERCENTAGE). Par exemple, ",(0,i.kt)("inlineCode",{parentName:"li"},"5;10;95")),(0,i.kt)("li",{parentName:"ul"},"pour pr\xe9fixer les chaines de caract\xe8res de type ",(0,i.kt)("inlineCode",{parentName:"li"},"STRING")," : ",(0,i.kt)("inlineCode",{parentName:"li"},"PREFIX(X,Y)")," avec ",(0,i.kt)("inlineCode",{parentName:"li"},"X")," un nombre number and ",(0,i.kt)("inlineCode",{parentName:"li"},"Y")," est ",(0,i.kt)("inlineCode",{parentName:"li"},"A"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"9")," ou ",(0,i.kt)("inlineCode",{parentName:"li"},"A9"),". Par exemple, ",(0,i.kt)("inlineCode",{parentName:"li"},"PREFIX(3,A9))")),(0,i.kt)("li",{parentName:"ul"},'et les autres types STAC, ils seront trait\xe9s comme si leur type de valeur \xe9taient "EXACT". ')),(0,i.kt)("h4",{id:"type-exact"},"Type EXACT"),(0,i.kt)("p",null,"Ce type signifie que l'utilisateur peut sous cat\xe9goriser sur la valeur exacte de la propri\xe9t\xe9 des documents applicables. Si votre attribut est satellite et qu'il n'a que deux valeurs possibles, SPOT5 et Sentinel-2, alors cette propri\xe9t\xe9 dynamiques de type EXACT donnera lieu \xe0 deux sous niveaux :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"satellite=SPOT5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"satellite=Sentinel-2"))),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Attention aux performances")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Les administrateurs doivent garder en t\xeate que, du au manque de pagination dans le standart des collections STAC, l'utilisation de collection dynamique sur un attribut de type \"EXACT\" doit \xeatre utilis\xe9 uniquement \xe0 des niveaux o\xf9 ce terme n'a plus beaucoup de valeurs possibles, quelques dizaines au maximum."))),(0,i.kt)("h4",{id:"type-datetime"},"Type Datetime"),(0,i.kt)("p",null,"Le format d'un attribut datetime peut avoir une des valeurs suivantes :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"YEAR")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MONTH")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DAY")," - valeur par d\xe9faut"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"HOUR")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"MINUTE"))),(0,i.kt)("p",null,"Par example, si l'administrateur configure la propri\xe9t\xe9 datetime \xe0 ",(0,i.kt)("inlineCode",{parentName:"p"},"HOUR"),", alors il y aura les 4 sous-niveaux suivants:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Un premier niveau sur l'ann\xe9e, permettant de choisir une ann\xe9e parmis celles disponibles (",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2020"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021"),"...)"),(0,i.kt)("li",{parentName:"ul"},"Un second niveau sur le mois, parmi ceux disponibles (",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-01"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02"),"..., ",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-12"),")"),(0,i.kt)("li",{parentName:"ul"},"Un troisi\xe8me niveau sur les jours, parmi tous les jours du mois (",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02-01"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02-02"),"... ",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02-28"),")"),(0,i.kt)("li",{parentName:"ul"},"Un dernier niveau sur les heures, parmi toutes les heures de ce jour (toutes les valeurs sont propos\xe9es) (",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02-07T00"),"...",(0,i.kt)("inlineCode",{parentName:"li"},"datetime=2021-02-07T23"),")")),(0,i.kt)("h4",{id:"type-number"},"Type Number"),(0,i.kt)("p",null,"Le format d'un type nombre peut \xeatre configur\xe9 avec un ",(0,i.kt)("inlineCode",{parentName:"p"},"MIN;INTERVAL;MAX"),", s\xe9par\xe9 par des point-virgules."),(0,i.kt)("p",null,"Cela cr\xe9e un niveau de collection dynamique avec :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"une collection pour toutes les valeurs en dessous du minimum"),(0,i.kt)("li",{parentName:"ul"},"une collection par intervale, commen\xe7ant \xe0 la valeur minimale de cet ensemble jusqu'\xe0 la limite valeur minimale + intervale, et ce jusqu'au maximum"),(0,i.kt)("li",{parentName:"ul"},"une collection pour toutes les valeurs au dessus du maximum")),(0,i.kt)("p",null,"Par exemple, pour l'attribut ",(0,i.kt)("inlineCode",{parentName:"p"},"eo:cloud_coverage"),", l'administrateur pourrait configurer le format ",(0,i.kt)("inlineCode",{parentName:"p"},"5;10;95"),"."),(0,i.kt)("p",null,"Cette configuration cr\xe9e donc les collections suivantes : "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"eo:cloud_coverage < 5")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"5 < eo:cloud_coverage < 15")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"15 < eo:cloud_coverage < 25")),(0,i.kt)("li",{parentName:"ul"},"..."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"85 < eo:cloud_coverage < 95")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"eo:cloud_coverage > 95"))),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Attention aux performances")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Les administrateurs doit apporter une configuration qui ne g\xe9n\xe8re pas trop d'intervale, quelques dizaines au maximum."))),(0,i.kt)("h4",{id:"type-string"},"Type String"),(0,i.kt)("p",null,"Les propri\xe9t\xe9s de type String peuvent \xeatre format\xe9 via un prefixe de lettre / nombre."),(0,i.kt)("p",null,"Le format ",(0,i.kt)("inlineCode",{parentName:"p"},"PREFIX(X,Y)")," est d\xe9finie par :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"X")," la taille du prefix en nombre de caract\xe8re"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Y")," ",(0,i.kt)("inlineCode",{parentName:"li"},"[A|9|A9]"),"le type de caract\xe8re \xe0 consid\xe9rer. ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[A]"),", pour uniquement les caract\xe8res alphab\xe9tiques (de A \xe0 Z)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[9]"),", pour uniquement les caract\xe8res num\xe9riques (0 \xe0 9)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[A9]"),", pour les caract\xe8res alphab\xe9tiques et num\xe9riques")))),(0,i.kt)("p",null,"Par exemple, l'administrateur peut configurer sur l'attribut country le format ",(0,i.kt)("inlineCode",{parentName:"p"},"PREFIX(2,A)"),".\nCela cr\xe9e deux sous niveaux de collections dynamiques.\nAu premier niveau, on retrouve la premi\xe8re lettre du nom du pays :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=A...")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=B...")),(0,i.kt)("li",{parentName:"ul"},"..."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=Z..."))),(0,i.kt)("p",null,"Au second niveau, on retrouve la seconde lettre du nom du pays:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=FA...")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=FB...")),(0,i.kt)("li",{parentName:"ul"},"..."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"country=FZ..."))),(0,i.kt)("h3",{id:"format-dun-attribut-stac"},"Format d'un attribut STAC"),(0,i.kt)("p",null,"Le plugin STAC apporte un m\xe9canisme pour convertir des valeurs \xe0 l'aller et au retour entre le catalogue STAC et le format de stock\xe9 par REGARDS. En effet, le standart STAC d\xe9finie pour chaque attribut l'ensemble des valeurs qu'il peut prendre.\nPar exemple, si l'attribut cloud coverage est stock\xe9 dans REGARDS de 0 \xe0 1 (\"base 1\"), STAC s'attend \xe0 avoir cette valeur de 0 \xe0 100 (\"base 100\")."),(0,i.kt)("p",null,"Lorsque la valeur doit \xeatre affich\xe9e \xe0 l'utilisateur, cette valeur doit \xeatre multipli\xe9e par 100.\nLorsque l'utilisateur envoie une requ\xeate sur cet attribut, la valeur sera exprim\xe9 en \"base 100\", une division par 100 est donc n\xe9cessaire."),(0,i.kt)("p",null,"Pour g\xe9rer ces transformations, nous avons mis en place pour les attributs de type ",(0,i.kt)("inlineCode",{parentName:"p"},"PERCENTAGE")," la possibilit\xe9 de sp\xe9cifier dans le format de l'attribut STAC une des valeurs suivantes :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"HUNDRED"),": le pourcentage est represent\xe9 par des nombres entre 0 et 100"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ONE"),": le pourcentage est repr\xe9sent\xe9 par un nombre flotant entre 0 et 1")),(0,i.kt)("p",null,"La valeur par d\xe9faut est ",(0,i.kt)("inlineCode",{parentName:"p"},"HUNDRED"),"."))}c.isMDXComponent=!0}}]);
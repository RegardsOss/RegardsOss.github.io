"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[68783],{52589:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var r=t(74848),i=t(28453);const s={id:"backend-storage-import-export-configuration",title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",slug:"/development/services/storage/configuration/import-export",sidebar_position:1},a=void 0,l={id:"development/services/storage/configuration/backend-storage-import-export-configuration",title:"Configuration Importation/Exportation",description:"Microservices settings regroup a set of settings that are specific by tenant",source:"@site/docs/development/services/storage/configuration/storage-import-export.md",sourceDirName:"development/services/storage/configuration",slug:"/development/services/storage/configuration/import-export",permalink:"/docs/next/development/services/storage/configuration/import-export",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/development/services/storage/configuration/storage-import-export.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"backend-storage-import-export-configuration",title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",slug:"/development/services/storage/configuration/import-export",sidebar_position:1},sidebar:"dev",previous:{title:"S3 Glacier",permalink:"/docs/next/development/services/storage/plugins/s3glacier"},next:{title:"Static configuration",permalink:"/docs/next/development/services/storage/configuration/static-configuration"}},d={},o=[{value:"Import/Export API",id:"importexport-api",level:2},{value:"Configurable parameters",id:"configurable-parameters",level:2},{value:"Storage Location Configuration",id:"storage-location-configuration",level:3},{value:"Plugins configuration format",id:"plugins-configuration-format",level:3},{value:"Local plugin specific parameters",id:"local-plugin-specific-parameters",level:3},{value:"S3 plugin specific parameters",id:"s3-plugin-specific-parameters",level:3},{value:"S3 Glacier plugin specific parameters",id:"s3-glacier-plugin-specific-parameters",level:3},{value:"Example",id:"example",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Microservices settings regroup a set of settings that are specific by ",(0,r.jsx)(n.a,{href:"/docs/next/development/concepts/multitenant/",children:"tenant"}),"\nand stored in the microservice database."]}),"\n",(0,r.jsx)(n.h2,{id:"importexport-api",children:"Import/Export API"}),"\n",(0,r.jsxs)(n.p,{children:["To configure ",(0,r.jsx)(n.code,{children:"rs-storage"})," settings for a specific tenant, you need to follow the ",(0,r.jsx)(n.a,{href:"/docs/next/development/services/common/common-import-export-configuration",children:"generic Import/Export service\nconfiguration guide"}),", it will help you understand the expected JSON\nfile payload that you can send to the\n",(0,r.jsx)(n.a,{href:"/docs/next/development/backend/services/storage/api-swagger#tag/module-manager-controller/operation/importConfiguration",children:"import configuration endpoint"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["This configuration can also be imported or exported\nthrough the ",(0,r.jsx)(n.a,{href:"/docs/next/user-guide/project-configuration/microservices/",children:"administrator UI"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["When you import a plugin configuration, dataset (",(0,r.jsx)(n.code,{children:"resetBeforeImport"})," to false) :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"update dynamic tenant settings"}),"\n",(0,r.jsxs)(n.li,{children:["if the storage location exists (",(0,r.jsx)(n.em,{children:"name"})," exists), it returns an error"]}),"\n",(0,r.jsxs)(n.li,{children:["if the storage location does not exist (",(0,r.jsx)(n.em,{children:"name"})," does not exist), it creates it"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["When you set ",(0,r.jsx)(n.code,{children:"resetBeforeImport"})," to true :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rs-storage"})," resets only its dynamic tenants settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"rs-storage"})," does not remove any existing storage location (same behaviour with ",(0,r.jsx)(n.code,{children:"resetBeforeImport"})," to\nfalse with storage location)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configurable-parameters",children:"Configurable parameters"}),"\n",(0,r.jsxs)(n.p,{children:["Dynamic settings for ",(0,r.jsx)(n.code,{children:"rs-storage"})," microservice are :"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default value"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"rateLimit"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"-1 (unlimited)"}),(0,r.jsx)(n.td,{children:"Rate limit for file download"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tenantCachePath"}),(0,r.jsx)(n.td,{children:"Path (String)"}),(0,r.jsx)(n.td,{children:"/cache/[tenant]"}),(0,r.jsx)(n.td,{children:"Path where file will be temporarily saved when retrieved ."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"maxQuota"}),(0,r.jsx)(n.td,{children:"Integer (in kilobytes)"}),(0,r.jsx)(n.td,{children:"-1 (unlimited)"}),(0,r.jsx)(n.td,{children:"Default max quota (quantity of data that can be downloaded by a user) for RAWDATA download."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"cacheMaxSize"}),(0,r.jsx)(n.td,{children:"Integer (in Bytes)"}),(0,r.jsx)(n.td,{children:"500000000"}),(0,r.jsx)(n.td,{children:"Maximum size of the cache before it is cleaned"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"storage-location-configuration",children:"Storage Location Configuration"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Printed name of the storage location"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"storageType"}),(0,r.jsx)(n.td,{children:"Enum (String)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"/docs/next/development/backend/services/storage/overview/",children:"Online or Nearline"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"priority"}),(0,r.jsx)(n.td,{children:"Plugin configuration"}),(0,r.jsx)(n.td,{children:"Higher priorities will be accessed first if a file is stored on multiple locations."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"allocatedSizeInKo"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Size of the location. If full, no more file can be added."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"plugins-configuration-format",children:"Plugins configuration format"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"pluginId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Plugin unique identifier. Used to identify which plugin to use"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"businessId"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Plugin configuration unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"label"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Plugin configuration label."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"version"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Plugin configuration compatible version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"priorityOrder"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"plugin configuration priority."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"active"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Enable or disable plugin configuration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"parameters"}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Json format of the plugin configuration parameters (specific for each plugin)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"local-plugin-specific-parameters",children:"Local plugin specific parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Storage_URL"}),(0,r.jsx)(n.td,{children:"Path (String)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Root path on the file system where the files will be stored (/rootPath/subdirectory/checksum)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Local_Delete_Option"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If false, the files won't be deleted from the file system when they are deleted from regards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Local_Storage_Max_File_Size_For_Zip"}),(0,r.jsx)(n.td,{children:"Integer (in bytes)"}),(0,r.jsx)(n.td,{children:"1000"}),(0,r.jsx)(n.td,{children:"Maximal size of a file to be considered a small file so it uses the small file archival system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Local_Storage_Max_Zip_Size"}),(0,r.jsx)(n.td,{children:"Integer (in bytes )"}),(0,r.jsx)(n.td,{children:"500000000"}),(0,r.jsx)(n.td,{children:"Maximal size of an archive, no more files will be added once it reaches this size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"File_Naming_Strategy"}),(0,r.jsx)(n.td,{children:"Enum (String)"}),(0,r.jsx)(n.td,{children:"CHECKSUM"}),(0,r.jsx)(n.td,{children:"Either CHECKSUM or FILENAME, determine how the file will be named on the file system"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"s3-plugin-specific-parameters",children:"S3 plugin specific parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Endpoint"}),(0,r.jsx)(n.td,{children:"Url (String)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Endpoint where to reach the desired S3 server, this should contain the whole url and stop just before the bucket"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Region"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Region of the S3 server, this must match the region configured on the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Key"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Key (user) to access the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Secret"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Secret (password) to access the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Bucket"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Name of the S3 bucket where the files should be stored"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Root_Path"}),(0,r.jsx)(n.td,{children:"Path (String)"}),(0,r.jsx)(n.td,{children:"/"}),(0,r.jsx)(n.td,{children:"Root path on the S3 server where the files will be stored (host/pathtobucket/rootPath/subdirectory/checksum)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Upload_With_Multipart_Threshold_In_Mb"}),(0,r.jsx)(n.td,{children:"Integer (in megabytes)"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"For multipart upload, the file will be cut in part of this size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Upload_With_Multipart_Parallel_Part_Number"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"For multipart upload, number of parts that will be loaded in memory in REGARDS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Allow_Deletion"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If false, the files won't be deleted from the file system when they are deleted from regards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"File_Naming_Strategy"}),(0,r.jsx)(n.td,{children:"Enum (String)"}),(0,r.jsx)(n.td,{children:"CHECKSUM"}),(0,r.jsx)(n.td,{children:"Either CHECKSUM or FILENAME, determine how the file will be named on the file system"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"s3-glacier-plugin-specific-parameters",children:"S3 Glacier plugin specific parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Workspace_Path"}),(0,r.jsx)(n.td,{children:"Path (String)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Path to the workspace were the plugin will process the small files and regroup them in archives"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Small_File_Max_Size"}),(0,r.jsx)(n.td,{children:"Integer (in bytes)"}),(0,r.jsx)(n.td,{children:"1048576"}),(0,r.jsx)(n.td,{children:"Maximal size of a file to be considered a small file so it uses the small file archival system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Small_File_Archive_Max_Size"}),(0,r.jsx)(n.td,{children:"Integer (in bytes)"}),(0,r.jsx)(n.td,{children:"10485760"}),(0,r.jsx)(n.td,{children:"Maximal size of an archive, the archive will be closed and stored when it reaches this size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Small_File_Archive_Duration_In_Hours"}),(0,r.jsx)(n.td,{children:"Integer (in hours)"}),(0,r.jsx)(n.td,{children:"24"}),(0,r.jsx)(n.td,{children:"Maximal age of an archive after which it will be closed and stored, even if it isn't full"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Parallel_Restore_Number"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"20"}),(0,r.jsx)(n.td,{children:"Number of files restoration in parallel, each restoration need an active thread idling until the file is restored"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Parallel_Upload_Number"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"Number of upload to process at the same time, an higher number will require more resources from the microservice"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_Local_Workspace_File_Lifetime_In_Hours"}),(0,r.jsx)(n.td,{children:"Integer (in hours)"}),(0,r.jsx)(n.td,{children:"24"}),(0,r.jsx)(n.td,{children:"How long will the restored small file archived will be kept in regards cache before being deleted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Glacier_S3_Access_Try_Timeout"}),(0,r.jsx)(n.td,{children:"Integer (in seconds)"}),(0,r.jsx)(n.td,{children:"3600"}),(0,r.jsx)(n.td,{children:"How long the restoration process will wait for the restored file to be available before failing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"standardStorageClassName"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"STANDARD"}),(0,r.jsx)(n.td,{children:"The name of the storage class were files are moved to be available (Tier 2)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"useExternalCacheName"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If true, this storage will use the cache of the S3 Server instead of the cache of REGARDS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Endpoint"}),(0,r.jsx)(n.td,{children:"Url (String)"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Endpoint where to reach the desired S3 server, this should contain the whole url and stop just before the bucket"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Region"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Region of the S3 server, this must match the region configured on the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Key"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Key (user) to access the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Secret"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Secret (password) to access the server"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Server_Bucket"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"Name of the S3 bucket where the files should be stored"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Root_Path"}),(0,r.jsx)(n.td,{children:"Path (String)"}),(0,r.jsx)(n.td,{children:"/"}),(0,r.jsx)(n.td,{children:"Root path on the S3 server where the files will be stored (host/pathtobucket/rootPath/subdirectory/checksum)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Upload_With_Multipart_Threshold_In_Mb"}),(0,r.jsx)(n.td,{children:"Integer (in megabytes)"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"For multipart upload, the file will be cut in part of this size"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Upload_With_Multipart_Parallel_Part_Number"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"For multipart upload, number of parts that will be loaded in memory in REGARDS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"S3_Allow_Deletion"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"If false, the files won't be deleted from the file system when they are deleted from regards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"File_Naming_Strategy"}),(0,r.jsx)(n.td,{children:"Enum (String)"}),(0,r.jsx)(n.td,{children:"CHECKSUM"}),(0,r.jsx)(n.td,{children:"Either CHECKSUM or FILENAME, determine how the file will be named on the file system"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:"title='rs-storage configuration file example'",children:'{\n  "microservice": "rs-storage",\n  "modules": [\n    {\n      "module": {\n        "id": "storage",\n        "name": "Storage module",\n        "description": "Handle storage locations, and files management processes",\n        "version": "1.6.0",\n        "author": "REGARDS",\n        "legalOwner": "CNES",\n        "documentation": "https://github.com/RegardsOss"\n      },\n      "resetBeforeImport": false,\n      "configuration": [\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "rateLimit",\n            "description": "Default rate limit for RAWDATA download. Must be \\u003e -1.",\n            "value": "-1",\n            "defaultValue": "-1",\n            "className": "java.lang.Long",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "tenantCachePath",\n            "description": "Cache path for this tenant. The path does not need to exist but it has to be readable and writable if it does.",\n            "value": "\\"/cache/tenant1\\"",\n            "defaultValue": "\\"/cache/tenant1\\"",\n            "className": "sun.nio.fs.UnixPath",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "maxQuota",\n            "description": "Default max quota for RAWDATA download. Must be \\u003e -1.",\n            "value": "-1",\n            "defaultValue": "-1",\n            "className": "java.lang.Long",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.framework.modules.tenant.settings.domain.DynamicTenantSetting",\n          "value": {\n            "name": "cacheMaxSize",\n            "description": "Cache max size for this tenant in kilo-bytes. it has to be \\u003e0",\n            "value": "500000000",\n            "defaultValue": "500000000",\n            "className": "java.lang.Long",\n            "containsSensitiveParameters": false\n          }\n        },\n        {\n          "key": "fr.cnes.regards.modules.storage.domain.database.StorageLocationConfiguration",\n          "value": {\n            "name": "Local",\n            "pluginConfiguration": {\n              "pluginId": "Local",\n              "label": "Local",\n              "businessId": "Local",\n              "version": "1.0",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": [\n                {\n                  "name": "Storage_URL",\n                  "type": "STRING",\n                  "value": "/storages/tenant1/local",\n                  "dynamic": false\n                },\n                {\n                  "name": "Local_Delete_Option",\n                  "type": "BOOLEAN",\n                  "value": true,\n                  "dynamic": false\n                }\n              ]\n            },\n            "storageType": "ONLINE",\n            "priority": 0,\n            "allocatedSizeInKo": 150000000\n          }\n        },\n        {\n          "key": "fr.cnes.regards.modules.storage.domain.database.StorageLocationConfiguration",\n          "value": {\n            "name": "S3-Minio",\n            "pluginConfiguration": {\n              "pluginId": "S3",\n              "label": "S3-Minio",\n              "businessId": "S3-Minio",\n              "version": "1.0",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": [\n                {\n                  "name": "S3_Server_Bucket",\n                  "type": "STRING",\n                  "value": "bucket-tenant1",\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Region",\n                  "type": "STRING",\n                  "value": "fr",\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Secret",\n                  "type": "STRING",\n                  "value": "abcdefghijklmnopqrstuvwxyz",\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Endpoint",\n                  "type": "STRING",\n                  "value": "http://rs-minio:9000",\n                  "dynamic": false\n                },\n                {\n                  "name": "Upload_With_Multipart_Threshold_In_Mb",\n                  "type": "INTEGER",\n                  "value": 5,\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Allow_Deletion",\n                  "type": "BOOLEAN",\n                  "value": false,\n                  "dynamic": false\n                },\n                {\n                  "name": "Upload_With_Multipart_Parallel_Part_Number",\n                  "type": "INTEGER",\n                  "value": 5,\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Key",\n                  "type": "STRING",\n                  "value": "regards",\n                  "dynamic": false\n                }\n              ]\n            },\n            "storageType": "ONLINE",\n            "priority": 3,\n            "allocatedSizeInKo": 5000000\n          }\n        },\n        {\n          "key": "fr.cnes.regards.modules.storage.domain.database.StorageLocationConfiguration",\n          "value": {\n            "name": "S3-Glacier",\n            "pluginConfiguration": {\n              "pluginId": "S3Glacier",\n              "label": "S3-Glacier",\n              "businessId": "S3-Glacier",\n              "version": "1.0",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": [\n                {\n                  "name": "S3_Server_Bucket",\n                  "type": "STRING",\n                  "value": "bucket-glacier-tenant1",\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Small_File_Archive_Duration_In_Hours",\n                  "type": "INTEGER",\n                  "value": 24,\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Secret",\n                  "type": "STRING",\n                  "value": "abcdefghijklmnopqrstuvwxyz",\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Region",\n                  "type": "STRING",\n                  "value": "fr",\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Endpoint",\n                  "type": "STRING",\n                  "value": "http://rs-minio:9000",\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Workspace_Path",\n                  "type": "STRING",\n                  "value": "/storages/glacier/tenant1",\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_S3_Access_Try_Timeout",\n                  "type": "INTEGER",\n                  "value": 3600,\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Local_Workspace_File_Lifetime_In_Hours",\n                  "type": "INTEGER",\n                  "value": 24,\n                  "dynamic": false\n                },\n                {\n                  "name": "Upload_With_Multipart_Threshold_In_Mb",\n                  "type": "INTEGER",\n                  "value": 5,\n                  "dynamic": false\n                },\n                {\n                  "name": "Upload_With_Multipart_Parallel_Part_Number",\n                  "type": "INTEGER",\n                  "value": 5,\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Parallel_Upload_Number",\n                  "type": "INTEGER",\n                  "value": 20,\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Small_File_Max_Size",\n                  "type": "INTEGER",\n                  "value": 1024,\n                  "dynamic": false\n                },\n                {\n                  "name": "Root_Path",\n                  "type": "STRING",\n                  "value": "tenant1/example",\n                  "dynamic": false\n                },\n                {\n                  "name": "File_Naming_Strategy",\n                  "type": "STRING",\n                  "value": "CHECKSUM",\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Parallel_Restore_Number",\n                  "type": "INTEGER",\n                  "value": 20,\n                  "dynamic": false\n                },\n                {\n                  "name": "useExternalCacheName",\n                  "type": "BOOLEAN",\n                  "value": false,\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Allow_Deletion",\n                  "type": "BOOLEAN",\n                  "value": true,\n                  "dynamic": false\n                },\n                {\n                  "name": "Glacier_Small_File_Archive_Max_Size",\n                  "type": "INTEGER",\n                  "value": 20000,\n                  "dynamic": false\n                },\n                {\n                  "name": "S3_Server_Key",\n                  "type": "STRING",\n                  "value": "regards",\n                  "dynamic": false\n                }\n              ]\n            },\n            "storageType": "NEARLINE",\n            "priority": 1,\n            "allocatedSizeInKo": 500000000\n          }\n        }\n      ]\n    }\n  ]\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);
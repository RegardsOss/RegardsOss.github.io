"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[15346],{77537:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>n,metadata:()=>c,toc:()=>a});var i=s(74848),r=s(28453);const n={id:"backend-processing-static-configuration",title:"Processing static configuration",sidebar_label:"Static configuration",slug:"/development/backend/services/processing/configuration/static-configuration"},o=void 0,c={id:"development/services/processing/configuration/backend-processing-static-configuration",title:"Processing static configuration",description:"Static configuration is the microservice configuration set before microservice startup in a property file.",source:"@site/versioned_docs/version-2.1.0/development/services/processing/configuration/processing-static-configuration.md",sourceDirName:"development/services/processing/configuration",slug:"/development/backend/services/processing/configuration/static-configuration",permalink:"/docs/2.1.0/development/backend/services/processing/configuration/static-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-2.1.0/development/services/processing/configuration/processing-static-configuration.md",tags:[],version:"2.1.0",frontMatter:{id:"backend-processing-static-configuration",title:"Processing static configuration",sidebar_label:"Static configuration",slug:"/development/backend/services/processing/configuration/static-configuration"},sidebar:"dev",previous:{title:"Importation/Exportation",permalink:"/docs/2.1.0/development/backend/services/processing/configuration/import-export"},next:{title:"Metrics",permalink:"/docs/2.1.0/development/services/processing/metrics/"}},d={},a=[];function l(e){const t={a:"a",admonition:"admonition",code:"code",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Static configuration is the microservice configuration set before microservice startup in a property file.\nThis configuration is common to all tenant."}),"\n",(0,i.jsxs)(t.p,{children:["Static configuration for ",(0,i.jsx)(t.code,{children:"Processing"})," service are :"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Name"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Default Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.sharedStorage.basePath"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsxs)(t.td,{children:["Path to a shared storage for processes which need it to store output files.",(0,i.jsx)("br",{}),"A process may be programmed to create output files anywhere accessible by an URL, but the Processing service provides as a convenience a shared storage accessible to all REGARDS modules needing to access output files, as a mount point in the file system. This way, output files can be passed as file protocol URLs"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.executionWorkdir.basePath"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsxs)(t.td,{children:["Path to a file system directory where a folder is created for each execution.",(0,i.jsx)("br",{})," For processes which may use them, as a convenience, the Processing service provides utilities to create execution work directories. These execution workdirs are created as file system children of this parameter's value"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.cleanup.batch.age.ms"}),(0,i.jsx)(t.td,{children:"long"}),(0,i.jsx)(t.td,{children:"604800000"}),(0,i.jsxs)(t.td,{children:["Minimum for old terminated batches selected for suppression.",(0,i.jsx)("br",{}),"Old batches, for which all executions are in a final state, are regularly cleaned up. This property say how much time after the last execution's last update a batch is considered too old and is selected for deletion."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.cleanup.batch.rate.ms"}),(0,i.jsx)(t.td,{children:"long"}),(0,i.jsx)(t.td,{children:"3600000"}),(0,i.jsx)(t.td,{children:"How often we look for old batches to delete them."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.host"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Host to connect to the database."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.port"}),(0,i.jsx)(t.td,{children:"integer"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Port to connect to the database."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.username"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Username to connect to the database."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.password"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Password to connect to the database."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.dbname"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"Name of the database to connect to."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.schema"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"null"}),(0,i.jsx)(t.td,{children:"Schema of the database to connect to."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.pool.size.min"}),(0,i.jsx)(t.td,{children:"integer"}),(0,i.jsx)(t.td,{children:"1"}),(0,i.jsx)(t.td,{children:"Minimum pool size of the database to connect to."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.r2dbc.pool.size.max"}),(0,i.jsx)(t.td,{children:"integer"}),(0,i.jsx)(t.td,{children:"2"}),(0,i.jsx)(t.td,{children:"Maximum pool size of the database to connect to."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.outputfiles.cleanup.cron"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"0 0 */2 * * *"}),(0,i.jsx)(t.td,{children:"Output files saved in the storage are cleaned up regularly. This cron expression defines how often. Default value is every two hours."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"regards.processing.executions.timedout.cleanup.cron"}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"0 0 */6 * * *"}),(0,i.jsx)(t.td,{children:"When an execution is created, we use the duration forecast of its parent process to determine an expected runtime duration. This time is multiplied by two and saved in base. At every trigger of this cron expression, we look for executions that are still running after this saved duration, and declare them as timed out. This puts them in a final state and notifies the user of the time out. Users may choose to retry."})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Some other properties can be updated, please check\n",(0,i.jsx)(t.a,{href:"/docs/setup/swarm/advanced/optimizations#processing-optimization",children:"Processing section in the install guide"}),"."]}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsxs)(t.p,{children:["Some of these properties are customizable in ansible inventory.\n",(0,i.jsx)(t.a,{href:"http://localhost:3000/docs/next/setup/swarm/advanced/optimizations",children:"see installation guide"})]}),(0,i.jsx)(t.p,{children:"To make missing properties customizable, you have to update regards ansible playbook : the regards-mconfig role."})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var i=s(96540);const r={},n=i.createContext(r);function o(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);
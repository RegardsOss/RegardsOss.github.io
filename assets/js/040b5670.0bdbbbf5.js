"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[23017],{32434:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var r=i(74848),t=i(28453);const s={id:"backend-notifier-plugins",title:"Notifier plugins",sidebar_label:"Notifier",slug:"/development/backend/services/notifier/plugins/"},o=void 0,a={id:"development/backend/regards/notifier/plugins/backend-notifier-plugins",title:"Notifier plugins",description:"Rule matcher plugins",source:"@site/versioned_docs/version-1.14/development/backend/regards/notifier/plugins/notifier-plugins.md",sourceDirName:"development/backend/regards/notifier/plugins",slug:"/development/backend/services/notifier/plugins/",permalink:"/docs/1.14/development/backend/services/notifier/plugins/",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.14/development/backend/regards/notifier/plugins/notifier-plugins.md",tags:[],version:"1.14",frontMatter:{id:"backend-notifier-plugins",title:"Notifier plugins",sidebar_label:"Notifier",slug:"/development/backend/services/notifier/plugins/"},sidebar:"dev",previous:{title:"Notifier configuration",permalink:"/docs/1.14/development/backend/services/notifier/api/configuration/"},next:{title:"Overview",permalink:"/docs/1.14/development/backend/services/order/overview/"}},l={},c=[{value:"Rule matcher plugins",id:"rule-matcher-plugins",level:2},{value:"DefaultRuleMatcher",id:"defaultrulematcher",level:3},{value:"LuceneRuleMatcher :",id:"lucenerulematcher-",level:3},{value:"Recipient sender plugins",id:"recipient-sender-plugins",level:2},{value:"RabbitMQSender",id:"rabbitmqsender",level:3},{value:"Recipients / Rules association",id:"recipients--rules-association",level:2}];function u(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"rule-matcher-plugins",children:"Rule matcher plugins"}),"\n",(0,r.jsx)(n.p,{children:"Rules are used to define if a notification should be sent to associated RecipientSenders."}),"\n",(0,r.jsx)(n.h3,{id:"defaultrulematcher",children:"DefaultRuleMatcher"}),"\n",(0,r.jsxs)(n.p,{children:["This rule matcher allows to check into notification content if a json property matches a specific value. If so, the notification is sent to associated senders.",(0,r.jsx)(n.br,{}),"\n","Configuration parameters are :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"attributeToSeek : attribut name to search for the notification json content."}),"\n",(0,r.jsx)(n.li,{children:"attributeValueToSeek : attribut value to match."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To configure this plugin, use the here-under configuration block in ",(0,r.jsx)(n.a,{href:"/docs/1.14/development/backend/services/notifier/api/configuration/",children:"import service configuration"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:' {\n  "key": "fr.cnes.regards.framework.modules.plugins.domain.PluginConfiguration",\n  "value": {\n    "pluginId":"DefaultRuleMatcher",\n    "label":"{label}",\n    "businessId":"{uniqueIdentifier}",\n    "version":"1.0.0",\n    "priorityOrder":0,\n    "active":true,\n    "parameters":[\n      {"name":"attributeValueToSeek", "type":"STRING", "value":"{attribute to searh for}"},\n      {"name":"attributeToSeek", "type":"STRING", "value":"{value to match}"}\n    ]\n  }\n}      \n'})}),"\n",(0,r.jsx)(n.h3,{id:"lucenerulematcher-",children:"LuceneRuleMatcher :"}),"\n",(0,r.jsx)(n.p,{children:"This rule matcher allows to check if the given lucene expression match the notification json object content. If so, the notification is sent to associated senders.\nConfiguration parameters are :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["luceneRule : Lucene expression to seek ",(0,r.jsx)(n.a,{href:"/docs/1.14/development/appendices/lucene-query/",children:"example"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To configure this plugin, use the here-under configuration block in ",(0,r.jsx)(n.a,{href:"/docs/1.14/development/backend/services/notifier/api/configuration/",children:"import service configuration"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:' {\n  "key": "fr.cnes.regards.framework.modules.plugins.domain.PluginConfiguration",\n  "value": {\n    "pluginId":"LuceneRuleMatcher",\n    "label":"{label}",\n    "businessId":"{uniqueIdentifier}",\n    "version":"1.0.0",\n    "priorityOrder":0,\n    "active":true,\n    "parameters":[\n      {"name":"luceneRule", "type":"STRING", "value":"{lucene rule}"},\n    ]\n  }\n}      \n'})}),"\n",(0,r.jsx)(n.h2,{id:"recipient-sender-plugins",children:"Recipient sender plugins"}),"\n",(0,r.jsx)(n.p,{children:"Senders are used to define how to send notification to recipients."}),"\n",(0,r.jsx)(n.h3,{id:"rabbitmqsender",children:"RabbitMQSender"}),"\n",(0,r.jsxs)(n.p,{children:["This sender is used to send notifications on a specific RabbitMQ couple exchange/queue with no transformation applied to the input.",(0,r.jsx)(n.br,{}),"\n","Configuration parameters are :"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"exchange : Name  of the  exchange to use"}),"\n",(0,r.jsx)(n.li,{children:"queueName : Name of the queue to use"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To configure this plugin, use the here-under configuration block in ",(0,r.jsx)(n.a,{href:"/docs/1.14/development/backend/services/notifier/api/configuration/",children:"import service configuration"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:' {\n     "key": "fr.cnes.regards.framework.modules.plugins.domain.PluginConfiguration",\n     "value": {\n     "pluginId":"RabbitMQSender",\n     "label":"{label}",\n     "businessId":"{uniqueIdentifier}",\n     "version":"1.0.0",\n     "priorityOrder":0,\n     "active":true,\n     "parameters":[\n       {"name":"exchange", "type":"STRING", "value":"{exchange name to use}"},\n       {"name":"queueName", "type":"STRING", "value":"{queue name to use}"}\n     ]\n   }\n},\n'})}),"\n",(0,r.jsx)(n.h2,{id:"recipients--rules-association",children:"Recipients / Rules association"}),"\n",(0,r.jsxs)(n.p,{children:["In order to have a functional notification system, the last configuration to make is to associate your recipients to your rules. You can associate one rule too many recipients.\nTo do so, please use the here under configuration block in ",(0,r.jsx)(n.a,{href:"/docs/1.14/development/backend/services/notifier/api/configuration/",children:"import module configuration"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "key": "fr.cnes.regards.modules.notifier.dto.conf.RuleRecipientsAssociation",\n  "value": {\n     "ruleId": "{businessId of rule configuration}",\n     "recipientIds" : ["{businessId of recipient configuration}"]\n  }\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(96540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);
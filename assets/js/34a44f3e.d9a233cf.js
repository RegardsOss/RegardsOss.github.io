"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[81863],{7405:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=o(74848),d=o(28453);const s={id:"backend-catalog-download-product-file-api",title:"Download product file API",sidebar_label:"Download product file API",slug:"/development/backend/services/catalog/download-product-file-api/"},t=void 0,a={id:"development/backend/regards/catalog/api-guides/backend-catalog-download-product-file-api",title:"Download product file API",description:"_This page assumes you know how to authenticate your REST API",source:"@site/versioned_docs/version-1.15/development/backend/regards/catalog/api-guides/download-product-file-api.md",sourceDirName:"development/backend/regards/catalog/api-guides",slug:"/development/backend/services/catalog/download-product-file-api/",permalink:"/docs/1.15/development/backend/services/catalog/download-product-file-api/",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.15/development/backend/regards/catalog/api-guides/download-product-file-api.md",tags:[],version:"1.15",frontMatter:{id:"backend-catalog-download-product-file-api",title:"Download product file API",sidebar_label:"Download product file API",slug:"/development/backend/services/catalog/download-product-file-api/"},sidebar:"dev",previous:{title:"Search Engine API",permalink:"/docs/1.15/development/backend/services/catalog/search-api/"},next:{title:"Product file restoration API",permalink:"/docs/1.15/development/backend/services/catalog/file-restoration-api/"}},r={},l=[{value:"Search products and files",id:"search-products-and-files",level:2},{value:"Download file",id:"download-file",level:2}];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This page assumes you know how ",(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/regards/authentication/api-guides/get-token-curl.md",children:"to authenticate"})," your REST API\nrequests"]})}),"\n",(0,i.jsx)(n.p,{children:"This section introduces you the API provided by REGARDS to download product files."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#search-products-and-files",children:"Search products and files"})," gives you the status of the file and where to download it."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#download-file",children:"Download file"})," to download"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"search-products-and-files",children:"Search products and files"}),"\n",(0,i.jsxs)(n.p,{children:["REGARDS offers many ways to search product, you can refer to ",(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/services/catalog/search-api/",children:"product search guide"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="A nearline product file - standard lucene search engine"',children:'{\n  "id": "URN:FEATURE:DATA:tenant:50fe35a3-e085-3eb1-bb61-86ab3fdeb7dd:V3",\n  "providerId": "DATA-06-20220613-2390",\n  "entityType": "DATA",\n  ...,\n  "files": {\n    "RAWDATA": [\n      {\n        "dataType": "RAWDATA",\n        "reference": false,\n        "uri": "https://regards.host.com/api/v1/rs-catalog/downloads/URN:FEATURE:DATA:tenant:50fe35a3-e085-3eb1-bb61-86ab3fdeb7dd:V3/files/BF39BC048B52618838529D9D98043190",\n        "mimeType": "application/xml",\n        "online": false,\n        "checksum": "BF39BC048B52618838529D9D98043190",\n        "digestAlgorithm": "MD5",\n        "filesize": 190,\n        "filename": "iso.xml",\n        "types": []\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"On every product files returned by standard lucene search engine, you have an"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"online"})," attribute:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"})," means the file is always available, and you can ",(0,i.jsx)(n.a,{href:"#download-file",children:"download it"})," without restore it."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"})," means the file is ",(0,i.jsx)(n.strong,{children:"nearline"}),", you need\nto ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/services/catalog/file-restoration-api/",children:"check and restore product files when required"})})," first."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"reference"})," attribute:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"})," means the file is provided by another service, external to REGARDS."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"})," means REGARDS provides an URI to download the product files."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Reference attribute and authentication",type:"info",children:(0,i.jsxs)(n.p,{children:["Tips : In the response, if ",(0,i.jsx)(n.code,{children:"reference"})," value is ",(0,i.jsx)(n.strong,{children:"true"}),", authentication token is not needed, because file is not\nstored by REGARDS."]})}),"\n",(0,i.jsx)(n.admonition,{title:"Differences between search engines",type:"note",children:(0,i.jsxs)(n.p,{children:["If you don't use the standard lucene search engine (like STAC or OpenSearch), the response does not contain the ",(0,i.jsx)(n.code,{children:"online"}),"\nand ",(0,i.jsx)(n.code,{children:"reference"})," attribute.",(0,i.jsx)(n.br,{}),"\n","It means you need to ",(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/services/catalog/file-restoration-api/",children:"check and restore product files when required"})," before trying\nto download."]})}),"\n",(0,i.jsx)(n.h2,{id:"download-file",children:"Download file"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/services/catalog/api-swagger#tag/catalog-download-controller/operation/downloadFile",children:"download product file endpoint"}),"\nrequires the product URN and file checksum.",(0,i.jsx)(n.br,{}),"\n","Download is possible only if:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["the file is ",(0,i.jsx)(n.a,{href:"/docs/1.15/development/backend/services/catalog/file-restoration-api/#check-product-availability-endpoint",children:"available"})]}),"\n",(0,i.jsx)(n.li,{children:"user has access right"}),"\n",(0,i.jsx)(n.li,{children:"license of the dataset has been accepted (needed if license is not public)"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var i=o(96540);const d={},s=i.createContext(d);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
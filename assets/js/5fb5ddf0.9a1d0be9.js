"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[11011],{30099:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var i=t(74848),r=t(28453);const o={title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",sidebar_position:1,slug:"/development/backend/services/dataprovider/configuration/import-export"},a=void 0,s={id:"development/services/dataprovider/configuration/dataprovider-import-export",title:"Configuration Importation/Exportation",description:"Microservices settings regroup a set of settings that are specific by tenant",source:"@site/versioned_docs/version-2.2.0/development/services/dataprovider/configuration/dataprovider-import-export.md",sourceDirName:"development/services/dataprovider/configuration",slug:"/development/backend/services/dataprovider/configuration/import-export",permalink:"/docs/2.2.0/development/backend/services/dataprovider/configuration/import-export",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-2.2.0/development/services/dataprovider/configuration/dataprovider-import-export.md",tags:[],version:"2.2.0",sidebarPosition:1,frontMatter:{title:"Configuration Importation/Exportation",sidebar_label:"Importation/Exportation",sidebar_position:1,slug:"/development/backend/services/dataprovider/configuration/import-export"},sidebar:"dev",previous:{title:"Available plugins",permalink:"/docs/2.2.0/development/backend/services/dataprovider/plugins/listing"},next:{title:"Static configuration",permalink:"/docs/2.2.0/development/backend/services/dataprovider/configuration/static-configuration"}},d={},c=[{value:"Import/Export API",id:"importexport-api",level:2},{value:"Example",id:"example",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Microservices settings regroup a set of settings that are specific by ",(0,i.jsx)(n.a,{href:"/docs/2.2.0/development/concepts/multitenant/",children:"tenant"}),"\nand stored in the microservice database."]}),"\n",(0,i.jsx)(n.h2,{id:"importexport-api",children:"Import/Export API"}),"\n",(0,i.jsxs)(n.p,{children:["To configure ",(0,i.jsx)(n.code,{children:"rs-dataprovider"})," settings for a specific tenant, you need to follow the ",(0,i.jsx)(n.a,{href:"/docs/2.2.0/development/services/common/common-import-export-configuration",children:"generic Import/Export service\nconfiguration guide"}),", it will help you understand the expected JSON\nfile payload that you can send to the\n",(0,i.jsx)(n.a,{href:"/docs/2.2.0/development/backend/services/dataprovider/api-swagger#tag/module-manager-controller/operation/importConfiguration",children:"import configuration endpoint"}),"."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Configuration type"}),(0,i.jsx)(n.th,{children:"Available"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Import configuration in json format"}),(0,i.jsx)(n.td,{children:"True"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Export configuration in json format"}),(0,i.jsx)(n.td,{children:"True"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Reset configuration before import"}),(0,i.jsx)(n.td,{children:"False"}),(0,i.jsx)(n.td,{children:"Not implemented yet"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["This configuration can also be imported or exported\nthrough the ",(0,i.jsx)(n.a,{href:"/docs/2.2.0/user-guide/project-configuration/microservices/",children:"administrator UI"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:"title='rs-dataprovider configuration example'",children:'{\n  "microservice": "rs-dataprovider",\n  "modules": [\n    {\n      "module": {\n        "id": "acquisition",\n        "name": "Acquisition module",\n        "description": "Data driven SIP creation",\n        "version": "1.6.0",\n        "author": "REGARDS",\n        "legalOwner": "CNES",\n        "documentation": "https://github.com/RegardsOss"\n      },\n      "resetBeforeImport": false,\n      "configuration": [\n        {\n          "key": "fr.cnes.regards.modules.acquisition.domain.chain.AcquisitionProcessingChain",\n          "value": {\n            "label": "Departements francais",\n            "active": true,\n            // This parameter is not taken in account when importing configuration.\n            "mode": "MANUAL",\n            "periodicity": "0 * * * * *",\n            "ingestChain": "Departements",\n            // name of the ingest chain in INGEST service\n            "storages": [\n              // configure storages per dataType.\n              {\n                "pluginBusinessId": "Local",\n                "storePath": "",\n                "targetTypes": [\n                  "THUMBNAIL",\n                  "RAWDATA",\n                  "DOCUMENT",\n                  "QUICKLOOK_SD",\n                  "DESCRIPTION",\n                  "AIP",\n                  "QUICKLOOK_HD",\n                  "QUICKLOOK_MD",\n                  "OTHER"\n                ]\n              }\n            ],\n            "categories": [\n              "France"\n            ],\n            "versioningMode": "INC_VERSION",\n            "fileInfos": [\n              {\n                "mandatory": true,\n                "scanPlugin": {\n                  "pluginId": "GeoJsonFeatureCollectionParserPlugin",\n                  "label": "scanPlugin-1575378375954",\n                  "businessId": "9ea15f34-9947-4a12-ae72-ecc299193a81",\n                  "version": "1.0.0-SNAPSHOT",\n                  "priorityOrder": 0,\n                  "active": true,\n                  "parameters": [\n                    {\n                      "name": "featureId",\n                      "type": "STRING",\n                      "value": "nom",\n                      "dynamic": false\n                    },\n                    {\n                      "name": "allowEmptyFeatures",\n                      "type": "BOOLEAN",\n                      "value": false,\n                      "dynamic": false\n                    }\n                  ]\n                },\n                "mimeType": "application/json",\n                "dataType": "RAWDATA",\n                "comment": "Geojson",\n                "scanDirInfo": [\n                  {\n                    "scannedDirectory": "/input/geojson/departements",\n                    "lastModificationDate": "2024-06-17T16:04:56.615919Z"\n                  }\n                ]\n              }\n            ],\n            "validationPluginConf": {\n              "pluginId": "DefaultFileValidation",\n              "label": "validationPluginConf-1575378301041",\n              "businessId": "3dbff482-346f-47e8-8845-d5e91cca7b21",\n              "version": "1.0.0-SNAPSHOT",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": []\n            },\n            "productPluginConf": {\n              "pluginId": "DefaultProductPlugin",\n              "label": "productPluginConf-1575378301041",\n              "businessId": "5fed19f6-b2e9-4f0d-b2f4-9137d60a4725",\n              "version": "1.0.0-SNAPSHOT",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": [\n                {\n                  "name": "removeExtension",\n                  "type": "BOOLEAN",\n                  "value": true,\n                  "dynamic": false\n                },\n                {\n                  "name": "extensions",\n                  "type": "COLLECTION",\n                  "value": [\n                    "json"\n                  ],\n                  "dynamic": false\n                },\n                {\n                  "name": "maxLengthRequired",\n                  "type": "BOOLEAN",\n                  "value": false,\n                  "dynamic": false\n                }\n              ]\n            },\n            "generateSipPluginConf": {\n              "pluginId": "ReadSIPFromFile",\n              "label": "generateSipPluginConf-1575378301041",\n              "businessId": "c27d965e-975a-439a-a4aa-e97b7dec6971",\n              "version": "1.0.0-SNAPSHOT",\n              "priorityOrder": 0,\n              "active": true,\n              "parameters": []\n            },\n            "productsStored": true\n          }\n        }\n      ]\n    }\n  ]\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(96540);const r={},o=i.createContext(r);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
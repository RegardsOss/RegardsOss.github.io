"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[59334],{3905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>g});var r=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var p=r.createContext({}),m=function(t){var e=r.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},d=function(t){var e=m(t.components);return r.createElement(p.Provider,{value:e},t.children)},s="mdxType",k={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,i=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),s=m(a),u=n,g=s["".concat(p,".").concat(u)]||s[u]||k[u]||i;return a?r.createElement(g,l(l({ref:e},d),{},{components:a})):r.createElement(g,l({ref:e},d))}));function g(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o[s]="string"==typeof t?t:n,l[1]=o;for(var m=2;m<i;m++)l[m]=a[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},22510:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>o,toc:()=>m});var r=a(87462),n=(a(67294),a(3905));const i={id:"optimizations",title:"Microservices optimizations",slug:"/setup/swarm/advanced/optimizations/"},l=void 0,o={unversionedId:"setup/advanced/optimizations",id:"version-1.12.0/setup/advanced/optimizations",title:"Microservices optimizations",description:"Introduction",source:"@site/versioned_docs/version-1.12.0/setup/advanced/swarm-optimizations.md",sourceDirName:"setup/advanced",slug:"/setup/swarm/advanced/optimizations/",permalink:"/docs/1.12.0/setup/swarm/advanced/optimizations/",draft:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.12.0/setup/advanced/swarm-optimizations.md",tags:[],version:"1.12.0",frontMatter:{id:"optimizations",title:"Microservices optimizations",slug:"/setup/swarm/advanced/optimizations/"},sidebar:"install",previous:{title:"Posgres database",permalink:"/docs/1.12.0/setup/swarm/advanced/postgres-database/"},next:{title:"Ansible Vault",permalink:"/docs/1.12.0/setup/swarm/advanced/ansible-vault"}},p={},m=[{value:"Introduction",id:"introduction",level:3},{value:"Ingest optimization",id:"ingest-optimization",level:3},{value:"FEM optimization",id:"fem-optimization",level:3},{value:"Notifier optimization",id:"notifier-optimization",level:3},{value:"Storage optimization",id:"storage-optimization",level:3},{value:"Data Management optimization",id:"data-management-optimization",level:3},{value:"Order optimization",id:"order-optimization",level:3},{value:"Dataprovider optimization",id:"dataprovider-optimization",level:3},{value:"Worker Manager optimization",id:"worker-manager-optimization",level:3},{value:"Processing optimization",id:"processing-optimization",level:3},{value:"LTA Manager optimization",id:"lta-manager-optimization",level:3}],d={toc:m},s="wrapper";function k(t){let{components:e,...a}=t;return(0,n.kt)(s,(0,r.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h3",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"REGARDS provides several type of configurations in order to optimize its performances:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the number of parallel processes that can be run by microservice - this global thread pool will be ",(0,n.kt)("strong",{parentName:"li"},"shared by all tenants")," on every instance of microservice (",(0,n.kt)("inlineCode",{parentName:"li"},"regards.jobs.pool.size"),")"),(0,n.kt)("li",{parentName:"ul"},"the number of parallel database connections permitted ",(0,n.kt)("strong",{parentName:"li"},"by tenant")," and by microservice - a connection pool is created for every tenant on every instance of microservice (",(0,n.kt)("inlineCode",{parentName:"li"},"regards.jpa.multitenant.maxPoolSize"),")"),(0,n.kt)("li",{parentName:"ul"},"the number of entities handled inside a microservice process. Every REGARDS process exposes a property to override the number of entities handled ",(0,n.kt)("em",{parentName:"li"},"on a bulk"))),(0,n.kt)("admonition",{title:"Important",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Usually, it is more efficient to configure each service to allow:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"a large number of parallel processes"),(0,n.kt)("li",{parentName:"ul"},"a small number of entities to process on every parallel process")),(0,n.kt)("p",{parentName:"admonition"},"But it depends on how many resources you can allocate to REGARDS services. ")),(0,n.kt)("admonition",{title:"Implications",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"When you increase the number of parallel processes:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"you need to increase database connections"),(0,n.kt)("li",{parentName:"ul"},"you use more CPU,or vCPU, of your server")),(0,n.kt)("p",{parentName:"admonition"},"When you add more entities to handle by job/thread:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"you increase the amount of memory used on the server"),(0,n.kt)("li",{parentName:"ul"},"you increase the duration of the database commit"))),(0,n.kt)("p",null,"Default microservice configurations:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Microservice"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default RAM"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default job pool size (shared)"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Default DB pool size (by tenant)"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-config"),(0,n.kt)("td",{parentName:"tr",align:"left"},"128m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-registry"),(0,n.kt)("td",{parentName:"tr",align:"left"},"128m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-admin"),(0,n.kt)("td",{parentName:"tr",align:"left"},"512m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-admin-instance"),(0,n.kt)("td",{parentName:"tr",align:"left"},"512m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-access-project"),(0,n.kt)("td",{parentName:"tr",align:"left"},"512m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-access-instance"),(0,n.kt)("td",{parentName:"tr",align:"left"},"512m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-dam"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1500m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"None"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-ingest"),(0,n.kt)("td",{parentName:"tr",align:"left"},"3072m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-fem"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1500m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-notifier"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1500m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-storage"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2048m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-dataprovider"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1024m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-order"),(0,n.kt)("td",{parentName:"tr",align:"left"},"3072m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-worker-manager"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2048m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-processing"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2048m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"50"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"rs-lta-manager"),(0,n.kt)("td",{parentName:"tr",align:"left"},"512m"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5 per tenant of the instance")))),(0,n.kt)("admonition",{title:"Many CPU adaptation",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"If your server(s) has a lot of CPU, or vCPU, we recommend you to increase on each microservice the value of job pool size and DB pool size.",(0,n.kt)("br",{parentName:"p"}),"\n","Don't forget to ",(0,n.kt)("strong",{parentName:"p"},"increase these properties together")," to avoid DB connection starvation during microservice processes.")),(0,n.kt)("h3",{id:"ingest-optimization"},"Ingest optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.ingest.configuration.jobs_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of ingestion processes (ingest, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.ingest.configuration.database_max_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.ingest.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.client.response.batch.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of storage request response to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"500")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.ingest.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.ingest.aips.scan.iteration-limit")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one ingestion process (ingest, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100")))),(0,n.kt)("h3",{id:"fem-optimization"},"FEM optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.fem.configuration.jobs_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of FEM processes (ingest, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.fem.configuration.database_max_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.fem.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.fem.batch.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of FEM requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.fem.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.fem.max.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one FEM process (create, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")))),(0,n.kt)("h3",{id:"notifier-optimization"},"Notifier optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.notifier.configuration.jobs_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of Notifier processes (ingest, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.notifier.configuration.database_max_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.notifier.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.notifier.batch.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of AMQP Notifier requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.fem.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.notifier.max.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one Notifier process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")))),(0,n.kt)("h3",{id:"storage-optimization"},"Storage optimization"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Note")," : It is recommended to not set a big value to the ",(0,n.kt)("inlineCode",{parentName:"p"},"read_batch_size")," property for storage microservice. Recommended value between ",(0,n.kt)("inlineCode",{parentName:"p"},"10 and 100"),"."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.jobs_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of Storage processes (store, delete, copy...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.database_max_pool_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.availability.items.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of file availibility requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.copy.items.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of copy requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.deletion.items.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of deletion requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.reference.items.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of file reference requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.read_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.store.items.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of store requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.cache.requests.per.job")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of file availibility requests to handle in one Storage process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.deletion.requests.per.job")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of deletion requests to handle in one Storage process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.storage.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.storage.storage.requests.per.job")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of files to store requests to handle in one Storage process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100")))),(0,n.kt)("h3",{id:"data-management-optimization"},"Data Management optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dam.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dam.configuration.crawler_batch_size"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.crawler.max.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to request at a time from the data source to harvest"),(0,n.kt)("td",{parentName:"tr",align:"left"},"10000")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dam.configuration.crawler_rate_delay_ms"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.ingester.rate.ms")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Time elapsed in milliseconds between two scans of configured crawlers to check if a datasource can be harvest"),(0,n.kt)("td",{parentName:"tr",align:"left"},"60000")))),(0,n.kt)("h3",{id:"order-optimization"},"Order optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.order.configuration.jobs_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of order processes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.order.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.order.configuration.entities_per_job")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.order.batch.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one Order process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")))),(0,n.kt)("h3",{id:"dataprovider-optimization"},"Dataprovider optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dataprovider.configuration.jobs_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of Dataprovider processes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dataprovider.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.dataprovider.configuration.entities_per_job")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.acquisition.batch.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one Dataprovider process"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100")))),(0,n.kt)("h3",{id:"worker-manager-optimization"},"Worker Manager optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.worker_manager.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.worker_manager.configuration.read_batch_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.worker_manager.request.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of Worker Manager requests to handle at a time"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")))),(0,n.kt)("h3",{id:"processing-optimization"},"Processing optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.processing.configuration.jobs_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of Processing processes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"50")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.processing.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")))),(0,n.kt)("h3",{id:"lta-manager-optimization"},"LTA Manager optimization"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Properties"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"left"},"default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.lta_manager.configuration.jobs_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jobs.pool.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of LTA Manager processes"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.lta_manager.configuration.database_max_pool_size")," ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.jpa.multitenant.maxPoolSize")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Maximum number of parallel database connections usable"),(0,n.kt)("td",{parentName:"tr",align:"left"},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Ansible property: ",(0,n.kt)("br",null),(0,n.kt)("inlineCode",{parentName:"td"},"group_docker_mservices.lta_manager.configuration.entities_per_job"),"  ",(0,n.kt)("br",null)," REGARDS property:",(0,n.kt)("br",null)," ",(0,n.kt)("inlineCode",{parentName:"td"},"regards.ltamanager.request.bulk.size")),(0,n.kt)("td",{parentName:"tr",align:"left"},"Number of entities to handle in one process (create, delete, update...)"),(0,n.kt)("td",{parentName:"tr",align:"left"},"1000")))))}k.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[29206],{19706:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>n,metadata:()=>d,toc:()=>c});var s=r(74848),i=r(28453);const n={title:"S3 Glacier Plugin",sidebar_label:"S3 Glacier",slug:"/development/services/storage/plugins/s3glacier",sidebar_position:4},l=void 0,d={id:"development/services/storage/plugins/s3glacier",title:"S3 Glacier Plugin",description:"Description",source:"@site/docs/development/services/storage/plugins/s3glacier.md",sourceDirName:"development/services/storage/plugins",slug:"/development/services/storage/plugins/s3glacier",permalink:"/docs/next/development/services/storage/plugins/s3glacier",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/development/services/storage/plugins/s3glacier.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"S3 Glacier Plugin",sidebar_label:"S3 Glacier",slug:"/development/services/storage/plugins/s3glacier",sidebar_position:4},sidebar:"dev",previous:{title:"S3",permalink:"/docs/next/development/services/storage/plugins/s3"},next:{title:"Importation/Exportation",permalink:"/docs/next/development/services/storage/configuration/import-export"}},a={},c=[{value:"Description",id:"description",level:2},{value:"Small files management",id:"small-files-management",level:2},{value:"External cache",id:"external-cache",level:2},{value:"Configuration",id:"configuration",level:2}];function o(e){const t={h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(t.p,{children:"The S3 Glacier storage plugin stores file on an Amazon S3 Tier 3 (glacier) server."}),"\n",(0,s.jsx)(t.h2,{id:"small-files-management",children:"Small files management"}),"\n",(0,s.jsx)(t.p,{children:"It's more efficient to manage large files than many small files on the S3 Glacier server. For this reason, instead of\nstoring small files individually, an archive containing them is created and stored once it reaches a certain size or\nage. This process is handled by REGARDS on a workspace that the storage microservice must be able to access.\nThis workspace is used to store small files until the archive is created and stored (this occurs when an archive reaches\neither a certain age or size), and to restore small file archives when one of the files they contain needs to be\nretrieved."}),"\n",(0,s.jsx)(t.h2,{id:"external-cache",children:"External cache"}),"\n",(0,s.jsx)(t.p,{children:"It is possible to use Tier 2 storage on an S3 Glacier server in place of the REGARDS cache. In this case, the files are\ncopied directly from the Tier 2 server and are never stored in the REGARDS external cache (on the filesystem where\nREGARDS is deployed)."}),"\n",(0,s.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Workspace path"}),(0,s.jsx)(t.td,{children:"Path (String)"}),(0,s.jsx)(t.td,{children:"Path to the workspace were the plugin will process the small files and regroup them in archives"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Small file max size"}),(0,s.jsx)(t.td,{children:"Integer (in bytes)"}),(0,s.jsx)(t.td,{children:"Maximal size of a file to be considered a small file so it uses the small file archival system"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Archive max size"}),(0,s.jsx)(t.td,{children:"Integer (in bytes)"}),(0,s.jsx)(t.td,{children:"Maximal size of an archive, the archive will be closed and stored when it reaches this size"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Archive max age"}),(0,s.jsx)(t.td,{children:"Integer (in hours)"}),(0,s.jsx)(t.td,{children:"Maximal age of an archive after which it will be closed and stored, even if it isn't full"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Number of files to restore in parallel"}),(0,s.jsx)(t.td,{children:"Integer"}),(0,s.jsx)(t.td,{children:"Number of files restoration in parallel, each restoration need an active thread idling until the file is restored"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Number of files to store in parallel"}),(0,s.jsx)(t.td,{children:"Integer"}),(0,s.jsx)(t.td,{children:"Number of upload to process at the same time, an higher number will require more resources from the microservice"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Small file archive cache lifetime"}),(0,s.jsx)(t.td,{children:"Integer (in hours)"}),(0,s.jsx)(t.td,{children:"How long will the restored small file archived will be kept in regards cache before being deleted"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 access Timeout"}),(0,s.jsx)(t.td,{children:"Integer (in seconds)"}),(0,s.jsx)(t.td,{children:"How long the restoration process will wait for the restored file to be available before failing"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Standard storage class name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"The name of the storage class were files are moved to be available (Tier 2)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Enable external cache"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsx)(t.td,{children:"If true, this storage will use the cache of the S3 Server instead of the cache of REGARDS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 server endpoint"}),(0,s.jsx)(t.td,{children:"Url (String)"}),(0,s.jsx)(t.td,{children:"Endpoint where to reach the desired S3 server, this should contain the whole url and stop just before the bucket"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 server region"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Region of the S3 server, this must match the region configured on the server"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 server key"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Key (user) to access the server"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 server secret"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Secret (password) to access the server"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"S3 server bucket"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Name of the S3 bucket where the files should be stored"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Storage root path"}),(0,s.jsx)(t.td,{children:"Path (String)"}),(0,s.jsx)(t.td,{children:"Root path on the S3 server where the files will be stored (host/pathtobucket/rootPath/subdirectory/checksum)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Multipart upload parts size"}),(0,s.jsx)(t.td,{children:"Integer (in megabytes)"}),(0,s.jsx)(t.td,{children:"For multipart upload, the file will be cut in part of this size"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Multipart upload parallel parts"}),(0,s.jsx)(t.td,{children:"Integer"}),(0,s.jsx)(t.td,{children:"For multipart upload, number of parts that will be loaded in memory in REGARDS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Enable physical deletion of files"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsx)(t.td,{children:"If false, the files won't be deleted from the file system when they are deleted from regards"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"File Naming Strategy"}),(0,s.jsx)(t.td,{children:"Enum (String)"}),(0,s.jsx)(t.td,{children:"Either CHECKSUM (default) or FILENAME, determine how the file will be named on the file system"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>d});var s=r(96540);const i={},n=s.createContext(i);function l(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);
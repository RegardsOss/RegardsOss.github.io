"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[36512],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return m}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return a?n.createElement(g,l(l({ref:t},p),{},{components:a})):n.createElement(g,l({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},77193:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return d}});var n=a(83117),r=a(80102),i=(a(67294),a(3905)),l=["components"],o={id:"swarm-full-setup",title:"Full setup",slug:"/setup/swarm/full-setup"},s=void 0,c={unversionedId:"setup/swarm-full-setup",id:"setup/swarm-full-setup",title:"Full setup",description:"Update inventory with microservices you need",source:"@site/docs/setup/swarm-full-setup.md",sourceDirName:"setup",slug:"/setup/swarm/full-setup",permalink:"/docs/setup/swarm/full-setup",draft:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/setup/swarm-full-setup.md",tags:[],version:"current",frontMatter:{id:"swarm-full-setup",title:"Full setup",slug:"/setup/swarm/full-setup"},sidebar:"install",previous:{title:"Quick setup",permalink:"/docs/setup/"},next:{title:"Administration",permalink:"/docs/setup/swarm/cli/"}},p={},d=[{value:"Update inventory with microservices you need",id:"update-inventory-with-microservices-you-need",level:2},{value:"Disable/enable a REGARDS microservice",id:"disableenable-a-regards-microservice",level:3},{value:"Internal catalogs",id:"internal-catalogs",level:3},{value:"Create Ingest product using DataProvider",id:"create-ingest-product-using-dataprovider",level:3},{value:"File management using Storage",id:"file-management-using-storage",level:3},{value:"Internal and external notification management",id:"internal-and-external-notification-management",level:3},{value:"Workers manager",id:"workers-manager",level:3},{value:"Orders management",id:"orders-management",level:3},{value:"Process orders",id:"process-orders",level:3},{value:"Run changes",id:"run-changes",level:2},{value:"Full setup conclusion",id:"full-setup-conclusion",level:3}],u={toc:d};function m(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"update-inventory-with-microservices-you-need"},"Update inventory with microservices you need"),(0,i.kt)("p",null,"The next section will list all REGARDS microservices, what do they offer and how to enable them."),(0,i.kt)("h3",{id:"disableenable-a-regards-microservice"},"Disable/enable a REGARDS microservice"),(0,i.kt)("p",null,"If you look at your inventory file ",(0,i.kt)("inlineCode",{parentName:"p"},"regards-cnes/group_vars/regards_nodes/main.yml"),", you may see that many microservices are commented."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Stack\ngroup_docker_mservices:\n  access_project:\n    tag: "{{ group_docker_tags.back }}"\n#  notifier:\n#    tag: "{{ group_docker_tags.back }}"\n#  fem:\n#    tag: "{{ group_docker_tags.back }}"\n#  storage:\n#    tag: "{{ group_docker_tags.back }}"\n#  order:\n#    tag: "{{ group_docker_tags.back }}"\n#  ingest:\n#    tag: "{{ group_docker_tags.back }}"\n#  dataprovider:\n#    tag: "{{ group_docker_tags.back }}"\n#  processing:\n#    tag: "{{ group_docker_tags.back }}"\n#  worker_manager:\n#    tag: "{{ group_docker_tags.back }}"\n  front:\n    protocol: http\n')),(0,i.kt)("p",null,"If you uncomment a microservice, like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Stack\n#  fem:\n#    tag: "{{ group_docker_tags.back }}"\n  storage:\n    tag: "{{ group_docker_tags.back }}"\n#  order:\n#    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"It means to the playbook that the microservice storage will be activate on the next deployment."),(0,i.kt)("h3",{id:"internal-catalogs"},"Internal catalogs"),(0,i.kt)("p",null,"There is 3 types of crawler that lets REGARDS populate its meta-catalog :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"the ",(0,i.kt)("em",{parentName:"li"},"internal")," ",(0,i.kt)("a",{parentName:"li",href:"../../user-guide/import-data/oais-files/introduction/"},"OAIS catalog")),(0,i.kt)("li",{parentName:"ul"},"the ",(0,i.kt)("em",{parentName:"li"},"internal")," ",(0,i.kt)("a",{parentName:"li",href:"../../user-guide/import-data/fem/introduction/"},"GeoJSON catalog")),(0,i.kt)("li",{parentName:"ul"},"or an ",(0,i.kt)("em",{parentName:"li"},"external")," ",(0,i.kt)("a",{parentName:"li",href:"../../user-guide/crawler/configure-connection/"},"datasource")," (an OpenSearch Web source, an external Database...)")),(0,i.kt)("p",null,"All types of crawlers can be active on the same time, but you may not need them on your instance on the same time."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Activate microservice carrefully")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If you active only microservices you need, the admin HMI will not show you the configuration and pages related to everything you have desactivated !",(0,i.kt)("br",{parentName:"p"}),"\n","Activate them only if you need them. "))),(0,i.kt)("p",null,"Here is the difference between these two internal catalogs:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null}),(0,i.kt)("th",{parentName:"tr",align:"center"},"OAIS Manager (Ingest)"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Feature Manager (FEM)"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Populate using REST"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Populate using AMQP (faster)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product deletion"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product update"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No",(0,i.kt)("br",null),"To update a product, use product versionning"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product versionning"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product creation tools"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Scan yours files using ",(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"../../user-guide/import-data/scanned-files/manage-acquisition-chains/"},"Data acquisition chains"),(0,i.kt)("br",null),"in order to generate SIP"),(0,i.kt)("td",{parentName:"tr",align:"center"},"DIY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product creation feedback ",(0,i.kt)("br",null),"using AMQP"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product creation feedback",(0,i.kt)("br",null),"using REST API"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product creation feedback",(0,i.kt)("br",null),"using HMI"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Creation payload format"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Strict",(0,i.kt)("br",null),"List of SIP",(0,i.kt)("br",null)," matching ",(0,i.kt)("a",{parentName:"td",href:"../../development/appendices/oais/"},"OAIS standard")),(0,i.kt)("td",{parentName:"tr",align:"center"},"Open",(0,i.kt)("br",null),"List of Feature",(0,i.kt)("br",null),"that are valid REGARDS feature")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Creation payload validation"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Model validation"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No validation"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Feature must be valid against REGARDS model")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product enhancement"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Optional enhancement",(0,i.kt)("br",null),"using custom plugins"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Features can be enhancement by workers and then referenced or updated",(0,i.kt)("br",null),"Enrichment is delegated to the worker system.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Sending product to ",(0,i.kt)("br",null),"microservice Notifier"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Goal"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Perennisation"),(0,i.kt)("td",{parentName:"tr",align:"center"},"A flow between many applications",(0,i.kt)("br",null),"with complex product lifecycle")))),(0,i.kt)("p",null,"Activate the Ingest microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  ingest:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  ingest:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"Activate the Feature Manager microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  fem:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  fem:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If you want to crawl an external datasource, do not activate any of theses internal catalog."))),(0,i.kt)("h3",{id:"create-ingest-product-using-dataprovider"},"Create Ingest product using DataProvider"),(0,i.kt)("p",null,"The microservice DataProvider allows you to create yours products using ",(0,i.kt)("a",{parentName:"p",href:"../../user-guide/import-data/scanned-files/manage-acquisition-chains/"},"Data acquisition chains")," that scans files on disk and creates SIP according to these files.",(0,i.kt)("br",{parentName:"p"}),"\n","Here is some core features of DataProvider :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Regroup several files inside a product (SIP)"),(0,i.kt)("li",{parentName:"ul"},"Scan the folder periodically in order to create new product when they are available"),(0,i.kt)("li",{parentName:"ul"},"When necessary, product generation can be fully customize using dedicated plugin to extract metadata from filename or file content ")),(0,i.kt)("p",null,"Activate the DataProvider microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  dataprovider:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  dataprovider:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"This microservice requires : ",(0,i.kt)("inlineCode",{parentName:"p"},"Ingest")),(0,i.kt)("h3",{id:"file-management-using-storage"},"File management using Storage"),(0,i.kt)("p",null,"The Storage microservice can store on ",(0,i.kt)("a",{parentName:"p",href:"../../user-guide/project-configuration/storages/"},"different types of storage system"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Online storages : local disk, NFS..."),(0,i.kt)("li",{parentName:"ul"},"Nearline storages : Tape Backup, S3 Glacier...")),(0,i.kt)("p",null,"But it also manage ",(0,i.kt)("em",{parentName:"p"},"external")," files, which are already available threw an existing REST HTTP(S) server."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"}),(0,i.kt)("th",{parentName:"tr",align:"center"},"File already available ",(0,i.kt)("br",null),"threw existing REST HTTP(S) server"),(0,i.kt)("th",{parentName:"tr",align:"center"},"File NOT available ",(0,i.kt)("br",null),"threw existing REST HTTP(S) server"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"On file indexed inside ",(0,i.kt)("br",null),"internal catalog"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Reference the provided ",(0,i.kt)("br",null),"remote server ",(0,i.kt)("br",null),"file link"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Two possibilities :",(0,i.kt)("br",null),"- copy the file to one/many storage sytem",(0,i.kt)("br",null),"- reference provided file link, as it is ",(0,i.kt)("br",null),"already associated to an existing storage system")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Expose file ",(0,i.kt)("br",null),"threw STORAGE REST API"),(0,i.kt)("td",{parentName:"tr",align:"center"},"No",(0,i.kt)("br",null),"Storage does not proxy over ",(0,i.kt)("br",null),"the existing REST HTTP(S) server"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Allow nearline storage system"),(0,i.kt)("td",{parentName:"tr",align:"center"},"N"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Y")))),(0,i.kt)("p",null,"Once a file is managed by the Storage microservice, its product can be ordered by users."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Any product coming from an internal catalog will use the Storage microservice to referenciate or store its files"))),(0,i.kt)("p",null,"Activate the Storage microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  storage:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  storage:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"This microservice requires : ",(0,i.kt)("inlineCode",{parentName:"p"},"FEM")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Ingest")),(0,i.kt)("h3",{id:"internal-and-external-notification-management"},"Internal and external notification management"),(0,i.kt)("p",null,"The microservice Notifier receives all FEM and Ingest products everytime they change.",(0,i.kt)("br",{parentName:"p"}),"\n","It allows you to emit a notification to any system with a very granular syntax to decide whenever a product must be sent to some destination.",(0,i.kt)("br",{parentName:"p"}),"\n","The plugin system allows you to adpat the content of the notification to match your needs."),(0,i.kt)("p",null,"Activate the Notifier microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  notifier:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  notifier:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"This microservice requires : ",(0,i.kt)("inlineCode",{parentName:"p"},"FEM")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Ingest")),(0,i.kt)("h3",{id:"workers-manager"},"Workers manager"),(0,i.kt)("p",null,"The microservice WorkerManager is a early but powerfull system designed to handle a type of task that you need on your workflow.",(0,i.kt)("br",{parentName:"p"}),"\n","For example, you can raise a product notification using Notifier microservice to ask a worker to enhance the product.",(0,i.kt)("br",{parentName:"p"}),"\n","The worker can read the file and send an update request into the internal catalog. "),(0,i.kt)("p",null,"As there is no Worker available, you don't need to enable this service yet."),(0,i.kt)("h3",{id:"orders-management"},"Orders management"),(0,i.kt)("p",null,"The microservice Order allows ",(0,i.kt)("a",{parentName:"p",href:"../../user-guide/order/introduction/"},"users to make orders"),".",(0,i.kt)("br",{parentName:"p"}),"\n","If this system is not active, orders are not available."),(0,i.kt)("p",null,"Activate the Order microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  order:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  order:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"This microservice requires : ",(0,i.kt)("inlineCode",{parentName:"p"},"Storage")),(0,i.kt)("h3",{id:"process-orders"},"Process orders"),(0,i.kt)("p",null,"The microservice Processing allows you to ",(0,i.kt)("a",{parentName:"p",href:"../../user-guide/order/processing/"},"process ordered datafiles"),".",(0,i.kt)("br",{parentName:"p"}),"\n","Once configured, the user can choose to activate a processing on its ordered data :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Convert the project of a NetCDF file"),(0,i.kt)("li",{parentName:"ul"},"Crop a file"),(0,i.kt)("li",{parentName:"ul"},"Call external processing system"),(0,i.kt)("li",{parentName:"ul"},"...")),(0,i.kt)("p",null,"Activate the Processing microservice : "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yml"},'# Replace\n#  processing:\n#    tag: "{{ group_docker_tags.back }}"\n# By\n  processing:\n    tag: "{{ group_docker_tags.back }}"\n')),(0,i.kt)("p",null,"This microservice requires : ",(0,i.kt)("inlineCode",{parentName:"p"},"Order")),(0,i.kt)("h2",{id:"run-changes"},"Run changes"),(0,i.kt)("p",null,"Once you've edited your inventory, you must execute the following command to update the stack:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# cd regards-docker-master/\nansible-playbook -i inventories/<inventory name> regards.yml <additional parameters>\n")),(0,i.kt)("p",null,"That's it!"),(0,i.kt)("h3",{id:"full-setup-conclusion"},"Full setup conclusion"),(0,i.kt)("p",null,"Congratulations, your REGARDS installation is over."),(0,i.kt)("p",null,"Execute ",(0,i.kt)("inlineCode",{parentName:"p"},"./health.sh all")," and wait all microservices are 200 :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ ./health.sh all\n[200]   fem\n[200]   admin\n[200]   dam\n[200]   processing\n[200]   storage\n[200]   access_project\n[200]   ingest\n[200]   admin_instance\n[200]   order\n[200]   catalog\n[200]   access_instance\n[200]   worker_manager\n[200]   dataprovider\n[200]   notifier\n[200]   authentication\n")))}m.isMDXComponent=!0}}]);
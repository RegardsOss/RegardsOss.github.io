"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[79886],{81357:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=r(74848),t=r(28453);const a={id:"catalog-protocols-opensearch",title:"OpenSearch protocol",slug:"/user-guide/catalog/protocols/opensearch"},i=void 0,o={id:"user-documentation/catalog-consultation/catalog-protocols-opensearch",title:"OpenSearch protocol",description:"Dans cette page, vous apprendrez \xe0 ajouter \xe0 REGARDS le protocole de recherche standardis\xe9 OpenSearch.",source:"@site/docs/user-documentation/6-catalog-consultation/protocols-opensearch.md",sourceDirName:"user-documentation/6-catalog-consultation",slug:"/user-guide/catalog/protocols/opensearch",permalink:"/docs/next/user-guide/catalog/protocols/opensearch",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/user-documentation/6-catalog-consultation/protocols-opensearch.md",tags:[],version:"current",frontMatter:{id:"catalog-protocols-opensearch",title:"OpenSearch protocol",slug:"/user-guide/catalog/protocols/opensearch"},sidebar:"manual",previous:{title:"Interoperability protocols introduction",permalink:"/docs/next/user-guide/catalog/protocols/introduction"},next:{title:"Introduction",permalink:"/docs/next/user-guide/catalog/protocols/stac/introduction"}},l={},c=[{value:"OpenSearch",id:"opensearch",level:2},{value:"Description",id:"description",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Utilisation",id:"utilisation",level:3},{value:"Obtention de l&#39;ensemble des champs interrogeables",id:"obtention-de-lensemble-des-champs-interrogeables",level:4},{value:"Exemple simple",id:"exemple-simple",level:4},{value:"Exemple avec requ\xeate Lucene int\xe9gr\xe9e",id:"exemple-avec-requ\xeate-lucene-int\xe9gr\xe9e",level:4}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Dans cette page, vous apprendrez \xe0 ajouter \xe0 REGARDS le protocole de recherche standardis\xe9 OpenSearch."})}),"\n",(0,s.jsx)(n.h2,{id:"opensearch",children:"OpenSearch"}),"\n",(0,s.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(n.p,{children:["Il est possible d'int\xe9rroger le catalogue REGARDS gr\xe2ce au protocol ",(0,s.jsx)(n.a,{href:"https://github.com/dewitt/opensearch",children:"OpenSearch"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Cliquez sur le bouton ",(0,s.jsx)("img",{src:"/images/user-documentation/regards-icons/admin/add.png",alt:"add",height:"25",width:"25"})," ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Add"})})," de la carte ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Search protocols"})}),".\nVous serez redirig\xe9 vers l'\xe9cran ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Configure search protocol"})}),", renseignez les param\xe8tres suivants :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Label"})})," la description de votre protocole qui appara\xeetra dans la liste des protocoles"]}),"\n",(0,s.jsxs)(n.li,{children:["S\xe9lectionnez ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Use this search protocol for every search on catalog"})})," pour que ce protocole soit utilis\xe9 sur l'ensemble des donn\xe9es du catalogue ou ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Use this search protocol only for search on the selected dataset"})}),", pour restreindre la recherche \xe0 un jeu de donn\xe9es en particulier. Dans ce cas, choisissez-le dans la liste d\xe9roulante."]}),"\n",(0,s.jsxs)(n.li,{children:["Cliquez sur le bouton ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Choose a search protocol"})})," et appuyez sur ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"opensearch"})})," puis ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"New configuration"})}),", un nouveau bloc de configuration s'affichera."]}),"\n"]}),"\n",(0,s.jsx)("div",{align:"center",children:(0,s.jsx)("img",{src:"/images/user-documentation/v1.4/6-catalog-consultation/protocols/protocol-create.png",alt:"protocol create",width:"800"})}),"\n",(0,s.jsx)(n.p,{children:"Remplissez ensuite tous les champs relatifs au protocole OpenSearch:"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Pour plus d'informations sur le protocole ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"OpenSearch"})}),", lisez la description suivante sur ",(0,s.jsx)(n.a,{href:"https://github.com/dewitt/opensearch/blob/master/opensearch-1-1-draft-6.md",children:"github"}),"."]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Label"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"}),", le nom de protocole dans REGARDS. Ce nom sera utilis\xe9 comme discriminant dans l'url de recherche avec : ",(0,s.jsx)(n.a,{href:"http://regards/api/v1/rs-catalog/label/dataobjects/search",children:"http://regards/api/v1/rs-catalog/label/dataobjects/search"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Les param\xe8tres du search engine ",(0,s.jsx)(n.em,{children:"[Optionnel]"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Title"})}),", un nom identifiant votre search engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Description"})}),", une br\xe8ve description du search engine. Elle doit faire 1024 caract\xe8res ou moins et ne doit pas contenir de HTML ou autre tag."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Email"})}),", le contact en charge du search engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Tags"})})," , une collection de mots utilis\xe9s pour identifier le search engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Short name"})}),", un nom identifiant votre search engine. Il doit faire 16 caract\xe8res ou moins et ne doit pas contenir de HTML ou autre tag."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Long name"})}),", un nom identifiant votre search engine. Il doit faire 48 caract\xe8res ou moins et ne doit pas contenir de HTML ou autre tag."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Image"})}),", l'ic\xf4ne utilis\xe9e pour votre search engine. Quand cela est possible, ajoutez une image 16x16 de type image/x-icon (comme des /favicon.ico) et une image 64x64 de type image/jpeg ou image/png"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Attribution"})}),", les organisations que l'on peut citer pour dans le d\xe9veloppement du search engine"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Path of the attribute in data model for the last update date"})}),", la derni\xe8re date de modification des m\xe9tadonn\xe9es"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Rendre les extensions compatibles"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Open search time extension"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"}),", rend le protocole compatible \xe0 l'extension standard OpenSearch ",(0,s.jsx)(n.em,{children:"time"}),". En cochant cette case, vous devrez renseigner la fa\xe7on de r\xe9cup\xe9rer les param\xe8tres ",(0,s.jsx)(n.em,{children:"start"})," et ",(0,s.jsx)(n.em,{children:"end"})," dans le tableau ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Parameters configuration"})}),". N'h\xe9sitez \xe0 vous appuyer sur les diff\xe9rents tooltips pour vous aidez."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Open search regards extension"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"}),", tous les attributs autres que ceux standard au protocole OpenSearch sont mapp\xe9s avec l'extension ",(0,s.jsx)(n.em,{children:"regards"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Open search media extension"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"}),", ajoute des liens de r\xe9f\xe9rencement \xe0 tous les fichiers associ\xe9s aux donn\xe9es comme les thumbnails, les donn\xe9es brutes, les documents, etc."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Le protocole est compatible \xe0 l'extension geo par d\xe9faut depuis le chemin properties.geometry du mod\xe8le. N\xe9anmoins vous pouvez changer le chemin d'acc\xe8s en le param\xe9trant dans le tableau ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Parameters configuration"})})]})}),"\n",(0,s.jsxs)(n.p,{children:["Exemple de configuration de l'extension ",(0,s.jsx)(n.em,{children:"time"})," dans le tableau ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Parameters configuration"})})," :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Depuis le tableau ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Parameters"})}),", appuyez sur le bouton ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Add"})})," :","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["ajouter l'attribut start :","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Opensearch name of the parameter"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : start"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Name of the extension parameters"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : start"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Namespace of the extension parameter"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Enable generation of possible values"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : False"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Limit number of possible values"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : -"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Full json path of the associated REGARDS attribute"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : properties.start_date"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["ajouter l'attribut end :","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Opensearch name of the parameter"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : end"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Name of the extension parameters"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : end"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Namespace of the extension parameter"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Enable generation of possible values"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : False"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Limit number of possible values"})})," ",(0,s.jsx)(n.em,{children:"[Optionnel]"})," : -"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Full json path of the associated REGARDS attribute"})})," ",(0,s.jsx)(n.em,{children:"[Obligatoire]"})," : properties.stop_date"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Une fois votre configuration termin\xe9e, appuyez sur le bouton ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Create"})})," et retrouvez votre protocole dans la liste des protocoles de recherche."]}),"\n",(0,s.jsx)(n.p,{children:"En cliquant sur le bouton info, vous pourrez acc\xe9der au endpoint de recherche afin de v\xe9rifier le fonctionnement du protocole et de r\xe9cup\xe9rer le descripteur."}),"\n",(0,s.jsx)("div",{align:"center",children:(0,s.jsx)("img",{src:"/images/user-documentation/v1.4/6-catalog-consultation/protocols/protocol-info.png",alt:"protocol info",width:"800"})}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["Pensez \xe0 rendre vos jeux de donn\xe9es disponibles depuis l'ext\xe9rieur en autorisant l'acc\xe8s aux jeux de donn\xe9es et objets pour le groupe public. Pour plus d'informations, r\xe9f\xe9rez-vous \xe0 la page ",(0,s.jsx)(n.a,{href:"/docs/next/user-guide/data-organization/data-access-rights/",children:"Configure data access rights"})]})}),"\n",(0,s.jsx)(n.h3,{id:"utilisation",children:"Utilisation"}),"\n",(0,s.jsx)(n.h4,{id:"obtention-de-lensemble-des-champs-interrogeables",children:"Obtention de l'ensemble des champs interrogeables"}),"\n",(0,s.jsxs)(n.p,{children:["Une fois votre protocole de recherche OpenSearch configur\xe9, vous pouvez acc\xe9der dans un premier temps au fichier\n",(0,s.jsx)(n.code,{children:"opensearchdescription.xml"})," qui permet \xe0 tout syst\xe8me de conna\xeetre le moyen d'interroger le catalogue REGARDS avec\nl'URL suivante :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://regards.fr/api/v1/rs-catalog/engines/opensearch/dataobjects/search/opensearchdescription.xml?token=<token>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Cette URL est \xe9galement accessible depuis le site d'administration de REGARDS :"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["se rendre dans la page ",(0,s.jsx)(n.em,{children:"Acc\xe8s aux donn\xe9es"})]}),"\n",(0,s.jsxs)(n.li,{children:["dans la carte ",(0,s.jsx)(n.em,{children:"Protocoles de recherche"}),", cliquer sur l'ic\xf4ne ",(0,s.jsx)(n.em,{children:"Lister"})]}),"\n",(0,s.jsxs)(n.li,{children:["sur la ligne dont le protocole est ",(0,s.jsx)(n.code,{children:"opensearch"}),", cliquer sur l'ic\xf4ne ",(0,s.jsx)(n.em,{children:"Informations d'acc\xe8s"})]}),"\n",(0,s.jsxs)(n.li,{children:["cliquer sur le lien ",(0,s.jsx)(n.em,{children:"Cliquer ici pour consulter le descripteur du protocole"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ce fichier contient alors la description au format :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<OpenSearchDescription xmlns:parameters="http://a9.com/-/spec/opensearch/extensions/parameters/1.0/" xmlns="http://a9.com/-/spec/opensearch/1.1/">\n  <Description>description</Description>\n  <Contact>regards@c-s.fr</Contact>\n  <Url template="http://regards/api/v1/rs-catalog/engines/label/dataobjects/search?q={searchTerms}&start_date={start_date}&geometry={geo:geometry}&box={geo:box}&lon={geo:lon}&lat={geo:lat}&radius={geo:radius}&maxRecords={count}&page={startPage}&scope=project" type="application/atom+xml" rel="results">\n    <parameters:Parameter name="q" value="{luceneQuery}" title="Lucene query search. This field allows you to perform \n    searches using Lucene query syntax, providing more flexibility and capabilities than the standard OpenSearch syntax."/>\n    <parameters:Parameter name="start" value="{time:start}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="end" value="{time:end}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="geometry" value="{geo:geometry}" title="Defined in Well Known Text standard (WKT) with coordinates in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="box" value="{geo:box}" pattern="^[0-9\\.\\,\\-]*$" title="Defined by \'west, south, east, north\' coordinates of longitude, latitude, in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="lon" value="{geo:lon}" title="Longitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lat" minInclusive="-180" maxInclusive="180"/>\n    <parameters:Parameter name="lat" value="{geo:lat}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="-90" maxInclusive="90"/>\n    <parameters:Parameter name="radius" value="{geo:radius}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="1"/>\n    <parameters:Parameter name="maxRecords" value="{count}" title="Number of results returned per page (default 20, max 1000)" minInclusive="1" maxInclusive="1000"/>\n    <parameters:Parameter name="page" value="{startPage}" title="Results page to return" minInclusive="1"/>\n  </Url>\n  <Url template="http://regards/api/v1/rs-catalog/engines/label/dataobjects/search?q={searchTerms}&start_date={start_date}&geometry={geo:geometry}&box={geo:box}&lon={geo:lon}&lat={geo:lat}&radius={geo:radius}&maxRecords={count}&page={startPage}&scope=project" type="application/geo+json" rel="results">\n    <parameters:Parameter name="q" value="{searchTerms}" title="Free text search"/>\n    <parameters:Parameter name="start" value="{time:start}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="end" value="{time:end}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="geometry" value="{geo:geometry}" title="Defined in Well Known Text standard (WKT) with coordinates in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="box" value="{geo:box}" pattern="^[0-9\\.\\,\\-]*$" title="Defined by \'west, south, east, north\' coordinates of longitude, latitude, in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="lon" value="{geo:lon}" title="Longitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lat" minInclusive="-180" maxInclusive="180"/>\n    <parameters:Parameter name="lat" value="{geo:lat}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="-90" maxInclusive="90"/>\n    <parameters:Parameter name="radius" value="{geo:radius}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="1"/>\n    <parameters:Parameter name="maxRecords" value="{count}" title="Number of results returned per page (default 20, max 1000)" minInclusive="1" maxInclusive="1000"/>\n    <parameters:Parameter name="page" value="{startPage}" title="Results page to return" minInclusive="1"/>\n  </Url> \n  <Url template="http://regards/api/v1/rs-catalog/engines/label/dataobjects/search?q={searchTerms}&start={time:start}&end={time:end}&geometry={geo:geometry}&box={geo:box}&lon={geo:lon}&lat={geo:lat}&radius={geo:radius}&maxRecords={count}&page={startPage}&scope=project" type="application/json" rel="results">\n    <parameters:Parameter name="q" value="{searchTerms}" title="Free text search"/>\n    <parameters:Parameter name="start" value="{time:start}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="end" value="{time:end}" minimum="0" maximum="1" minInclusive="1990-01-01T00:00:00.000Z" maxInclusive="2023-09-05T23:19:31.000Z"/>\n    <parameters:Parameter name="geometry" value="{geo:geometry}" title="Defined in Well Known Text standard (WKT) with coordinates in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="box" value="{geo:box}" pattern="^[0-9\\.\\,\\-]*$" title="Defined by \'west, south, east, north\' coordinates of longitude, latitude, in decimal degrees (EPSG:4326)"/>\n    <parameters:Parameter name="lon" value="{geo:lon}" title="Longitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lat" minInclusive="-180" maxInclusive="180"/>\n    <parameters:Parameter name="lat" value="{geo:lat}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="-90" maxInclusive="90"/>\n    <parameters:Parameter name="radius" value="{geo:radius}" title="Latitude expressed in decimal degrees (EPSG:4326) - should be used with geo:lon" minInclusive="1"/>\n    <parameters:Parameter name="maxRecords" value="{count}" title="Number of results returned per page (default 20, max 1000)" minInclusive="1" maxInclusive="1000"/>\n    <parameters:Parameter name="page" value="{startPage}" title="Results page to return" minInclusive="1"/>\n  </Url>\n  <Query role="example" searchTerms="feature.properties.regards.tstart:{ISO-8601 date}"/>\n  <Developer>http://www.c-s.fr CS GROUP Team</Developer>\n  <AdultContent>false</AdultContent>\n  <Language>en</Language>\n  <InputEncoding>UTF-8</InputEncoding>\n  <OutputEncoding>UTF-8</OutputEncoding>\n</OpenSearchDescription>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"exemple-simple",children:"Exemple simple"}),"\n",(0,s.jsx)(n.p,{children:"Une fois ce descripteur obtenu vous pouvez effectuer des requ\xeates sur le catalogue REGARDS gr\xe2ce aux URL fournies et en\nutilisant les param\xe8tre de recherche d\xe9finis.\nVoici un exemple de requ\xeate et le r\xe9sultat associ\xe9 au format json:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://regards/api/v1/rs-catalog/engines/label/dataobjects/search?start_date=2010-01-01T00:00:00.000Z&maxRecords=2&page=0&token=<token>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "properties": {\n    "totalResults": 400155,\n    "startIndex": 0,\n    "itemsPerPage": 2,\n    "query": {\n      "searchFilters": {\n        "maxRecords": "2",\n        "page": "0",                                                                   \n      }\n    },\n    "description": "description",\n    "links": [\n      {\n        "rel": "self",\n        "type": "application/geo+json",\n        "href": "http://regards.fr/api/v1/rs-catalog/engines/opensearch/dataobjects/search?maxRecords=2&page=0&size=2"\n      },\n      {\n        "rel": "next",\n        "type": "application/geo+json",\n        "href": "http://regards.fr/api/v1/rs-catalog/engines/opensearch/dataobjects/search?maxRecords=2&page=-1&size=2"\n      }\n    ],\n    "id": "5306f265-3703-4e8f-8e56-e8751bc94318",\n    "title": "title"\n  },\n  "features": [\n    {\n      "id": "URN:FEATURE:DATA:geode:da22cbd2-a0ae-3ec0-831f-1e9870e2a951:V1",\n      "geometry": null,\n      "normalizedGeometry": null,\n      "properties": {\n        "providerId": "L2_HR_PIXC:6a92ad40-aed9-3108-bd08-4b46f5841004",\n        "links": [\n          {\n            "rel": "alternate",\n            "type": "application/geo+json",\n            "title": "GeoJson link for URN:FEATURE:DATA:geode:da22cbd2-a0ae-3ec0-831f-1e9870e2a951:V1",\n            "href": "http://regards.fr/api/v1/rs-catalog/engines/opensearch/dataobjects/URN:FEATURE:DATA:geode:da22cbd2-a0ae-3ec0-831f-1e9870e2a951:V1"\n          }\n        ],\n        "title": "L2_HR_PIXC:6a92ad40-aed9-3108-bd08-4b46f5841004"\n      },\n      "type": "Feature"\n    },\n    {\n      "id": "URN:FEATURE:DATA:geode:915abcb1-334d-3391-b696-151136dc943b:V1",\n      "geometry": null,\n      "normalizedGeometry": null,\n      "properties": {\n        "providerId": "L2_HR_RiverTile:1964edb4-403b-36a1-881f-9fd3fc359b8e",\n        "links": [\n          {\n            "rel": "alternate",\n            "type": "application/geo+json",\n            "title": "GeoJson link for URN:FEATURE:DATA:geode:915abcb1-334d-3391-b696-151136dc943b:V1",\n            "href": "http://regards.fr/api/v1/rs-catalog/engines/opensearch/dataobjects/URN:FEATURE:DATA:geode:915abcb1-334d-3391-b696-151136dc943b:V1"\n          }\n        ],\n        "title": "L2_HR_RiverTile:1964edb4-403b-36a1-881f-9fd3fc359b8e"\n      },\n      "type": "Feature"\n    }\n  ],\n  "type": "FeatureCollection"\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"exemple-avec-requ\xeate-lucene-int\xe9gr\xe9e",children:"Exemple avec requ\xeate Lucene int\xe9gr\xe9e"}),"\n",(0,s.jsxs)(n.p,{children:["Le param\xe8tre ",(0,s.jsx)(n.code,{children:"q"})," de la requ\xeate OpenSearch est interpr\xe9t\xe9 par REGARDS comme une\n",(0,s.jsx)(n.a,{href:"../../../../development/appendices/lucene-query",children:"requ\xeate lucene"}),". Celle-ci est utile dans le cas o\xf9 une requ\xeate\nOpenSearch ne permet pas d'exprimer certains crit\xe8res, tels qu'une comparaison num\xe9rique ou de date.",(0,s.jsx)(n.br,{}),"\n","L'exemple suivant illustre une requ\xeate permettant d'obtenir tous les produits cr\xe9\xe9s apr\xe8s la date du 15 juillet 2025,\n16:35:00 :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://regards.cnes.fr/api/v1/rs-catalog/engines/opensearch/entities/search?q=_creationDate%3A%7B2025-07-15T16%3A35%3A00Z%20TO%20%2A%7D&token=<token> \n"})}),"\n",(0,s.jsxs)(n.p,{children:["Le param\xe8tre ",(0,s.jsx)(n.code,{children:"q"})," de l'URL ci-dessus correspond \xe0 la version URL-encod\xe9e de ",(0,s.jsx)(n.code,{children:"_creationDate:{2025-07-15T16:35:00Z TO *}"}),",\nqui est la requ\xeate Lucene portant sur le champ ",(0,s.jsx)(n.code,{children:"_creationDate"})," et qui inclut toutes les dates sup\xe9rieures \xe0\n",(0,s.jsx)(n.code,{children:"2025-07-15T16:35:00Z"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"NOTE"})," : Il est aussi possible de substituer le param\xe8tre ",(0,s.jsx)(n.code,{children:"token=<token>"})," pour l'authentification \xe0 REGARDS dans\nles exemples ci-dessus par le header ",(0,s.jsx)(n.code,{children:"Authorization: Bearer <token>"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var s=r(96540);const t={},a=s.createContext(t);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[50863],{26339:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var i=s(74848),r=s(28453);const o={id:"release-notes-v1.13.0",title:"Version 1.13.0",slug:"/v1.13.0/",sidebar_position:9982},t=void 0,a={id:"notes/release-notes-v1.13.0",title:"Version 1.13.0",description:"Released on : 01/09/2023",source:"@site/release_notes/notes/V1.13.0.md",sourceDirName:"notes",slug:"/v1.13.0/",permalink:"/release-notes/v1.13.0/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9982,frontMatter:{id:"release-notes-v1.13.0",title:"Version 1.13.0",slug:"/v1.13.0/",sidebar_position:9982},sidebar:"release_notes",previous:{title:"Version 1.14.0",permalink:"/release-notes/v1.14.0/"},next:{title:"Version 1.12.0",permalink:"/release-notes/v1.12.0/"}},c={},d=[{value:"Features",id:"features",level:2},{value:"Breaking change",id:"breaking-change",level:2},{value:"Deployment",id:"deployment",level:3},{value:"API changes :",id:"api-changes-",level:3},{value:"Bug fixes",id:"bug-fixes",level:2}];function l(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Released on : ",(0,i.jsx)(n.strong,{children:"01/09/2023"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"https://www.gnu.org/licenses/gpl-3.0",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/badge/License-GPLv3-blue.svg",alt:"License: GPL v3"})}),"\n",(0,i.jsx)(n.strong,{children:"Operational version"})]}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"New scan plugins for dataprovider microservice"}),"\n",(0,i.jsx)(n.li,{children:"Order system can now automatically add additional files to user orders by adding files associated to the dataset of the selected products."}),"\n",(0,i.jsx)(n.li,{children:"New retry system for sending mail after smtp connection error."}),"\n",(0,i.jsx)(n.li,{children:"New storage plugin to store and restore files on S3 server Tier 3 (cold storage)."}),"\n",(0,i.jsx)(n.li,{children:"Feature Manager allows product notifications for specific recipient(s)."}),"\n",(0,i.jsx)(n.li,{children:"New IHM criterion plugin type cone search (geometry search)."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"breaking-change",children:"Breaking change"}),"\n",(0,i.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You need to follow the Ansible migration guide to update your playbook from V1.12 to V1.13"}),"\n",(0,i.jsxs)(n.li,{children:["You should active the ",(0,i.jsx)(n.code,{children:"securised: true"})," on the frontend service. See the impact below."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"group_docker_mservices:\n  [...]\n  front:\n    [...]\n    securised: true\n"})}),"\n",(0,i.jsx)(n.h3,{id:"api-changes-",children:"API changes :"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"All microservices"})}),"\n",(0,i.jsxs)(n.admonition,{type:"danger",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:["Header parameter",(0,i.jsx)(n.code,{children:"Host"})," may be required"]}),(0,i.jsx)(n.p,{children:"The reverse proxy NGinx now refuses requests if there are not hitting the public domain name of your REGARDS instance."}),(0,i.jsx)(n.p,{children:"If you use the public domain name of your REGARDS instance, there is no change to do:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ curl -k 'https://regards.host.com/api/v1/rs-admin-instance/projects?page=0&size=100'\n-- it's working\n"})}),(0,i.jsx)(n.p,{children:"If you use some Swarm node hostname, the request will be refused:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ curl -k 'https://regards-node01/api/v1/rs-admin-instance/projects?page=0&size=100'\n<html>\n<head><title>403 Forbidden</title></head>\n<body>\n<center><h1>403 Forbidden</h1></center>\n<hr><center>nginx</center>\n</body>\n</html>\n"})}),(0,i.jsxs)(n.p,{children:["To make it work, you need to add the ",(0,i.jsx)(n.code,{children:"Host"})," header parameter with the public domain name of your REGARDS instance:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ curl -k 'https://regards-node01/api/v1/rs-admin-instance/projects?page=0&size=100' \\\n  -H 'Host: the-server-name.host.com' \\\n-- it's working\n"})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Microservice rs-admin"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Endpoint to export users to csv changed from ",(0,i.jsx)(n.code,{children:"/users/export@GET"})," to ",(0,i.jsx)(n.code,{children:"/users/export@POST"})," ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/admin/api-swagger#tag/project-users-controller/operation/exportAsCSV",children:"see api doc"})]}),"\n",(0,i.jsxs)(n.li,{children:["Email management endpoints id moved from rs-admin service to rs-admin-instance service. ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/admin-instance/api-swagger#tag/Email-request-controller",children:"see api doc"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Microservice rs-catalog"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["New endpoint to validate a geometry ",(0,i.jsx)(n.code,{children:"/validation/geo"})," ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/catalog/api-swagger#tag/search-validation-controller",children:"see api doc"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Microservice rs-ingest"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["New optional parameter submissionDate in metadata section of SIP sumbission endpoint ",(0,i.jsx)(n.code,{children:"/sips"})," ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/ingest/api-swagger#tag/sip-controller/operation/ingest",children:"see api doc"})]}),"\n",(0,i.jsxs)(n.li,{children:["New field errorType in response content and errorTypes in request body from ",(0,i.jsx)(n.code,{children:"/requests"})," endpoint ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/ingest/api-swagger#tag/request-controller/operation/searchRequest",children:"see api doc"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Microservice rs-lta-manager"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Field id renamed into productId into endpoint ",(0,i.jsx)(n.code,{children:"/products@POST"})," ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/lta-manager/api-swagger#tag/Create-controller/operation/createSubmissionRequest",children:"see api doc"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Microservice rs-notifier"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Endpoint to find all available recipients for notification moved from ",(0,i.jsx)(n.code,{children:"/recipient"})," to ",(0,i.jsx)(n.code,{children:"/recipients"})," ",(0,i.jsx)(n.a,{href:"/docs/1.13.0/development/backend/services/notifier/api-swagger#tag/recipient-dto-controller/operation/findRecipients",children:"see api doc"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fix display of not searchable attributes on dataset filter creation page."}),"\n",(0,i.jsx)(n.li,{children:"Fix search on OAIS product management (admin HMI) to allow use of '_' character."}),"\n",(0,i.jsx)(n.li,{children:"Fix regression on quicklook display on user HMI."}),"\n",(0,i.jsx)(n.li,{children:"Improve Cesium map when there is large geometry."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
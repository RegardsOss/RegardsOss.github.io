"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[14930],{86031:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=i(74848),n=i(28453);const r={title:"How it works",sidebar_label:"How it works",sidebar_position:2,slug:"/development/services/dam/conception/"},d=void 0,a={id:"development/services/dam/conception",title:"How it works",description:"Introduction",source:"@site/docs/development/services/dam/conception.md",sourceDirName:"development/services/dam",slug:"/development/services/dam/conception/",permalink:"/docs/next/development/services/dam/conception/",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/docs/development/services/dam/conception.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"How it works",sidebar_label:"How it works",sidebar_position:2,slug:"/development/services/dam/conception/"},sidebar:"dev",previous:{title:"Overview",permalink:"/docs/next/development/services/dam/overview/"},next:{title:"Create a dataset",permalink:"/docs/next/development/backend/services/dam/api-guides/amqp/am-api-guides-amqp-create-dataset"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Main points of data modification in Elasticsearch",id:"main-points-of-data-modification-in-elasticsearch",level:2},{value:"Meta catalog population",id:"meta-catalog-population",level:2},{value:"Crawling Job (CrawlOneDatasourceJob)",id:"crawling-job-crawlonedatasourcejob",level:3},{value:"1. Retrieve new products from the catalog",id:"1-retrieve-new-products-from-the-catalog",level:4},{value:"2. Insert or update products in the Elasticsearch index",id:"2-insert-or-update-products-in-the-elasticsearch-index",level:4},{value:"3. Update access groups for products",id:"3-update-access-groups-for-products",level:4},{value:"4. Compute calculated attributes",id:"4-compute-calculated-attributes",level:4},{value:"Retrieve new products from data sources",id:"retrieve-new-products-from-data-sources",level:3},{value:"Insert or Update new products in meta catalog",id:"insert-or-update-new-products-in-meta-catalog",level:3},{value:"Access rights calculation for dataset",id:"access-rights-calculation-for-dataset",level:3},{value:"Meta catalog reindexation",id:"meta-catalog-reindexation",level:2},{value:"Process overview",id:"process-overview",level:3},{value:"1. Create a new index",id:"1-create-a-new-index",level:4},{value:"2. Populate the new index",id:"2-populate-the-new-index",level:4},{value:"3. Wait for all ingestion jobs to finish",id:"3-wait-for-all-ingestion-jobs-to-finish",level:4},{value:"4. Switch aliases",id:"4-switch-aliases",level:4},{value:"5. Clean up old indexes",id:"5-clean-up-old-indexes",level:4},{value:"Alias management and consistency",id:"alias-management-and-consistency",level:3},{value:"Elasticsearch index representation",id:"elasticsearch-index-representation",level:2},{value:"Entity(product) for DATA type",id:"entityproduct-for-data-type",level:4},{value:"Entity for DATASET type",id:"entity-for-dataset-type",level:4}];function o(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["The main purpose of ",(0,s.jsx)(t.strong,{children:"Data manager"})," or ",(0,s.jsx)(t.strong,{children:"rs-dam"})," microservice is to populate\nthe Regards ",(0,s.jsx)(t.a,{href:"/docs/next/development/concepts/meta-catalog/",children:"meta-catalog"}),". The microservice is composed of several\nmodules : ",(0,s.jsx)(t.code,{children:"crawler"})," module, ",(0,s.jsx)(t.code,{children:"dam"})," module(",(0,s.jsx)(t.em,{children:"main core"}),"), ",(0,s.jsx)(t.code,{children:"indexer"})," module, ",(0,s.jsx)(t.code,{children:"model"})," module and ",(0,s.jsx)(t.code,{children:"opensearch"})," module."]}),"\n",(0,s.jsx)(t.p,{children:"To do so, this microservice uses :"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Data sources to retrieve products from several catalogs. Data sources are configured through an UI or XML file (AIP,\nGeoJSON, external database: ",(0,s.jsx)(t.a,{href:"/docs/next/user-guide/crawler/introduction/",children:"REGARDS UI"}),")."]}),"\n",(0,s.jsx)(t.li,{children:"Data models to transform and standardize crawled products before adding them into the meta catalog, represented by the\nElasticsearch index."}),"\n",(0,s.jsxs)(t.li,{children:["Data access rights to calculate access rights of each product in the meta catalog. Access rights concern the\npermissions granted to a group of users for accessing a set of products that constitute a dataset (\nsee ",(0,s.jsx)(t.a,{href:"/docs/next/user-guide/data-organization/data-access-rights/",children:"REGARDS UI"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["This microservice is required to expose products managed by the OAIS Products Manager (",(0,s.jsx)(t.code,{children:"rs-ingest"})," microservice), the\nGeoJson Products Manager (",(0,s.jsx)(t.code,{children:"rs-fem"})," microservice), or products accessible from an external database or a web service."]}),"\n",(0,s.jsx)(t.p,{children:"Each Elasticsearch index stores products for each project or tenant created in the REGARDS application."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:i(82911).A+"",width:"511",height:"284"})}),"\n",(0,s.jsx)(t.h2,{id:"main-points-of-data-modification-in-elasticsearch",children:"Main points of data modification in Elasticsearch"}),"\n",(0,s.jsx)(t.p,{children:"The data stored in Elasticsearch consist of Datasets and DataObjects. DataObjects can originate from various sources depending on the selected plugin (OAIS, FEM, external database, etc.)."}),"\n",(0,s.jsx)(t.p,{children:"In REGARDS, there are several ways to add, modify, or delete objects stored in Elasticsearch:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Through the ",(0,s.jsx)(t.code,{children:"CrawlingJob"})," (data crawler/harvester), which will be detailed in the ",(0,s.jsx)(t.a,{href:"#crawling-job-crawlonedatasourcejob",children:"following sections"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["When a Dataset is updated OR when access rights to a Dataset are modified, a ",(0,s.jsx)(t.code,{children:"DatasetEvent"})," is triggered and processed by rs-dam to update the Dataset stored in Elasticsearch, as well as all DataObjects linked to this Dataset."]}),"\n",(0,s.jsxs)(t.li,{children:["When a product is deleted from the OAIS or FEM catalogs, a ",(0,s.jsx)(t.code,{children:"FeatureEvent"})," is generated and processed by rs-dam, which immediately requests the deletion of the dataObject from ElasticSearch."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"meta-catalog-population",children:"Meta catalog population"}),"\n",(0,s.jsxs)(t.p,{children:["A scheduler is launched at a configurable interval to iterate through each configured datasource and create a job ",(0,s.jsx)(t.code,{children:"CrawlOneDatasourceJob"})," if needed. This allows independent and parallel management of data ingestion for each datasource. The scheduling frequency can be adjusted by the user (see the ",(0,s.jsx)(t.a,{href:"/docs/next/development/services/dam/configuration/static-configuration",children:"static configuration"}),")"]}),"\n",(0,s.jsx)(t.h3,{id:"crawling-job-crawlonedatasourcejob",children:"Crawling Job (CrawlOneDatasourceJob)"}),"\n",(0,s.jsx)(t.p,{children:"The main steps performed by each job are:"}),"\n",(0,s.jsx)(t.h4,{id:"1-retrieve-new-products-from-the-catalog",children:"1. Retrieve new products from the catalog"}),"\n",(0,s.jsxs)(t.p,{children:["Using an implementation of the ",(0,s.jsx)(t.a,{href:"https://github.com/RegardsOss/regards-backend/blob/master/rs-dam/dam/dam-domain/src/main/java/fr/cnes/regards/modules/dam/domain/datasources/plugins/IDataSourcePlugin.java",children:"IDataSourcePlugin interface"}),", the system retrieves new products and transforms the datasource-specific product format into the REGARDS standard format. See more details ",(0,s.jsx)(t.a,{href:"#retrieve-new-products-from-data-sources",children:"below"})]}),"\n",(0,s.jsx)(t.h4,{id:"2-insert-or-update-products-in-the-elasticsearch-index",children:"2. Insert or update products in the Elasticsearch index"}),"\n",(0,s.jsxs)(t.p,{children:["New or updated products retrieved in step 1 are inserted or updated in the appropriate Elasticsearch index using upsert requests. The upsert operation ensures that a product is either created or updated in a single atomic operation, depending on its existence. See more details ",(0,s.jsx)(t.a,{href:"#insert-or-update-new-products-in-meta-catalog",children:"below"})]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsx)(t.p,{children:"Upsert requests are sent in parallel to Elasticsearch to improve performance. Each upsert request contains a configurable batch of products, and the number of parallel requests is also configurable to optimize throughput according to the cluster's capacity."})]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"Ensure that the Hikari connection pool size (regards.jpa.multitenant.maxPoolSize) is STRICTLY GREATER than the Elasticsearch threadpool size (regards.elasticsearch.threadpool.size) to avoid connection starvation. Otherwise, rs-dam may enter in deadlock state, with all threads waiting for a connection from the pool, and no thread available to release a connection."})}),"\n",(0,s.jsx)(t.h4,{id:"3-update-access-groups-for-products",children:"3. Update access groups for products"}),"\n",(0,s.jsxs)(t.p,{children:["The update of access groups is performed using a dedicated Painless script in Elasticsearch, allowing all necessary changes to be applied in a single update request on the Elasticsearch side. This is achieved by sending an 'update by query' request to Elasticsearch, specifying the script id. This single request allows Elasticsearch to apply the script to all documents matching the filter\u2014typically all the data ingested in the previous step\u2014thus efficiently updating access groups for a large set of products at once. See more details ",(0,s.jsx)(t.a,{href:"#3-update-access-groups-for-products",children:"below"})]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:["If needed (depending on access rights configuration), access groups are updated for products using an implementation of the ",(0,s.jsx)(t.code,{children:"IDataObjectAccessFilterPlugin"})," interface to apply any custom product filtering. This operation cannot be performed by the update group script and must be manually calculated by REGARDS, updating each document individually."]})]}),"\n",(0,s.jsx)(t.h4,{id:"4-compute-calculated-attributes",children:"4. Compute calculated attributes"}),"\n",(0,s.jsxs)(t.p,{children:["If the data model contains calculated attributes, these are computed using an implementation of the ",(0,s.jsx)(t.code,{children:"IComputedAttribute"})," interface."]}),"\n",(0,s.jsx)(t.h3,{id:"retrieve-new-products-from-data-sources",children:"Retrieve new products from data sources"}),"\n",(0,s.jsxs)(t.p,{children:["To manage different data sources, an extension point (see the implementation of the ",(0,s.jsx)(t.strong,{children:"IDataSourcePlugin"})," interface) is\nused to handle the specific requirements for loading products in the REGARDS format :"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Products: A ",(0,s.jsx)(t.strong,{children:"DATA"})," Entity, as defined by a model in REGARDS"]}),"\n",(0,s.jsxs)(t.li,{children:["A set of products: A ",(0,s.jsx)(t.strong,{children:"DATASET"})," Entity, as defined by a model in REGARDS"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The following types of crawlers are available:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"AIP Crawlers"}),": These crawlers allow crawling of SIPs from the ",(0,s.jsx)(t.code,{children:"rs-ingest"})," microservice. Incremental ingestion uses\nthe last data update."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Feature Crawlers"}),": These crawlers allow crawling of features from the ",(0,s.jsx)(t.code,{children:"rs-fem"})," microservice. Incremental ingestion\nuses the last data update."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Database Crawlers"}),": These crawlers allow crawling of data from an external database, with the following modes:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Non-incremental ingestion (not recommended)"}),"\n",(0,s.jsx)(t.li,{children:"Incremental ingestion based on the last data update"}),"\n",(0,s.jsx)(t.li,{children:"Incremental ingestion based on the data identifier"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The user selects the incremental ingestion mode during datasource creation."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Web Source crawlers"})," allows to crawl data from an OpenSearch Web Source: incremental aspiration bas on the data\nlast update date."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The configuration of the extension point plugin can be used to define, as needed, the type of ingestion, the data source\nrefresh rate (in seconds), and the overlap duration (in seconds) to prevent data loss."}),"\n",(0,s.jsx)(t.p,{children:"Next, a mapping must be created between the datasource products and the REGARDS model data before indexing the products."}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["Configuration options are available for various connectors used with the crawler's external database (\nsee ",(0,s.jsx)(t.a,{href:"/docs/next/user-guide/crawler/configure-connection/",children:"UI"}),"). The PostgreSQL connector is available as:\n",(0,s.jsx)(t.code,{children:"postgresql-db-connection (1.0-SNAPSHOT)"}),"."]})}),"\n",(0,s.jsx)(t.h3,{id:"insert-or-update-new-products-in-meta-catalog",children:"Insert or Update new products in meta catalog"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Dataset"})," and ",(0,s.jsx)(t.strong,{children:"Data"})," entities are stored in a different Elasticsearch index for each project/tenant in\nREGARDS application. There is only one index for each tenant."]}),"\n",(0,s.jsx)(t.h3,{id:"access-rights-calculation-for-dataset",children:"Access rights calculation for dataset"}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"Acces rights are defined for each dataset and group of users as follows :"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Dataset and Data access"}),"\n",(0,s.jsx)(t.li,{children:"Dataset access"}),"\n",(0,s.jsx)(t.li,{children:"Full access to dataset, but partial access to Data (filtered by dynamic plugins)"}),"\n",(0,s.jsx)(t.li,{children:"No access"}),"\n"]})]}),"\n",(0,s.jsx)(t.p,{children:"Any change in access rights between a group of users and a dataset has an impact on the meta\ncatalog stored in Elasticsearch. Access rights are indicated in each dataset and products."}),"\n",(0,s.jsx)(t.p,{children:"Access rights calculation are made when :"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"There is a data modification (dataset update, add or remove data object, ...)"}),"\n",(0,s.jsx)(t.li,{children:"There is a user group modification"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Dynamic plugins (see extension point with ",(0,s.jsx)(t.code,{children:"IDataObjectAccessFilterPlugins"})," interface) are made to re-calculate access\nrights every day. Access rights will be applied to data filtered by the OpenSearch query.\nThe periodicity of re-calculation of dynamic plugins is set to once a day by default, but it is configurable in the\nmicroservice properties with the properties ",(0,s.jsx)(t.code,{children:"regards.access.rights.update.cron"}),". The value is in standard cron format."]}),"\n",(0,s.jsx)(t.h2,{id:"meta-catalog-reindexation",children:"Meta catalog reindexation"}),"\n",(0,s.jsx)(t.p,{children:"Reindexation allows rebuilding the Elasticsearch index of a tenant from its data sources, ensuring that the meta\ncatalog remains consistent, and aligned with the latest data models."}),"\n",(0,s.jsxs)(t.p,{children:["Each tenant/project in REGARDS has its own Elasticsearch index, referenced by an ",(0,s.jsx)(t.strong,{children:"alias"}),".\nDuring a reindexation, a ",(0,s.jsx)(t.strong,{children:"new index"})," is created, populated, and validated before it replaces the current one \u2014 ensuring\nthat the meta catalog REGARDS remains available without interruption."]}),"\n",(0,s.jsx)(t.h3,{id:"process-overview",children:"Process overview"}),"\n",(0,s.jsx)(t.p,{children:"When a reindexation is triggered, the process follows these main steps:"}),"\n",(0,s.jsx)(t.h4,{id:"1-create-a-new-index",children:"1. Create a new index"}),"\n",(0,s.jsxs)(t.p,{children:["A new Elasticsearch index is created for the tenant, using the latest model mappings and settings.\nThe index name is automatically generated and associated to the tenant\u2019s alias entry (",(0,s.jsx)(t.code,{children:"EsIndexAlias"})," entity) as the\n",(0,s.jsx)(t.strong,{children:"building index"}),". An alias points to exactly one index."]}),"\n",(0,s.jsx)(t.p,{children:"The tenant\u2019s alias follows the naming convention: [PROJECT_NAME]_alias.\nEach new building index created for this tenant follows the pattern [PROJECT_NAME]_XXXXX_X, where the final digit increments with every new rebuild."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example"})," :\nProject/tenant : ",(0,s.jsx)(t.em,{children:"projectA"}),"\nAlias name: ",(0,s.jsx)(t.em,{children:"projectA_alias"}),"\nCurrent index: ",(0,s.jsx)(t.em,{children:"projectA_3472e9_3"}),"\nBuilding index: ",(0,s.jsx)(t.em,{children:"projectA_3472e9_4"})]}),"\n",(0,s.jsx)(t.h4,{id:"2-populate-the-new-index",children:"2. Populate the new index"}),"\n",(0,s.jsxs)(t.p,{children:["All active data sources of the tenant are crawled using the same ingestion workflow as the standard ",(0,s.jsx)(t.code,{children:"CrawlingJob"}),".\nProducts are retrieved, transformed into REGARDS entities (DATA DATASET or COLLECTION), and inserted into the\n",(0,s.jsx)(t.strong,{children:"building index"}),"."]}),"\n",(0,s.jsx)(t.h4,{id:"3-wait-for-all-ingestion-jobs-to-finish",children:"3. Wait for all ingestion jobs to finish"}),"\n",(0,s.jsx)(t.p,{children:"Once ingestion starts, the system monitors the running jobs associated with the building index until all have\ncompleted twice.\nThis ensures that the index is fully populated and consistent before activation."}),"\n",(0,s.jsx)(t.h4,{id:"4-switch-aliases",children:"4. Switch aliases"}),"\n",(0,s.jsxs)(t.p,{children:["When the new index is ready, ",(0,s.jsx)(t.code,{children:"rs-dam"})," performs an alias switch. The alias is updated to point to the new index ; the\nprevious index is obsolete and is ready to be deleted.\nThis operation is transparent for end users: ",(0,s.jsx)(t.strong,{children:"queries using the alias never experience downtime"}),"."]}),"\n",(0,s.jsx)(t.h4,{id:"5-clean-up-old-indexes",children:"5. Clean up old indexes"}),"\n",(0,s.jsx)(t.p,{children:"Once the alias has been switched, the old index (previously referenced as current) is deleted to free resources.\nThe old ingestions and the jobs they are associated with are removed too."}),"\n",(0,s.jsx)(t.h3,{id:"alias-management-and-consistency",children:"Alias management and consistency"}),"\n",(0,s.jsxs)(t.p,{children:["The mapping between tenants and their indexes is persisted in the REGARDS database through the entity ",(0,s.jsx)(t.code,{children:"EsIndexAlias"}),":"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Nom"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"alias"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"The logical name used by REGARDS to query Elasticsearch"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"current"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"The name of the currently active index for the tenant"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"building"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"The name of the index currently being populated during reindexation"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["The alias switch updates the ",(0,s.jsx)(t.code,{children:"current"})," field to the new index name and clears the ",(0,s.jsx)(t.code,{children:"building"})," field once completed."]}),"\n",(0,s.jsx)(t.p,{children:"Caching mechanisms ensure quick access to alias information while keeping the database as the source of truth."}),"\n",(0,s.jsx)(t.h2,{id:"elasticsearch-index-representation",children:"Elasticsearch index representation"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Data"})," entities are never stored in the REGARDS database, only in Elasticsearch.",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.strong,{children:"Dataset"})," entities are stored in the REGARDS database with the following information:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"creation date and update date,"}),"\n",(0,s.jsxs)(t.li,{children:["Identifier of the Uniform Resource Name (example: URN:AIP:",(0,s.jsx)(t.strong,{children:"DATASET"}),":validation:\n39c574a0-2ad6-4f47-9f4a-251d494892b1",":V1",")"]}),"\n",(0,s.jsx)(t.li,{children:"model of the products in this dataset"}),"\n",(0,s.jsx)(t.li,{children:"Identifier of the dataset model"}),"\n",(0,s.jsx)(t.li,{children:"Identifier of the plugin used to load products from a data source"}),"\n",(0,s.jsx)(t.li,{children:"sub-setting criterion setting on a Dataset for Elasticsearch"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The following tables show the structure of stocked entities in Elasticsearch index of REGARDS."}),"\n",(0,s.jsx)(t.h4,{id:"entityproduct-for-data-type",children:"Entity(product) for DATA type"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Nom"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"type"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity type: DATA"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"creationDate"}),(0,s.jsx)(t.td,{children:"Date (format: date_optional_time)"}),(0,s.jsx)(t.td,{children:"Creation date of entity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"lastUpdate"}),(0,s.jsx)(t.td,{children:"Date (format: date_optional_time)"}),(0,s.jsx)(t.td,{children:"Update date of entity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataSourceId"}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Data source identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"datasetModelNames"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of dataset model names"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"groups"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of group names for access right"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Entity technical identifier for database"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"internal"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if a entity of DATA type is internal(created from AIP) or false, external (created from external database)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ipId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsxs)(t.td,{children:["Identifier of Uniform Resource Name type (format: ",(0,s.jsx)(t.code,{children:"URN:StringId:DATA:tenant:UUID(entityId):version[,order][:revision]"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata"}),(0,s.jsx)(t.td,{children:"Object(see details below)"}),(0,s.jsx)(t.td,{children:"Information about a group access to a specific dataset for data objects"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"model"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Entity model"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"model.description"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model description"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.id"})}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Model technical identifier for database"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.name"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model name (identical with model property of feature)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.type"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model type : DATA"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"newPoint"}),(0,s.jsx)(t.td,{children:"geo_point"}),(0,s.jsx)(t.td,{children:"Bounding box north west point"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"setPoint"}),(0,s.jsx)(t.td,{children:"geo_point"}),(0,s.jsx)(t.td,{children:"Bounding box south east point"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"openSearchSubsettingClause"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Representation of the above subsetting clause as an OpenSearch string request"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"tags"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of tags (included related dataset)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"wgs84"}),(0,s.jsx)(t.td,{children:"geo_shape"}),(0,s.jsx)(t.td,{children:"Geometry projection on WGS84 crs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"feature"}),(0,s.jsx)(t.td,{children:"Object(see details below)"}),(0,s.jsx)(t.td,{children:"Raw entity feature"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Metadata for ",(0,s.jsx)(t.strong,{children:"DATA"})," type of entity"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"groups"}),(0,s.jsx)(t.td,{children:"Map"}),(0,s.jsx)(t.td,{children:"Map of group names with access right for dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"groups.<name>.dataset"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Identifier of Uniform Resource Name type for dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"groups.<name>.dataAccessRight"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if access right for the dataset; otherwise false"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"modelNames"}),(0,s.jsx)(t.td,{children:"Map"}),(0,s.jsx)(t.td,{children:"Map of model names with dataset URN"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"modelNames.<name>.<URN>"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Identifier of Uniform Resource Name type for dataset"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Feature for ",(0,s.jsx)(t.strong,{children:"DATA"})," type of entity"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"sessionOwner"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Session owner"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Session"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Session name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"virtualId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsxs)(t.td,{children:["Virtual identifier of URN type in order to indicate if this is the last version (format: ",(0,s.jsx)(t.code,{children:"URN:StringId:DATA:tenant:UUID(entityId):LAST"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"providerId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Provider identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"entityType"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity type : DATA"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"label"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity label (sometimes identical provider identifier property)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"model"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model name of entity (identical with name property of model)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"files"}),(0,s.jsx)(t.td,{children:"Map<DataType, DataFile>"}),(0,s.jsx)(t.td,{children:"Product-related entity files (example: thumbnail, quicklook, rawdata...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Enum of data type (RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile"})}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Data for file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.dataType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Enum of data type (RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.reference"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"False indicates if the file is stored physical in REGARDS, otherwise true REGARDS doesn't store in REGARDS, only reference."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.uri"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Uniform Resource identifier of file in order to download. This URI is created by REGARDS."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.mimeType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Mime type of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.online"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"True indicates file is on line, otherwise near line for storage service"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.checksum"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Checksum of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.digestAlgorithm"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Algorithm for checksum of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.filesize"})}),(0,s.jsx)(t.td,{children:"double"}),(0,s.jsx)(t.td,{children:"Size of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.filename"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"File name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.types"})}),(0,s.jsx)(t.td,{children:"array"}),(0,s.jsx)(t.td,{children:"Custom data file types"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"tags"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of tags (included dataset identifier)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"last"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if this the last version; otherwise false"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"version"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Identifier of Uniform Resource Name type (identical with IpId property)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"geometry"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Information package geometry in GeoJSON RFC 7946 Format"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"geometry.coordinates"})}),(0,s.jsx)(t.td,{children:"double"}),(0,s.jsx)(t.td,{children:"Geometry coordinates"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"geometry.type"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Geometry type (Point, MultiPoint, LineString, Polygon, MultiPolygon...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"geometry.bbox"})}),(0,s.jsx)(t.td,{children:"array"}),(0,s.jsx)(t.td,{children:"Geometry bounding box. List of points coordinates [xmin, ymin, xmax, ymax] in Double type."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"geometry.crs"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Coordinate reference system. If not specified, WGS84 is considered as the default CRS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"normalizedGeometry"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Geometry but normalized to be used on a cylindrical project"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"normalizedGeometry.coordinates"})}),(0,s.jsx)(t.td,{children:"doi"}),(0,s.jsx)(t.td,{children:"Normalized geometry coordinates"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"normalizedGeometry.type"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Normalized geometry type (Point, MultiPoint, LineString, Polygon, MultiPolygon...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"normalizedGeometry.bbox"})}),(0,s.jsx)(t.td,{children:"array"}),(0,s.jsx)(t.td,{children:"Geometry bounding box. List of points coordinates [xmin, ymin, xmax, ymax] in Double type."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"normalizedGeometry.crs"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Coordinate reference system. If not specified, WGS84 is considered as the default CRS"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"type"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Feature"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"crs"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Coordinate Reference System (default value: WGS84)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"properties"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"DATA model attributes"})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"entity-for-dataset-type",children:"Entity for DATASET type"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Nom"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"type"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity type: DATASET"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"creationDate"}),(0,s.jsx)(t.td,{children:"Date (format: date_optional_time)"}),(0,s.jsx)(t.td,{children:"Creation date of entity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"lastUpdate"}),(0,s.jsx)(t.td,{children:"Date (format: date_optional_time)"}),(0,s.jsx)(t.td,{children:"Update date of entity"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataModel"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model of Data type for entities included in this dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataSourceId"}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Data source identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"groups"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of group names for access right"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Entity technical identifier for database"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"internal"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if a entity of DATA type is internal(created from AIP) or false, external (created from external database)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ipId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsxs)(t.td,{children:["Identifier of Uniform Resource Name type (format: ",(0,s.jsx)(t.code,{children:"URN:StringId:DATA:tenant:UUID(entityId):version[,order][:revision]"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata"}),(0,s.jsx)(t.td,{children:"Object(see details below)"}),(0,s.jsx)(t.td,{children:"Information about a group access to a specific dataset for data objects"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"model"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Entity model"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.description"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model description"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.id"})}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Model technical identifier for database"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.name"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model name (identical with model property of feature)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"model.type"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model type : DATASET"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"newPoint"}),(0,s.jsx)(t.td,{children:"geo_point"}),(0,s.jsx)(t.td,{children:"Bounding box north west point"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"setPoint"}),(0,s.jsx)(t.td,{children:"geo_point"}),(0,s.jsx)(t.td,{children:"Bounding box south east point"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"openSearchSubsettingClause"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Representation of the above subsetting clause as an OpenSearch string request"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"plgConfDataSource"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Plugin configuration for the extension point (IDataSourcePlugin interface)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.active"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"Active or not the plugin"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.businessId"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Plugin business identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.label"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Plugin label"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.parameters"})}),(0,s.jsx)(t.td,{children:"nested"}),(0,s.jsx)(t.td,{children:"Configuration parameters of the plugin"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.pluginId"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Plugin identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.priorityOrder"})}),(0,s.jsx)(t.td,{children:"long"}),(0,s.jsx)(t.td,{children:"Priority order of the plugin."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"plgConfDataSource.version"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Plugin version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"tags"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of tags"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"wgs84"}),(0,s.jsx)(t.td,{children:"geo_shape"}),(0,s.jsx)(t.td,{children:"Geometry projection on WGS84 crs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"feature"}),(0,s.jsx)(t.td,{children:"Object(see details below)"}),(0,s.jsx)(t.td,{children:"Raw entity feature"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Metadata for ",(0,s.jsx)(t.strong,{children:"DATASET"})," type of entity"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataObjectsGroups"}),(0,s.jsx)(t.td,{children:"Map"}),(0,s.jsx)(t.td,{children:"Map of group names with access right for dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"dataObjectsGroups.<name>.groupName"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Group name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"dataObjectsGroups.<name>.dataFileAccess"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if access right for files of product; otherwise false"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"dataObjectsGroups.<name>.dataObjectAccess"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if access right for objects of products; otherwise false"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"dataObjectsGroups.<name>.dataAccess"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if access right for data of products; otherwise false"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"dataObjectsGroups.<name>.metaDataObjectAccessFilterPluginBusinessId"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Plugin identifier for the extension point :  IDataObjectAccessFilterPlugins"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Feature for ",(0,s.jsx)(t.strong,{children:"DATASET"})," type of entities"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataObjectsFilesAccessGranted"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if granted Access for data object files; otherwise denied access"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataObjectsAccessGranted"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"true if granted Access for data objects; otherwise denied access"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"licence"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Licence for dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"virtualId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsxs)(t.td,{children:["Virtual identifier of URN type in order to indicate if this is the last version (format: ",(0,s.jsx)(t.code,{children:"URN:StringId:DATASET:tenant:UUID(entityId):LAST"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"providerId"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Provider identifier"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"entityType"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Entity type : DATASET"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"id"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsxs)(t.td,{children:["Identifier of Uniform Resource Name type (format: ",(0,s.jsx)(t.code,{children:"URN:StringId:DATA:tenant:UUID(entityId):version[,order][:revision]"}),")"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"label"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Label of dataset"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"model"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Model name of entity (identical with name property of model)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"files"}),(0,s.jsx)(t.td,{children:"Map<DataType, DataFile>"}),(0,s.jsx)(t.td,{children:"Dataset-related entity files (example: thumbnail, quicklook, rawdata...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Enum of data type (RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile"})}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"Data for file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.dataType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Enum of data type (RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL...)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.reference"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"False indicates if the file is stored physical in REGARDS, otherwise true REGARDS doesn't store in REGARDS, only reference."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.uri"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Uniform Resource identifier of file in order to download. This URI is created by REGARDS."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.mimeType"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Mime type of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.online"})}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsx)(t.td,{children:"True indicates file is on line, otherwise near line for storage service"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.checksum"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Checksum of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.digestAlgorithm"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Algorithm for checksum of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.filesize"})}),(0,s.jsx)(t.td,{children:"double"}),(0,s.jsx)(t.td,{children:"Size of file"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.filename"})}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"File name"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.em,{children:"DataFile.types"})}),(0,s.jsx)(t.td,{children:"array"}),(0,s.jsx)(t.td,{children:"Custom data file types"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"tags"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"List of tags"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"version"}),(0,s.jsx)(t.td,{children:"integer"}),(0,s.jsx)(t.td,{children:"Entity version"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"type"}),(0,s.jsx)(t.td,{children:"text"}),(0,s.jsx)(t.td,{children:"Feature"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"properties"}),(0,s.jsx)(t.td,{children:"Object"}),(0,s.jsx)(t.td,{children:"DATA model attributes"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},82911:(e,t,i)=>{i.d(t,{A:()=>s});const s=i.p+"assets/images/dam-bc8dd392997af372adf7893df56df01f.svg"},28453:(e,t,i)=>{i.d(t,{R:()=>d,x:()=>a});var s=i(96540);const n={},r=s.createContext(n);function d(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);
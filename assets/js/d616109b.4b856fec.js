"use strict";(self.webpackChunkregardsoss_github_io=self.webpackChunkregardsoss_github_io||[]).push([[64782],{58968:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>o});var n=s(74848),r=s(28453);const d={id:"backend-amqp-get-product-progress",title:"Get product progress AMQP",sidebar_label:"Get product progress AMQP",slug:"/development/backend/services/lta-manager/guides/get-product-progress-amqp"},i=void 0,l={id:"development/backend/regards/lta-manager/api-guides/backend-amqp-get-product-progress",title:"Get product progress AMQP",description:"Exchange",source:"@site/versioned_docs/version-1.14/development/backend/regards/lta-manager/api-guides/amqp-get-product-progress.md",sourceDirName:"development/backend/regards/lta-manager/api-guides",slug:"/development/backend/services/lta-manager/guides/get-product-progress-amqp",permalink:"/docs/1.14/development/backend/services/lta-manager/guides/get-product-progress-amqp",draft:!1,unlisted:!1,editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.14/development/backend/regards/lta-manager/api-guides/amqp-get-product-progress.md",tags:[],version:"1.14",frontMatter:{id:"backend-amqp-get-product-progress",title:"Get product progress AMQP",sidebar_label:"Get product progress AMQP",slug:"/development/backend/services/lta-manager/guides/get-product-progress-amqp"},sidebar:"dev",previous:{title:"Submit product AMQP",permalink:"/docs/1.14/development/backend/services/lta-manager/guides/submit-product-amqp"},next:{title:"Create product REST",permalink:"/docs/1.14/development/backend/services/lta-manager/guides/create-product-rest"}},c={},o=[{value:"Exchange",id:"exchange",level:3},{value:"AMQP Headers",id:"amqp-headers",level:3},{value:"Granted response",id:"granted-response",level:3},{value:"Success response",id:"success-response",level:3},{value:"Invalid request responses",id:"invalid-request-responses",level:3},{value:"Internal error responses",id:"internal-error-responses",level:3}];function a(e){const t={admonition:"admonition",br:"br",code:"code",em:"em",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h3,{id:"exchange",children:"Exchange"}),"\n",(0,n.jsxs)(t.p,{children:["Exchange where submission requests responses are sent:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.code,{children:"regards.broadcast.fr.cnes.regards.modules.ltamanager.amqp.output.SubmissionResponseDtoEvent"}),(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.em,{children:"To listen to Submission requests responses, the REGARDS administrator must create for you a dedicated queue bound to this exchange and allow your RabbitMQ user to access to that queue."})]}),"\n",(0,n.jsx)(t.h3,{id:"amqp-headers",children:"AMQP Headers"}),"\n",(0,n.jsx)(t.p,{children:"Headers are the same for all kind of responses."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "app_id": "REGARDS",\n  "timestamp": 1681461977,\n  "correlation_id": "xxx",\n  "priority": 1,\n  "delivery_mode": 2,\n  "content_encoding": "UTF-8",\n  "content_type": "application/json",\n  "headers": {\n    "regards.tenant": "tenant"\n  }\n}\n'})}),"\n",(0,n.jsx)(t.h3,{id:"granted-response",children:"Granted response"}),"\n",(0,n.jsx)(t.p,{children:"REGARDS will publish a granted notification on the response exchange when the request is validated."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "correlationId": "xxx",\n    "productId": "xxx",\n    "responseStatus": "GRANTED",\n}\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Optional"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"correlationId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request identifier"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"productId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Id of the product to create"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"responseStatus"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Status of the request. More details below."})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"success-response",children:"Success response"}),"\n",(0,n.jsx)(t.p,{children:"REGARDS will publish a success notification on the response exchange when the request is terminated in success."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "correlationId": "xxx",\n    "productId": "xxx",\n    "responseStatus": "SUCCESS",\n    "expires": "2022-12-22T10:25:52.243Z",\n    "session": "xxx",\n    "message": ""\n}\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Optional"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"correlationId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request identifier"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"productId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Id of the product to create"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"responseStatus"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Status of the request. More details below."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"expires"}),(0,n.jsx)(t.td,{children:"String Date ISO 8601"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{children:["Request expiration date. Format yyyy-MM-dd'T'HH:mm",":ss",".SSSZ"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"session"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request session name"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"message"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{children:"Information message about your request"})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"invalid-request-responses",children:"Invalid request responses"}),"\n",(0,n.jsx)(t.p,{children:"REGARDS will publish a denied notification on the response exchange when the request is not valid."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "correlationId": "xxx",\n    "productId": "xxx",\n    "responseStatus": "DENIED",\n    "message": ""\n}\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Optional"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"correlationId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request identifier"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"productId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Id of the product to create"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"responseStatus"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Status of the request. More details below."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"message"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{children:"Information message about your request"})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"A request can be invalid, if :"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Request is not well formed"}),"\n",(0,n.jsx)(t.li,{children:"Provided datatype is unknown or not configured."}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{title:"How to handle it?",type:"info",children:(0,n.jsx)(t.p,{children:"Look at your request, fix it and submit a new one."})}),"\n",(0,n.jsx)(t.h3,{id:"internal-error-responses",children:"Internal error responses"}),"\n",(0,n.jsx)(t.p,{children:"After request has been granted by REGARDS, internal errors may occur.  In such case, an error response will be published on the response exchange."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n    "correlationId": "xxx",\n    "productId": "xxx",\n    "responseStatus": "ERROR",\n    "expires": "2022-12-22T10:25:52.243Z",\n    "session": "xxx",\n    "message": "Cause of the internal error"\n}\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"center"},children:"Optional"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"correlationId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request identifier"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"productId"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Id of the product to create"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"responseStatus"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Status of the request. More details below."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"expires"}),(0,n.jsx)(t.td,{children:"String Date ISO 8601"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsxs)(t.td,{children:["Request expiration date. Format yyyy-MM-dd'T'HH:mm",":ss",".SSSZ"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"session"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,n.jsx)(t.td,{children:"Request session name"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"message"}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,n.jsx)(t.td,{children:"Information message about your request"})]})]})]}),"\n",(0,n.jsx)(t.admonition,{title:"How to handle it?",type:"info",children:(0,n.jsx)(t.p,{children:"Retry later with new request or contact REGARDS administrators."})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>l});var n=s(96540);const r={},d=n.createContext(r);function i(e){const t=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(d.Provider,{value:t},e.children)}}}]);
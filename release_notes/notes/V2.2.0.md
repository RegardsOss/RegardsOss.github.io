---
id: release-notes-v2.2.0
title: Version 2.2.0
slug: /v2.2.0/
sidebar_position: 9973
---

Released on : 01/07/2025  
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
**Operational version**

## Features

### PWH Plugin (Pleiades World Heritage) for microservice rs-processing

Addition of three optional parameters for the configuration file supplied to the DINAMIS service:

- login(type String): login of the DINAMIS user,
- label(type String): label associated with the order
- enableMaja(type boolean): enable or disable Maja processing.

### STAC(SpatioTemporal Asset Catalog)

The requirement is to make the REGARDS STAC interface compatible with :

- STAC API 1.0.0 : https://github.com/radiantearth/stac-api-spec/tree/main
- STAC SPEC 1.1.0 : https://github.com/radiantearth/stac-spec/blob/dev/CHANGELOG.md

This upgrade specifically enables properties (or metadata) to be added to product assets (files associated with
products), such as the ‘bands’ property, based on what is proposed in the STAC spec via ‘additional
fields’ (https://github.com/radiantearth/stac-spec/blob/dev/commons/assets.md#additional-fields).

### Ansible

The REGARDS playbooks were updated to be compatible with Ansible version 2.17.

### Logger message : security type

Security logs have been added and directed to a security log concentrator available on the CNES network using the syslog
protocol. New security logs have been integrated into REGARDS microservices, and logs from COTS deployed by REGARDS have
been filtered. This change impacts only deployments in a Docker SWARM environment for security validation purposes.

## Breaking change

### Deployment

You need to follow the Ansible migration guide to update your playbook from V2.1.0 to V2.2.0

### REST API

- rs-admin / rs-admin-instance
    - Email verification is now managed at the instance level rather than on a per-project basis. As a consequence,
      related APIs have moved from the `rs-admin` namespace to the `rs-admin-instance` one. The replacement APIs below
      keep the same specifications as their counterpart, with the exception of the `scope` parameter that is removed.

| Removed API                                                                                                             | Replacement API                                               |
|-------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------|
| `GET /rs-admin/users/email/{email}/verification/resend`, `GET /rs-admin-public/users/email/{email}/verification/resend` | `GET /rs-admin-instance/accounts/{email}/verification/resend` |
| `GET /rs-admin/accesses/verifyEmail/{token}`                                                                            | `GET /rs-admin-instance/accounts/verifyEmail/{token}`         |

- rs-access

| Removed API                                              |
|----------------------------------------------------------|
| `GET /rs-access/users/email/{email}/verification/resend` |
| `GET /rs-access/accesses/verifyEmail/{token}`            |

### AMQP API

No breaking changes.

## Bug fixes

- rs-ingest
    - Standardises the search criteria for **session** and **source** parameters (always for use with EQUALS) in the
      Processing and Products tabs of the GUI.

- rs-fem
    - Fixed a problem in the URN recovery algorithm when selecting GeoJson products for deletion. REGARDS was not
      deleting all selected products.

- rs-downloader
    - Fixes a problem concerning the configuration of the database connection when creating a project using the REGARDS
      instance GUI. The rs-downloader microservice must share the same connection as the rs-storage microservice.

- rs-storage
    - Improved the error message when a product file URL is incorrectly formatted

- rs-admin / rs-admin-instance
    - Fixed several errors related to account expiry and password change when these events occur simultaneously
    - Modifies the user account creation process so that an email is only sent once if the user has accounts on
      different REGARDS projects (several project users)
    - Fixed a problem when modifying roles in relation to endpoints by improving the algorithm for adding/removing a
      resource from a role

- rs-lta-manager
    - Fixed a problem concerning JSON serialisation in API documentation using the Swagger tool.

- GUI
    - Fixed a control problem when entering mandatory fields (type: String_Array) when creating a dataset
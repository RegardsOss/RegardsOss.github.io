{"openapi":"3.0.1","info":{"title":"MICROSERVICE ACCESS INSTANCE","description":"Configuration for portal and instance admin GUI","license":{"name":"GPL-3.0"},"version":"1.7.1"},"servers":[{"url":"https://regardsoss.github.io/api/v1/rs-access-instance","description":"Generated server url"}],"security":[{"REGARDS_OAUTH2":[]}],"paths":{"/layouts/{applicationId}":{"get":{"tags":["ui-layout-controller"],"operationId":"retrieveUILayout","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelUILayout"}}}}}},"put":{"tags":["ui-layout-controller"],"operationId":"updateUILayout","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UILayout"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelUILayout"}}}}}}},"/applications/{applicationId}/modules":{"get":{"tags":["module-controller"],"operationId":"retrieveModules","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"active","in":"query","required":false,"schema":{"type":"string"}},{"name":"type","in":"query","required":false,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"assembler","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PagedResourcesAssemblerModule"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelEntityModelModule"}}}}}},"post":{"tags":["module-controller"],"operationId":"saveModule","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Module"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelModule"}}}}}}},"/applications/{applicationId}/modules/{moduleId}":{"get":{"tags":["module-controller"],"operationId":"retrieveModule","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"moduleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelModule"}}}}}},"put":{"tags":["module-controller"],"operationId":"updateModule","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"moduleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Module"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelModule"}}}}}},"delete":{"tags":["module-controller"],"operationId":"deleteModule","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}},{"name":"moduleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"default response"}}}},"/themes/{themeId}":{"get":{"tags":["theme-controller"],"operationId":"retrieveTheme","parameters":[{"name":"themeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelTheme"}}}}}},"put":{"tags":["theme-controller"],"operationId":"updateTheme","parameters":[{"name":"themeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Theme"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelTheme"}}}}}},"delete":{"tags":["theme-controller"],"operationId":"deleteTheme","parameters":[{"name":"themeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"default response"}}}},"/themes":{"get":{"tags":["theme-controller"],"operationId":"retrieveThemes","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"assembler","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PagedResourcesAssemblerTheme"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelEntityModelTheme"}}}}}},"post":{"tags":["theme-controller"],"operationId":"saveTheme","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Theme"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelTheme"}}}}}}},"/configuration/{applicationId}":{"get":{"tags":["ui-configuration-controller"],"operationId":"retrieveConfiguration","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelConfigurationDTO"}}}}}},"put":{"tags":["ui-configuration-controller"],"operationId":"updateConfiguration","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationDTO"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelConfigurationDTO"}}}}}},"post":{"tags":["ui-configuration-controller"],"operationId":"addConfiguration","parameters":[{"name":"applicationId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationDTO"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelConfigurationDTO"}}}}}}},"/toponyms":{"get":{"tags":["toponyms-controller"],"operationId":"find","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"assembler","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PagedResourcesAssemblerToponymDTO"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedModelEntityModelToponymDTO"}}}}}},"post":{"tags":["toponyms-controller"],"operationId":"createNotVisibleToponym","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToponymGeoJson"}}},"required":true},"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelToponymDTO"}}}}}}},"/toponyms/{businessId}":{"get":{"tags":["toponyms-controller"],"operationId":"get","parameters":[{"name":"businessId","in":"path","required":true,"schema":{"type":"string"}},{"name":"simplified","in":"query","required":false,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityModelToponymDTO"}}}}}}},"/toponyms/search":{"get":{"tags":["toponyms-controller"],"operationId":"search","parameters":[{"name":"partialLabel","in":"query","required":false,"schema":{"type":"string"}},{"name":"locale","in":"query","required":false,"schema":{"type":"string","default":"en"}}],"responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityModelToponymDTO"}}}}}}}},"/maintenance":{"get":{"tags":["maintenance-controller"],"operationId":"retrieveTenantsInMaintenance","responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/EntityModelMapStringMaintenanceInfo"}}}}}}},"/maintenance/{tenant}/enable":{"put":{"tags":["maintenance-controller"],"operationId":"setMaintenance","parameters":[{"name":"tenant","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response"}}}},"/maintenance/{tenant}/disable":{"put":{"tags":["maintenance-controller"],"operationId":"unSetMaintenance","parameters":[{"name":"tenant","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"default response"}}}},"/shutdown/immediate":{"post":{"tags":["manager-controller"],"operationId":"immediateShutdown","responses":{"200":{"description":"default response"}}}},"/microservice/ready":{"get":{"tags":["module-manager-controller"],"operationId":"isReady","responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ModuleReadinessReportObject"}}}}}}},"/microservice/configuration":{"get":{"tags":["module-manager-controller"],"operationId":"exportConfiguration","responses":{"200":{"description":"default response"}}},"post":{"tags":["module-manager-controller"],"operationId":"importConfiguration","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ModuleImportReport"}}}}}}}},"/microservice/ready/enabled":{"get":{"tags":["module-manager-controller"],"operationId":"isReadyEnabled","responses":{"200":{"description":"default response"}}}},"/microservice/restart/enabled":{"get":{"tags":["module-manager-controller"],"operationId":"isRestartEnabled","responses":{"200":{"description":"default response"}}}},"/microservice/restart":{"get":{"tags":["module-manager-controller"],"operationId":"restart","responses":{"200":{"description":"default response","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ModuleRestartReport"}}}}}}}},"/microservice/configuration/enabled":{"get":{"tags":["module-manager-controller"],"operationId":"isConfigurationEnabled","responses":{"200":{"description":"default response"}}}},"/security/resources":{"get":{"tags":["security-resources-controller"],"operationId":"getAllResources","responses":{"200":{"description":"default response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceMapping"}}}}}}}}},"components":{"schemas":{"EntityModelUILayout":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"applicationId":{"type":"string"},"layout":{"type":"string"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"Link":{"type":"object","properties":{"rel":{"type":"string"},"href":{"type":"string"},"hreflang":{"type":"string"},"media":{"type":"string"},"title":{"type":"string"},"type":{"type":"string"},"deprecation":{"type":"string"},"profile":{"type":"string"},"name":{"type":"string"}}},"UILayout":{"required":["applicationId","layout"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"applicationId":{"type":"string"},"layout":{"type":"string"}}},"Module":{"required":["active","applicationId","container","description","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"type":{"type":"string"},"description":{"type":"string"},"applicationId":{"type":"string"},"container":{"type":"string"},"conf":{"type":"string"},"active":{"type":"boolean"},"page":{"$ref":"#/components/schemas/UIPage"}}},"UIPage":{"type":"object","properties":{"home":{"type":"boolean"},"iconType":{"type":"string"},"customIconURL":{"type":"string"},"title":{"type":"string"}}},"EntityModelModule":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"type":{"type":"string"},"description":{"type":"string"},"applicationId":{"type":"string"},"container":{"type":"string"},"conf":{"type":"string"},"active":{"type":"boolean"},"page":{"$ref":"#/components/schemas/UIPage"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"Pageable":{"type":"object","properties":{"sort":{"$ref":"#/components/schemas/Sort"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"}}},"Sort":{"type":"object","properties":{"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"PagedResourcesAssemblerModule":{"type":"object","properties":{"forceFirstAndLastRels":{"type":"boolean","writeOnly":true}}},"PageMetadata":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int64"},"number":{"type":"integer","format":"int64"}}},"PagedModelEntityModelModule":{"type":"object","properties":{"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}},"content":{"type":"array","items":{"$ref":"#/components/schemas/EntityModelModule"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"Theme":{"required":["active","configuration","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"active":{"type":"boolean"},"configuration":{"type":"string"}}},"EntityModelTheme":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"active":{"type":"boolean"},"configuration":{"type":"string"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"PagedResourcesAssemblerTheme":{"type":"object","properties":{"forceFirstAndLastRels":{"type":"boolean","writeOnly":true}}},"PagedModelEntityModelTheme":{"type":"object","properties":{"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}},"content":{"type":"array","items":{"$ref":"#/components/schemas/EntityModelTheme"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"ConfigurationDTO":{"type":"object","properties":{"configuration":{"type":"string"}}},"EntityModelConfigurationDTO":{"type":"object","properties":{"configuration":{"type":"string"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"ToponymGeoJson":{"type":"object","properties":{"feature":{"type":"string"},"user":{"type":"string"},"project":{"type":"string"}}},"EntityModelToponymDTO":{"type":"object","properties":{"businessId":{"type":"string"},"labelEn":{"type":"string"},"labelFr":{"type":"string"},"geometry":{"$ref":"#/components/schemas/IGeometry"},"copyright":{"type":"string"},"visible":{"type":"boolean"},"toponymMetadata":{"$ref":"#/components/schemas/ToponymMetadata"},"description":{"type":"string"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"IGeometry":{"type":"object","properties":{"crs":{"type":"string","writeOnly":true},"type":{"type":"string","enum":["FEATURE","FEATURE_COLLECTION","POINT","MULTIPOINT","LINESTRING","MULTILINESTRING","POLYGON","MULTIPOLYGON","GEOMETRY_COLLECTION","UNLOCATED"]}}},"ToponymMetadata":{"type":"object","properties":{"creationDate":{"type":"string","format":"date-time"},"expirationDate":{"type":"string","format":"date-time"},"project":{"type":"string"},"author":{"type":"string"}}},"PagedResourcesAssemblerToponymDTO":{"type":"object","properties":{"forceFirstAndLastRels":{"type":"boolean","writeOnly":true}}},"PagedModelEntityModelToponymDTO":{"type":"object","properties":{"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}},"content":{"type":"array","items":{"$ref":"#/components/schemas/EntityModelToponymDTO"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"EntityModelMapStringMaintenanceInfo":{"type":"object","properties":{"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"ModuleReadinessReportObject":{"type":"object","properties":{"ready":{"type":"boolean"},"reasons":{"type":"array","items":{"type":"string"}},"specifications":{"type":"object"}}},"ModuleImportReport":{"type":"object","properties":{"moduleInformation":{"$ref":"#/components/schemas/ModuleInformation"},"importErrors":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"onlyErrors":{"type":"boolean"}}},"ModuleInformation":{"required":["author","id","name","version"],"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"version":{"type":"string"},"author":{"type":"string"},"legalOwner":{"type":"string"},"documentation":{"type":"string"}}},"ModuleRestartReport":{"type":"object","properties":{"moduleInformation":{"$ref":"#/components/schemas/ModuleInformation"},"messages":{"type":"array","items":{"type":"string"}}}},"ResourceAccess":{"type":"object"},"ResourceMapping":{"type":"object","properties":{"resourceAccess":{"$ref":"#/components/schemas/ResourceAccess"},"fullPath":{"type":"string"},"controllerSimpleName":{"type":"string"},"method":{"type":"string","enum":["GET","HEAD","POST","PUT","PATCH","DELETE","OPTIONS","TRACE"]},"autorizedRoles":{"type":"array","items":{"$ref":"#/components/schemas/RoleAuthority"}},"resourceMappingId":{"type":"string"}}},"RoleAuthority":{"type":"object","properties":{"authorizedIpAdresses":{"type":"array","items":{"type":"string"}},"roleName":{"type":"string"},"authority":{"type":"string"}}}},"securitySchemes":{"REGARDS_OAUTH2":{"type":"oauth2","flows":{"password":{"tokenUrl":"http://vm-perf.cloud-espace.si.c-s.fr:80/api/v1/rs-authentication/oauth/token","scopes":{}}}}}}}
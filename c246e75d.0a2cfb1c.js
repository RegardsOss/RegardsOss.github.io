(window.webpackJsonp=window.webpackJsonp||[]).push([[2e3],{2070:function(n,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return o})),t.d(e,"metadata",(function(){return s})),t.d(e,"toc",(function(){return c})),t.d(e,"default",(function(){return p}));var a=t(3),i=t(7),r=(t(0),t(2701)),o={id:"backend-dataprovider-api",title:"REGARDS dataprovider API",sidebar_label:"Dataprovider",slug:"/development/backend/dataprovider/api"},s={unversionedId:"development/backend/regards/dataprovider/api/backend-dataprovider-api",id:"version-1.4.0/development/backend/regards/dataprovider/api/backend-dataprovider-api",isDocsHomePage:!1,title:"REGARDS dataprovider API",description:"How to access API endpoints",source:"@site/versioned_docs/version-1.4.0/development/backend/regards/dataprovider/api/acquisition-api.md",slug:"/development/backend/dataprovider/api",permalink:"/docs/1.4.0/development/backend/dataprovider/api",editUrl:"https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.4.0/development/backend/regards/dataprovider/api/acquisition-api.md",version:"1.4.0",sidebar_label:"Dataprovider",sidebar:"version-1.4.0/dev",previous:{title:"REGARDS dataprovider microservice",permalink:"/docs/1.4.0/development/backend/dataprovider/overview"},next:{title:"Acquisition chain - Post processing plugins",permalink:"/docs/1.4.0/development/backend/dataprovider/plugins/post-processing"}},c=[{value:"How to access API endpoints",id:"how-to-access-api-endpoints",children:[]},{value:"Create an acquisition chain",id:"create-an-acquisition-chain",children:[]},{value:"Get all acquisition chain",id:"get-all-acquisition-chain",children:[]},{value:"Get an acquisition chain",id:"get-an-acquisition-chain",children:[]},{value:"Start and stop an acquisition chain",id:"start-and-stop-an-acquisition-chain",children:[]},{value:"Update an acquisition chain",id:"update-an-acquisition-chain",children:[]},{value:"Update state and mode",id:"update-state-and-mode",children:[]},{value:"Delete an acquisition chain",id:"delete-an-acquisition-chain",children:[]},{value:"Export a configuration",id:"export-a-configuration",children:[]},{value:"Import a configuration",id:"import-a-configuration",children:[]},{value:"Search all files",id:"search-all-files",children:[]},{value:"Search files by state",id:"search-files-by-state",children:[]},{value:"Search all files",id:"search-all-files-1",children:[]}],l={toc:c};function p(n){var e=n.components,t=Object(i.a)(n,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"how-to-access-api-endpoints"},"How to access API endpoints"),Object(r.b)("p",null,"You can access each endpoint of this API thanks to a ",Object(r.b)("inlineCode",{parentName:"p"},"Curl")," request."),Object(r.b)("p",null,"You can request without auhentication by adding the REGARDS project in the request thanks to the parameter ",Object(r.b)("inlineCode",{parentName:"p"},"scope")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"curl http://localhost:<rs-dataprovider port>/<endpoint>?scope=<project>\n")),Object(r.b)("p",null,"Or you can authenticate to access admin endpoints. To do so, use the ",Object(r.b)("a",{parentName:"p",href:"../authentication/api"},"authentication API")," to get a token and then add the token to the request headers."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"curl http://localhost:<rs-dataprovider port>/<endpoint> -H 'Authorization: bearer <token>'\n")),Object(r.b)("p",null,"To access endpoints from ",Object(r.b)("inlineCode",{parentName:"p"},"outside"),' the microservice installation server, you need to use the "gateway" microservice. To do so, use the here under access point instead of the previous one.'),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-bash"},"curl http://<gateway host>:<gateway port>/rs-dataprovider/api/v1/<endpoint>\n")),Object(r.b)("h1",{id:"overview"},"Overview"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"This API allows to create, launch and monitor acquisition processing chains.\n")),Object(r.b)("h1",{id:"acquisition-chain-management-api"},"Acquisition chain management API"),Object(r.b)("h2",{id:"create-an-acquisition-chain"},"Create an acquisition chain"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains`\n\n    ***URL template**\n\n    `/chains`\n\n    ***Method**\n\n    `POST`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n")),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    {\n  "label" : "Processing chain 1",\n  "active" : true,\n  "mode" : "MANUAL",\n  "locked" : false,\n  "periodicity" : "0 * * * * *",\n  "ingestChain" : "DefaultIngestChain",\n  "storages" : [ {\n    "pluginBusinessId" : "AWS",\n    "storePath" : "/path/to/file",\n    "targetTypes" : [ ]\n  }, {\n    "pluginBusinessId" : "HELLO",\n    "storePath" : "/other/path/to/file",\n    "targetTypes" : [ ]\n  } ],\n  "categories" : [ ],\n  "fileInfos" : [ {\n    "mandatory" : true,\n    "scanPlugin" : {\n      "pluginId" : "GlobDiskScanning",\n      "label" : "post : Scan plugin",\n      "businessId" : "a8371d92-8bdf-4a8d-affa-41036a80457e",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ {\n        "name" : "directories",\n        "type" : "COLLECTION",\n        "value" : [ ],\n        "dynamic" : false\n      } ]\n    },\n    "mimeType" : "application/octet-stream",\n    "dataType" : "RAWDATA",\n    "comment" : "A comment"\n  } ],\n  "validationPluginConf" : {\n    "pluginId" : "DefaultFileValidation",\n    "label" : "post : Validation plugin",\n    "businessId" : "f17562b7-42f5-4c5c-b5ef-a525724b1534",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  },\n  "productPluginConf" : {\n    "pluginId" : "DefaultProductPlugin",\n    "label" : "post : Product plugin",\n    "businessId" : "95240aec-f694-4848-8c16-2f6306625daf",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  },\n  "generateSipPluginConf" : {\n    "pluginId" : "DefaultSIPGeneration",\n    "label" : "post : SIP generation plugin",\n    "businessId" : "3e26bb35-bb74-4a80-8712-4018ee196054",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  }\n}\n'))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"|Path|Type|Description|Constraints| |:--:|:--:|:---------:|:---------:|\n    |label| `String` |Label|Must not be blank|\n    |active| `Boolean` |Activation status|Must not be null|\n    |mode| `String` |Mode|Must not be null. Allowed values : MANUAL, AUTO|\n    |session| `String` |Ingest session name for SIP submission||\n    |categories| `interface java.util.List` |Ingest categories|Must not be null|\n    |ingestChain| `String` |Ingest chain name for SIP submission|Must not be blank|\n    |locked| `Boolean` |Internal chain processing lock|NA|\n    |periodicity| `Long` |Automatic chain activation periodicity in second|Must match the regular expression `0 .*`|\n    |fileInfos[]| `Array` |Arrays of file information / TODO||\n    |fileInfos[].mandatory| `Boolean` |True if the product must contain this file|Must not be null|\n    |fileInfos[].scanPlugin| `Object` |Scan plugin configuration / TODO|Must not be null|\n    |fileInfos[].lastModificationDate| `String` |Most recent last modification ISO 8601 date of all scanned files||\n    |fileInfos[].mimeType| `String` |File MIME type|Must not be null|\n    |fileInfos[].dataType| `String` |REGARDS data type|Must not be null. Allowed values : RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL, OTHER, AIP, DESCRIPTION|\n    |fileInfos[].comment| `String` |REGARDS data type||\n    |validationPluginConf| `Object` |Validation plugin configuration / TODO|Must not be null|\n    |productPluginConf| `Object` |Product plugin configuration / TODO|Must not be null|\n    |generateSipPluginConf| `Object` |Generate SIP plugin configuration / TODO|Must not be null|\n    |postProcessSipPluginConf| `Object` |Optional SIP post processing plugin configuration / TODO||\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 201 Created"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "content" : {\n    "id" : 107,\n    "label" : "Processing chain 1",\n    "active" : true,\n    "mode" : "MANUAL",\n    "locked" : false,\n    "periodicity" : "0 * * * * *",\n    "ingestChain" : "DefaultIngestChain",\n    "storages" : [ {\n      "pluginBusinessId" : "AWS",\n      "storePath" : "/path/to/file",\n      "targetTypes" : [ ]\n    }, {\n      "pluginBusinessId" : "HELLO",\n      "storePath" : "/other/path/to/file",\n      "targetTypes" : [ ]\n    } ],\n    "categories" : [ ],\n    "fileInfos" : [ {\n      "id" : 107,\n      "mandatory" : true,\n      "scanPlugin" : {\n        "id" : 124,\n        "pluginId" : "GlobDiskScanning",\n        "label" : "post : Scan plugin",\n        "businessId" : "a8371d92-8bdf-4a8d-affa-41036a80457e",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ {\n          "name" : "directories",\n          "type" : "COLLECTION",\n          "value" : [ ],\n          "dynamic" : false\n        } ]\n      },\n      "mimeType" : "application/octet-stream",\n      "dataType" : "RAWDATA",\n      "comment" : "A comment"\n    } ],\n    "validationPluginConf" : {\n      "id" : 125,\n      "pluginId" : "DefaultFileValidation",\n      "label" : "post : Validation plugin",\n      "businessId" : "f17562b7-42f5-4c5c-b5ef-a525724b1534",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "productPluginConf" : {\n      "id" : 126,\n      "pluginId" : "DefaultProductPlugin",\n      "label" : "post : Product plugin",\n      "businessId" : "95240aec-f694-4848-8c16-2f6306625daf",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "generateSipPluginConf" : {\n      "id" : 127,\n      "pluginId" : "DefaultSIPGeneration",\n      "label" : "post : SIP generation plugin",\n      "businessId" : "3e26bb35-bb74-4a80-8712-4018ee196054",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    }\n  },\n  "links" : [ {\n    "rel" : "list",\n    "href" : "http://localhost:8080/chains"\n  }, {\n    "rel" : "update",\n    "href" : "http://localhost:8080/chains/107"\n  }, {\n    "rel" : "patch",\n    "href" : "http://localhost:8080/chains/107"\n  } ]\n}\n'))),Object(r.b)("h2",{id:"get-all-acquisition-chain"},"Get all acquisition chain"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains`\n\n    ***URL template**\n\n    `/chains`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "metadata" : {\n    "size" : 10,\n    "totalElements" : 2,\n    "totalPages" : 1,\n    "number" : 0\n  },\n  "content" : [ {\n    "content" : {\n      "id" : 104,\n      "label" : "Processing chain 1",\n      "active" : true,\n      "mode" : "MANUAL",\n      "locked" : false,\n      "periodicity" : "0 * * * * *",\n      "ingestChain" : "DefaultIngestChain",\n      "storages" : [ {\n        "pluginBusinessId" : "AWS",\n        "storePath" : "/path/to/file",\n        "targetTypes" : [ ]\n      }, {\n        "pluginBusinessId" : "HELLO",\n        "storePath" : "/other/path/to/file",\n        "targetTypes" : [ ]\n      } ],\n      "categories" : [ ],\n      "fileInfos" : [ {\n        "id" : 104,\n        "mandatory" : true,\n        "scanPlugin" : {\n          "id" : 111,\n          "pluginId" : "GlobDiskScanning",\n          "label" : "one : Scan plugin",\n          "businessId" : "c6902792-c2c7-4130-92e4-5e8fe5737678",\n          "version" : "1.0.0-SNAPSHOT",\n          "priorityOrder" : 0,\n          "active" : true,\n          "parameters" : [ {\n            "name" : "directories",\n            "type" : "COLLECTION",\n            "value" : [ ],\n            "dynamic" : false\n          } ]\n        },\n        "mimeType" : "application/octet-stream",\n        "dataType" : "RAWDATA",\n        "comment" : "A comment"\n      } ],\n      "validationPluginConf" : {\n        "id" : 112,\n        "pluginId" : "DefaultFileValidation",\n        "label" : "one : Validation plugin",\n        "businessId" : "fde2cb70-7c53-4d3e-9da8-3b50fbd5ae1c",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      },\n      "productPluginConf" : {\n        "id" : 113,\n        "pluginId" : "DefaultProductPlugin",\n        "label" : "one : Product plugin",\n        "businessId" : "28af0932-944b-445b-bd5e-389bfefd18b6",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      },\n      "generateSipPluginConf" : {\n        "id" : 114,\n        "pluginId" : "DefaultSIPGeneration",\n        "label" : "one : SIP generation plugin",\n        "businessId" : "a8880540-b938-4d42-9031-ee4e245ccebf",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      }\n    },\n    "links" : [ {\n      "rel" : "list",\n      "href" : "http://localhost:8080/chains"\n    }, {\n      "rel" : "update",\n      "href" : "http://localhost:8080/chains/104"\n    }, {\n      "rel" : "patch",\n      "href" : "http://localhost:8080/chains/104"\n    } ]\n  }, {\n    "content" : {\n      "id" : 105,\n      "label" : "Processing chain 1",\n      "active" : true,\n      "mode" : "MANUAL",\n      "locked" : false,\n      "periodicity" : "0 * * * * *",\n      "ingestChain" : "DefaultIngestChain",\n      "storages" : [ {\n        "pluginBusinessId" : "AWS",\n        "storePath" : "/path/to/file",\n        "targetTypes" : [ ]\n      }, {\n        "pluginBusinessId" : "HELLO",\n        "storePath" : "/other/path/to/file",\n        "targetTypes" : [ ]\n      } ],\n      "categories" : [ ],\n      "fileInfos" : [ {\n        "id" : 105,\n        "mandatory" : true,\n        "scanPlugin" : {\n          "id" : 115,\n          "pluginId" : "GlobDiskScanning",\n          "label" : "two : Scan plugin",\n          "businessId" : "46bf2d07-e540-44d1-ba3d-aa9fd5b49237",\n          "version" : "1.0.0-SNAPSHOT",\n          "priorityOrder" : 0,\n          "active" : true,\n          "parameters" : [ {\n            "name" : "directories",\n            "type" : "COLLECTION",\n            "value" : [ ],\n            "dynamic" : false\n          } ]\n        },\n        "mimeType" : "application/octet-stream",\n        "dataType" : "RAWDATA",\n        "comment" : "A comment"\n      } ],\n      "validationPluginConf" : {\n        "id" : 116,\n        "pluginId" : "DefaultFileValidation",\n        "label" : "two : Validation plugin",\n        "businessId" : "a08118a2-e194-4a0b-9621-61b54963f6ab",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      },\n      "productPluginConf" : {\n        "id" : 117,\n        "pluginId" : "DefaultProductPlugin",\n        "label" : "two : Product plugin",\n        "businessId" : "e5123b90-360d-4ca8-8120-6b7448fd880d",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      },\n      "generateSipPluginConf" : {\n        "id" : 118,\n        "pluginId" : "DefaultSIPGeneration",\n        "label" : "two : SIP generation plugin",\n        "businessId" : "88ca1c7f-2932-4d97-8146-e154aa4f9bce",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ ]\n      }\n    },\n    "links" : [ {\n      "rel" : "list",\n      "href" : "http://localhost:8080/chains"\n    }, {\n      "rel" : "update",\n      "href" : "http://localhost:8080/chains/105"\n    }, {\n      "rel" : "patch",\n      "href" : "http://localhost:8080/chains/105"\n    } ]\n  } ],\n  "links" : [ {\n    "rel" : "self",\n    "href" : "http://localhost:8080/chains?page=0&size=10&sort=id,asc"\n  } ]\n}\n'))),Object(r.b)("h2",{id:"get-an-acquisition-chain"},"Get an acquisition chain"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains/108`\n\n    ***URL template**\n\n    `/chains/{chainId}`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***URL params**\n\n    `/chains/{chainId}`\n\n    Parameter|Type|Description|Constraints\n    :-------:|:--:|:---------:|:---------:\n    `chainId` |String|Acquisition chain identifier|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "content" : {\n    "id" : 108,\n    "label" : "Processing chain 1",\n    "active" : true,\n    "mode" : "MANUAL",\n    "locked" : false,\n    "periodicity" : "0 * * * * *",\n    "ingestChain" : "DefaultIngestChain",\n    "storages" : [ {\n      "pluginBusinessId" : "AWS",\n      "storePath" : "/path/to/file",\n      "targetTypes" : [ ]\n    }, {\n      "pluginBusinessId" : "HELLO",\n      "storePath" : "/other/path/to/file",\n      "targetTypes" : [ ]\n    } ],\n    "categories" : [ ],\n    "fileInfos" : [ {\n      "id" : 108,\n      "mandatory" : true,\n      "scanPlugin" : {\n        "id" : 128,\n        "pluginId" : "GlobDiskScanning",\n        "label" : "first : Scan plugin",\n        "businessId" : "3f485837-1ee2-485c-b1a3-2ce4466629bd",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ {\n          "name" : "directories",\n          "type" : "COLLECTION",\n          "value" : [ ],\n          "dynamic" : false\n        } ]\n      },\n      "mimeType" : "application/octet-stream",\n      "dataType" : "RAWDATA",\n      "comment" : "A comment"\n    } ],\n    "validationPluginConf" : {\n      "id" : 129,\n      "pluginId" : "DefaultFileValidation",\n      "label" : "first : Validation plugin",\n      "businessId" : "c6976962-a622-44a2-adce-2bd4f2d0f200",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "productPluginConf" : {\n      "id" : 130,\n      "pluginId" : "DefaultProductPlugin",\n      "label" : "first : Product plugin",\n      "businessId" : "8da82678-d954-49b5-aa05-b6063e2e267c",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "generateSipPluginConf" : {\n      "id" : 131,\n      "pluginId" : "DefaultSIPGeneration",\n      "label" : "first : SIP generation plugin",\n      "businessId" : "d25bd604-cb13-4a09-967c-77210d2fc9d4",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    }\n  },\n  "links" : [ {\n    "rel" : "list",\n    "href" : "http://localhost:8080/chains"\n  }, {\n    "rel" : "self",\n    "href" : "http://localhost:8080/chains/108"\n  }, {\n    "rel" : "update",\n    "href" : "http://localhost:8080/chains/108"\n  }, {\n    "rel" : "patch",\n    "href" : "http://localhost:8080/chains/108"\n  } ]\n}\n'))),Object(r.b)("h2",{id:"start-and-stop-an-acquisition-chain"},"Start and stop an acquisition chain"),Object(r.b)("p",null,"An enabled acquisition chain can be started via a ",Object(r.b)("inlineCode",{parentName:"p"},"GET\n/chains/{chainId}/start")," request,  "),Object(r.b)("p",null,"or stopped via a ",Object(r.b)("inlineCode",{parentName:"p"},"GET /chains/{chainId}/stop")," request."),Object(r.b)("p",null,"See ",Object(r.b)("a",{parentName:"p",href:"#chain-path-parameters"},"Chain URL parameters"),"."),Object(r.b)("h2",{id:"update-an-acquisition-chain"},"Update an acquisition chain"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains/106`\n\n    ***URL template**\n\n    `/chains/{chainId}`\n\n    ***Method**\n\n    `PUT`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***URL params**\n\n    `/chains/{chainId}`\n\n    Parameter|Type|Description|Constraints\n    :-------:|:--:|:---------:|:---------:\n    `chainId` |Number|Acquisition chain identifier|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n")),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    {\n  "id" : 106,\n  "label" : "Processing chain 1",\n  "active" : true,\n  "mode" : "MANUAL",\n  "locked" : false,\n  "periodicity" : "0 * * * * *",\n  "ingestChain" : "DefaultIngestChain",\n  "storages" : [ {\n    "pluginBusinessId" : "AWS",\n    "storePath" : "/path/to/file",\n    "targetTypes" : [ ]\n  }, {\n    "pluginBusinessId" : "HELLO",\n    "storePath" : "/other/path/to/file",\n    "targetTypes" : [ ]\n  } ],\n  "categories" : [ ],\n  "fileInfos" : [ {\n    "id" : 106,\n    "mandatory" : true,\n    "scanPlugin" : {\n      "pluginId" : "GlobDiskScanning",\n      "label" : "Scan plugin update",\n      "businessId" : "be2a4b25-1463-4539-bbd2-b218d4a4851c",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ {\n        "name" : "directories",\n        "type" : "COLLECTION",\n        "value" : [ ],\n        "dynamic" : false\n      } ]\n    },\n    "mimeType" : "application/octet-stream",\n    "dataType" : "RAWDATA",\n    "comment" : "A comment"\n  } ],\n  "validationPluginConf" : {\n    "id" : 120,\n    "pluginId" : "DefaultFileValidation",\n    "label" : "update : Validation plugin",\n    "businessId" : "eed45b1d-031e-4333-9026-da25029ff379",\n    "version" : "1.0.0-SNAPSHOT",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  },\n  "productPluginConf" : {\n    "id" : 121,\n    "pluginId" : "DefaultProductPlugin",\n    "label" : "update : Product plugin",\n    "businessId" : "8a9b575b-ca37-400c-a4a3-c45216f1d4a9",\n    "version" : "1.0.0-SNAPSHOT",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  },\n  "generateSipPluginConf" : {\n    "id" : 122,\n    "pluginId" : "DefaultSIPGeneration",\n    "label" : "update : SIP generation plugin",\n    "businessId" : "4b4c0b5e-4002-4a4a-a723-99eb387861b0",\n    "version" : "1.0.0-SNAPSHOT",\n    "priorityOrder" : 0,\n    "active" : true,\n    "parameters" : [ ]\n  }\n}\n'))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "content" : {\n    "id" : 106,\n    "label" : "Processing chain 1",\n    "active" : true,\n    "mode" : "MANUAL",\n    "locked" : false,\n    "periodicity" : "0 * * * * *",\n    "ingestChain" : "DefaultIngestChain",\n    "storages" : [ {\n      "pluginBusinessId" : "AWS",\n      "storePath" : "/path/to/file",\n      "targetTypes" : [ ]\n    }, {\n      "pluginBusinessId" : "HELLO",\n      "storePath" : "/other/path/to/file",\n      "targetTypes" : [ ]\n    } ],\n    "categories" : [ ],\n    "fileInfos" : [ {\n      "id" : 106,\n      "mandatory" : true,\n      "scanPlugin" : {\n        "id" : 123,\n        "pluginId" : "GlobDiskScanning",\n        "label" : "Scan plugin update",\n        "businessId" : "be2a4b25-1463-4539-bbd2-b218d4a4851c",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ {\n          "name" : "directories",\n          "type" : "COLLECTION",\n          "value" : [ ],\n          "dynamic" : false\n        } ]\n      },\n      "mimeType" : "application/octet-stream",\n      "dataType" : "RAWDATA",\n      "comment" : "A comment"\n    } ],\n    "validationPluginConf" : {\n      "id" : 120,\n      "pluginId" : "DefaultFileValidation",\n      "label" : "update : Validation plugin",\n      "businessId" : "eed45b1d-031e-4333-9026-da25029ff379",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "productPluginConf" : {\n      "id" : 121,\n      "pluginId" : "DefaultProductPlugin",\n      "label" : "update : Product plugin",\n      "businessId" : "8a9b575b-ca37-400c-a4a3-c45216f1d4a9",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "generateSipPluginConf" : {\n      "id" : 122,\n      "pluginId" : "DefaultSIPGeneration",\n      "label" : "update : SIP generation plugin",\n      "businessId" : "4b4c0b5e-4002-4a4a-a723-99eb387861b0",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    }\n  },\n  "links" : [ {\n    "rel" : "list",\n    "href" : "http://localhost:8080/chains"\n  }, {\n    "rel" : "update",\n    "href" : "http://localhost:8080/chains/106"\n  }, {\n    "rel" : "patch",\n    "href" : "http://localhost:8080/chains/106"\n  } ]\n}\n'))),Object(r.b)("h2",{id:"update-state-and-mode"},"Update state and mode"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains`\n\n    ***URL template**\n\n    `/chains`\n\n    ***Method**\n\n    `PATCH`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***URL params**\n\n    `/chains/{chainId}`\n\n    Parameter|Type|Description|Constraints\n    :-------:|:--:|:---------:|:---------:\n    `chainId` |Number|Acquisition chain identifier|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n")),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    {\n  "chainIds" : [ 102 ],\n  "active" : true,\n  "mode" : "MANUAL",\n  "updateType" : "ALL"\n}\n'))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n[ {\n  "content" : {\n    "id" : 102,\n    "label" : "Processing chain 1",\n    "active" : true,\n    "mode" : "MANUAL",\n    "locked" : false,\n    "periodicity" : "0 * * * * *",\n    "ingestChain" : "DefaultIngestChain",\n    "storages" : [ {\n      "pluginBusinessId" : "AWS",\n      "storePath" : "/path/to/file",\n      "targetTypes" : [ ]\n    }, {\n      "pluginBusinessId" : "HELLO",\n      "storePath" : "/other/path/to/file",\n      "targetTypes" : [ ]\n    } ],\n    "categories" : [ ],\n    "fileInfos" : [ {\n      "id" : 102,\n      "mandatory" : true,\n      "scanPlugin" : {\n        "id" : 102,\n        "pluginId" : "GlobDiskScanning",\n        "label" : "update : Scan plugin",\n        "businessId" : "f8a70e70-1ae6-4eae-b43b-5de9d3472d43",\n        "version" : "1.0.0-SNAPSHOT",\n        "priorityOrder" : 0,\n        "active" : true,\n        "parameters" : [ {\n          "name" : "directories",\n          "type" : "COLLECTION",\n          "value" : [ ],\n          "dynamic" : false\n        } ]\n      },\n      "mimeType" : "application/octet-stream",\n      "dataType" : "RAWDATA",\n      "comment" : "A comment"\n    } ],\n    "validationPluginConf" : {\n      "id" : 103,\n      "pluginId" : "DefaultFileValidation",\n      "label" : "update : Validation plugin",\n      "businessId" : "14d8b692-9f35-48b3-b85f-436a8afa5332",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "productPluginConf" : {\n      "id" : 104,\n      "pluginId" : "DefaultProductPlugin",\n      "label" : "update : Product plugin",\n      "businessId" : "1859842f-a6c5-490e-a275-dfb9a01096d9",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    },\n    "generateSipPluginConf" : {\n      "id" : 105,\n      "pluginId" : "DefaultSIPGeneration",\n      "label" : "update : SIP generation plugin",\n      "businessId" : "83e99593-64d0-427c-af90-34c70281012c",\n      "version" : "1.0.0-SNAPSHOT",\n      "priorityOrder" : 0,\n      "active" : true,\n      "parameters" : [ ]\n    }\n  },\n  "links" : [ {\n    "rel" : "patch",\n    "href" : "http://localhost:8080/chains/102"\n  } ]\n} ]\n'))),Object(r.b)("h2",{id:"delete-an-acquisition-chain"},"Delete an acquisition chain"),Object(r.b)("p",null,"Only disabled acquisition chain can be deleted."),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/chains/103`\n\n    ***URL template**\n\n    `/chains/{chainId}`\n\n    ***Method**\n\n    `DELETE`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***URL params**\n\n    `/chains/{chainId}`\n\n    Parameter|Type|Description|Constraints\n    :-------:|:--:|:---------:|:---------:\n    `chainId` |Number|Acquisition chain identifier to update|Chain must be disabled.\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 204 No Content"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n\n  None\n"))))),Object(r.b)("h2",{id:"export-a-configuration"},"Export a configuration"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/microservice/configuration`\n\n    ***URL template**\n\n    `/microservice/configuration`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"|Path|Type|Description|Constraints| |:--:|:--:|:---------:|:---------:|\n    |label| `String` |Label|Must not be blank|\n    |active| `Boolean` |Activation status|Must not be null|\n    |mode| `String` |Mode|Must not be null. Allowed values : MANUAL, AUTO|\n    |session| `String` |Ingest session name for SIP submission||\n    |categories| `interface java.util.List` |Ingest categories|Must not be null|\n    |ingestChain| `String` |Ingest chain name for SIP submission|Must not be blank|\n    |locked| `Boolean` |Internal chain processing lock|NA|\n    |periodicity| `Long` |Automatic chain activation periodicity in second|Must match the regular expression `0 .*`|\n    |fileInfos[]| `Array` |Arrays of file information / TODO||\n    |fileInfos[].mandatory| `Boolean` |True if the product must contain this file|Must not be null|\n    |fileInfos[].scanPlugin| `Object` |Scan plugin configuration / TODO|Must not be null|\n    |fileInfos[].lastModificationDate| `String` |Most recent last modification ISO 8601 date of all scanned files||\n    |fileInfos[].mimeType| `String` |File MIME type|Must not be null|\n    |fileInfos[].dataType| `String` |REGARDS data type|Must not be null. Allowed values : RAWDATA, QUICKLOOK_SD, QUICKLOOK_MD, QUICKLOOK_HD, DOCUMENT, THUMBNAIL, OTHER, AIP, DESCRIPTION|\n    |fileInfos[].comment| `String` |REGARDS data type||\n    |validationPluginConf| `Object` |Validation plugin configuration / TODO|Must not be null|\n    |productPluginConf| `Object` |Product plugin configuration / TODO|Must not be null|\n    |generateSipPluginConf| `Object` |Generate SIP plugin configuration / TODO|Must not be null|\n    |postProcessSipPluginConf| `Object` |Optional SIP post processing plugin configuration / TODO||\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},'  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `X-Frame-Options:DENY`\n  `Expires:0`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Content-Disposition:attachment; filename="config-Test application.json"`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n')))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "microservice" : "Test application",\n  "modules" : [ {\n    "module" : {\n      "id" : "acquisition",\n      "name" : "Acquisition module",\n      "description" : "Data driven SIP creation",\n      "version" : "0.4.1",\n      "author" : "CSSI",\n      "legalOwner" : "CNES",\n      "documentation" : "https://github.com/RegardsOss"\n    },\n    "configuration" : [ {\n      "key" : "fr.cnes.regards.modules.acquisition.domain.chain.AcquisitionProcessingChain",\n      "value" : {\n        "label" : "Processing chain 1",\n        "active" : true,\n        "mode" : "MANUAL",\n        "periodicity" : "0 * * * * *",\n        "ingestChain" : "DefaultIngestChain",\n        "storages" : [ {\n          "pluginBusinessId" : "AWS",\n          "storePath" : "/path/to/file",\n          "targetTypes" : [ ]\n        }, {\n          "pluginBusinessId" : "HELLO",\n          "storePath" : "/other/path/to/file",\n          "targetTypes" : [ ]\n        } ],\n        "categories" : [ ],\n        "fileInfos" : [ {\n          "mandatory" : true,\n          "scanPlugin" : {\n            "pluginId" : "GlobDiskScanning",\n            "label" : "post : Scan plugin",\n            "businessId" : "7724da69-35d5-43cb-9128-18e7e94710dc",\n            "version" : "1.0.0-SNAPSHOT",\n            "priorityOrder" : 0,\n            "active" : true,\n            "parameters" : [ {\n              "name" : "directories",\n              "type" : "COLLECTION",\n              "value" : [ ],\n              "dynamic" : false\n            } ]\n          },\n          "mimeType" : "application/octet-stream",\n          "dataType" : "RAWDATA",\n          "comment" : "A comment"\n        } ],\n        "validationPluginConf" : {\n          "pluginId" : "DefaultFileValidation",\n          "label" : "post : Validation plugin",\n          "businessId" : "ea742dad-8d29-413e-94d9-2fac54494d83",\n          "version" : "1.0.0-SNAPSHOT",\n          "priorityOrder" : 0,\n          "active" : true,\n          "parameters" : [ ]\n        },\n        "productPluginConf" : {\n          "pluginId" : "DefaultProductPlugin",\n          "label" : "post : Product plugin",\n          "businessId" : "346cafbb-bd08-4ad5-93f0-8bc56bb45e47",\n          "version" : "1.0.0-SNAPSHOT",\n          "priorityOrder" : 0,\n          "active" : true,\n          "parameters" : [ ]\n        },\n        "generateSipPluginConf" : {\n          "pluginId" : "DefaultSIPGeneration",\n          "label" : "post : SIP generation plugin",\n          "businessId" : "d76a56b9-c37d-4b2b-aba1-01109a710518",\n          "version" : "1.0.0-SNAPSHOT",\n          "priorityOrder" : 0,\n          "active" : true,\n          "parameters" : [ ]\n        }\n      }\n    } ]\n  } ]\n}\n'))),Object(r.b)("h2",{id:"import-a-configuration"},"Import a configuration"),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/microservice/configuration`\n\n    ***URL template**\n\n    `/microservice/configuration`\n\n    ***Method**\n\n    `POST`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:multipart/form-data;charset=UTF-8; boundary=6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 201 Created"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n\n  None\n"))))),Object(r.b)("h1",{id:"search-files-api"},"Search files API"),Object(r.b)("h2",{id:"search-all-files"},"Search all files"),Object(r.b)("p",null,"Retrieves all acquired files regardless the acquisition chain."),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/acquisition-files`\n\n    ***URL template**\n\n    `/acquisition-files`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Query params**\n\n    |Parameter|Type|Description|Constraints| |:-------:|:--:|:---------:|:---------:|\n    | `filePath` |String|Entire file path filter|Optional|\n    | `state` |String|Acquisition file state filter|Optional. Multiple values allowed. Allowed values : IN_PROGRESS, VALID, INVALID, ACQUIRED, SUPERSEDED, SUPERSEDED_AFTER_ERROR, ERROR|\n    | `productId` |Number|Product acquisition file(s) identifier filter|Optional|\n    | `chainId` |Number|Acquisition chain identifier filter|Optional|\n    | `from` |String|ISO Date time filter|Optional. Required format : yyyy-MM-dd'T'HH:mm:ss.SSSZ|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "metadata" : {\n    "size" : 10,\n    "totalElements" : 2,\n    "totalPages" : 1,\n    "number" : 0\n  },\n  "content" : [ {\n    "content" : {\n      "id" : 3,\n      "filePath" : "/home/kevin/git/rs-dataprovider/acquisition/acquisition-rest/src/test/resources/input/data_1.txt",\n      "state" : "IN_PROGRESS",\n      "sessionOwner" : "sessionOwner",\n      "session" : "session",\n      "acqDate" : "2020-05-13T09:36:07.548Z"\n    },\n    "links" : [ ]\n  }, {\n    "content" : {\n      "id" : 4,\n      "filePath" : "/home/kevin/git/rs-dataprovider/acquisition/acquisition-rest/src/test/resources/input/data_2.txt",\n      "state" : "IN_PROGRESS",\n      "sessionOwner" : "sessionOwner",\n      "session" : "session",\n      "acqDate" : "2020-05-13T09:36:07.654Z"\n    },\n    "links" : [ ]\n  } ],\n  "links" : [ {\n    "rel" : "self",\n    "href" : "http://localhost:8080/acquisition-files?page=0&size=10&sort=id,asc"\n  } ]\n}\n'))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"|Path|Type|Description|Constraints| |:--:|:--:|:---------:|:---------:|\n    |content[].content.filePath| `String` |Local file path|Must not be null|\n    |content[].content.state| `String` |State|Allowed values : IN_PROGRESS, VALID, INVALID, ACQUIRED, SUPERSEDED, SUPERSEDED_AFTER_ERROR, ERROR|\n    |content[].content.error| `String` |Error details when acquisition file state is in ERROR||\n    |content[].content.acqDate| `String` |ISO 8601 acquisition date|Must not be null|\n"))),Object(r.b)("h2",{id:"search-files-by-state"},"Search files by state"),Object(r.b)("p",null,"Retrieves all acquired files with the specified state."),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/acquisition-files?state=IN_PROGRESS`\n\n    ***URL template**\n\n    `/acquisition-files`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Query params**\n\n    |Parameter|Type|Description|Constraints| |:-------:|:--:|:---------:|:---------:|\n    | `filePath` |String|Entire file path filter|Optional|\n    | `state` |String|Acquisition file state filter|Optional. Multiple values allowed. Allowed values : IN_PROGRESS, VALID, INVALID, ACQUIRED, SUPERSEDED, SUPERSEDED_AFTER_ERROR, ERROR|\n    | `productId` |Number|Product acquisition file(s) identifier filter|Optional|\n    | `chainId` |Number|Acquisition chain identifier filter|Optional|\n    | `from` |String|ISO Date time filter|Optional. Required format : yyyy-MM-dd'T'HH:mm:ss.SSSZ|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "metadata" : {\n    "size" : 10,\n    "totalElements" : 2,\n    "totalPages" : 1,\n    "number" : 0\n  },\n  "content" : [ {\n    "content" : {\n      "id" : 1,\n      "filePath" : "/home/kevin/git/rs-dataprovider/acquisition/acquisition-rest/src/test/resources/input/data_1.txt",\n      "state" : "IN_PROGRESS",\n      "sessionOwner" : "sessionOwner",\n      "session" : "session",\n      "acqDate" : "2020-05-13T09:36:05.834Z"\n    },\n    "links" : [ ]\n  }, {\n    "content" : {\n      "id" : 2,\n      "filePath" : "/home/kevin/git/rs-dataprovider/acquisition/acquisition-rest/src/test/resources/input/data_2.txt",\n      "state" : "IN_PROGRESS",\n      "sessionOwner" : "sessionOwner",\n      "session" : "session",\n      "acqDate" : "2020-05-13T09:36:06.026Z"\n    },\n    "links" : [ ]\n  } ],\n  "links" : [ {\n    "rel" : "self",\n    "href" : "http://localhost:8080/acquisition-files?page=0&size=10&sort=id,asc"\n  } ]\n}\n'))),Object(r.b)("h1",{id:"search-product-api"},"Search product API"),Object(r.b)("h2",{id:"search-all-files-1"},"Search all files"),Object(r.b)("p",null,"Retrieves all acquired files regardless the acquisition chain."),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"#### Request\n\n    ***URL**\n\n    `/products?sipState=NOT_SCHEDULED&sipState=SUBMITTED`\n\n    ***URL template**\n\n    `/products`\n\n    ***Method**\n\n    `GET`\n\n    ***Headers**\n\n    `Authorization:Bearer{token}`\n    `Accept:application/json`\n    `Content-Type:application/json;charset=UTF-8`\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Query params**\n\n    |Parameter|Type|Description|Constraints| |:-------:|:--:|:---------:|:---------:|\n    | `state` |String|Product state filter|Optional. Multiple values allowed. Allowed values : ACQUIRING, COMPLETED, FINISHED, INVALID, UPDATED|\n    | `sipState` |String|Product SIP state filter|Optional. Multiple values allowed. Allowed values : NOT_SCHEDULED, NOT_SCHEDULED_INVALID, SCHEDULED, SCHEDULED_INTERRUPTED, GENERATION_ERROR, SUBMITTED, INGESTION_FAILED|\n    | `productName` |String|Product name filter|Optional|\n    | `chainId` |Number|Acquisition chain identifier filter|Optional|\n    | `from` |String|ISO Date time filter|Optional. Required format : yyyy-MM-dd'T'HH:mm:ss.SSSZ|\n    | `session` |String|Session name filter|Optional|\n    | `nosession` |Boolean|No session filter|Optional|\n"))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"***Data params**\n\n    None\n"))),Object(r.b)("p",null,Object(r.b)("h4",{parentName:"p"},"Request"),Object(r.b)("ul",{parentName:"p"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Code:")," 200 OK"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre"},"  **Headers:**\n\n  `Pragma:no-cache`\n  `X-XSS-Protection:1; mode=block`\n  `Expires:0`\n  `X-Frame-Options:DENY`\n  `X-Content-Type-Options:nosniff`\n  `Access-Control-Allow-Headers:authorization, content-type, scope`\n  `Access-Control-Max-Age:3600`\n  `Content-Type:application/json;charset=UTF-8`\n  `Access-Control-Allow-Origin:*`\n  `Cache-Control:no-cache, no-store, max-age=0, must-revalidate`\n  `Access-Control-Allow-Methods:POST, PUT, GET, OPTIONS, DELETE`\n\n  **Content:**\n")))),Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre",className:"language-json"},'    \n{\n  "metadata" : {\n    "size" : 10,\n    "totalElements" : 1,\n    "totalPages" : 1,\n    "number" : 0\n  },\n  "content" : [ {\n    "content" : {\n      "id" : 1,\n      "state" : "ACQUIRING",\n      "sipState" : "NOT_SCHEDULED",\n      "lastUpdate" : "2020-05-13T09:35:50.206Z",\n      "productName" : "ProductName",\n      "session" : "MySession",\n      "ipId" : "ipId"\n    },\n    "links" : [ ]\n  } ],\n  "links" : [ {\n    "rel" : "self",\n    "href" : "http://localhost:8080/products?page=0&size=10&sort=lastUpdate,asc"\n  } ]\n}\n'))),Object(r.b)("p",null,Object(r.b)("pre",{parentName:"p"},Object(r.b)("code",{parentName:"pre"},"|Path|Type|Description|Constraints| |:--:|:--:|:---------:|:---------:|\n    |content[].content.state| `String` |State|Allowed values : ACQUIRING, COMPLETED, FINISHED, INVALID, UPDATED|\n    |content[].content.sipState| `String` | SIP State|Allowed values : NOT_SCHEDULED, NOT_SCHEDULED_INVALID, SCHEDULED, SCHEDULED_INTERRUPTED, GENERATION_ERROR, SUBMITTED, INGESTION_FAILED|\n    |content[].content.error| `String` |Error details when product state is in error state||\n    |content[].content.lastUpdate| `String` |ISO 8601 last product update||\n    |content[].content.productName| `String` |Product name|Must not be blank|\n    |content[].content.session| `String` |Session name|Must not be blank|\n    |content[].content.sip| `Object` |Generated SIP||\n    |content[].content.ipId| `String` |SIP IP ID||\n"))))}p.isMDXComponent=!0},2701:function(n,e,t){"use strict";t.d(e,"a",(function(){return d})),t.d(e,"b",(function(){return m}));var a=t(0),i=t.n(a);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e){if(null==n)return{};var t,a,i=function(n,e){if(null==n)return{};var t,a,i={},r=Object.keys(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var l=i.a.createContext({}),p=function(n){var e=i.a.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):s(s({},e),n)),t},d=function(n){var e=p(n.components);return i.a.createElement(l.Provider,{value:e},n.children)},u={inlineCode:"code",wrapper:function(n){var e=n.children;return i.a.createElement(i.a.Fragment,{},e)}},b=i.a.forwardRef((function(n,e){var t=n.components,a=n.mdxType,r=n.originalType,o=n.parentName,l=c(n,["components","mdxType","originalType","parentName"]),d=p(t),b=a,m=d["".concat(o,".").concat(b)]||d[b]||u[b]||r;return t?i.a.createElement(m,s(s({ref:e},l),{},{components:t})):i.a.createElement(m,s({ref:e},l))}));function m(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var r=t.length,o=new Array(r);o[0]=b;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=n,s.mdxType="string"==typeof n?n:a,o[1]=s;for(var l=2;l<r;l++)o[l]=t[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);
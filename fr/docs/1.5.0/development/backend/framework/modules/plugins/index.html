<!doctype html>
<html lang="fr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="REGARDS" href="/fr/opensearch.xml"><title data-react-helmet="true">Plugins introduction | REGARDS</title><meta data-react-helmet="true" property="og:url" content="https://RegardsOss.github.io//fr/docs/1.5.0/development/backend/framework/modules/plugins/"><meta data-react-helmet="true" name="docsearch:language" content="fr"><meta data-react-helmet="true" name="docsearch:version" content="1.5.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-1.5.0"><meta data-react-helmet="true" property="og:title" content="Plugins introduction | REGARDS"><meta data-react-helmet="true" name="description" content="Purpose"><meta data-react-helmet="true" property="og:description" content="Purpose"><link data-react-helmet="true" rel="shortcut icon" href="/fr/img/logos/regards-png/regards-favicon.png"><link data-react-helmet="true" rel="canonical" href="https://RegardsOss.github.io//fr/docs/1.5.0/development/backend/framework/modules/plugins/"><link data-react-helmet="true" rel="alternate" href="https://RegardsOss.github.io//docs/1.5.0/development/backend/framework/modules/plugins/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://RegardsOss.github.io//fr/docs/1.5.0/development/backend/framework/modules/plugins/" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://RegardsOss.github.io//docs/1.5.0/development/backend/framework/modules/plugins/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/fr/assets/css/styles.437ac825.css">
<link rel="preload" href="/fr/assets/js/runtime~main.cfacd6ad.js" as="script">
<link rel="preload" href="/fr/assets/js/main.c38a870c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Aller au contenu principal</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><img src="/fr/img/logos/regards-svg/regards-white.svg" alt="Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fr/img/logos/regards-svg/regards-white.svg" alt="Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">REGARDS</b></a><a class="navbar__item navbar__link" href="/fr/docs/1.5.0/setup/">Installation</a><a class="navbar__item navbar__link" href="/fr/docs/1.5.0/user-guide/">Manuel</a><a class="navbar__item navbar__link navbar__link--active" href="/fr/docs/1.5.0/development/">Developpeurs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/fr/docs/1.5.0/setup/">1.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/fr/docs/development/backend/framework/modules/plugins/">1.6.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/fr/docs/1.5.0/development/backend/framework/modules/plugins/">1.5.0</a></li><li><a class="dropdown__link" href="/fr/docs/1.4.0/development/backend/framework/modules/plugins/">1.4.0</a></li><li><a class="dropdown__link" href="/fr/versions">All versions</a></li></ul></div><a class="navbar__item navbar__link" href="/fr/roadmap/">Roadmap</a><a class="navbar__item navbar__link" href="/fr/release-notes/">Release notes</a><a class="navbar__item navbar__link" href="/fr/aboutus/">A propos</a><a href="https://github.com/RegardsOss/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Chercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Chercher</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fr/docs/1.5.0/development/">Development manual</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Backend</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Architecture</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Framework</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/getting-started/">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Starters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/modules/jobs/">Jobs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/dev-microservice/">How to create a microservice</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Plugins</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/modules/plugins/">Plugins introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/dev-plugin/">How to create a plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/1.5.0/development/backend/framework/plugins-api/">Plugins API</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Services</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Frontend</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Appendices</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>Ceci est la documentation de REGARDS <b>1.5.0</b>, qui n&#x27;est plus activement maintenue.</div><div class="margin-top--md">Pour une documentation Ã  jour, consultez la <b><a href="/fr/docs/development/backend/framework/modules/plugins/">derniÃ¨re version</a></b> (1.6.0).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 1.5.0</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">Sur cette page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Plugins introduction</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="purpose"></a>Purpose<a class="hash-link" href="#purpose" title="Lien direct vers le titre">#</a></h2><p>Plugin module is used to promote service adaptability.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration"></a>Configuration<a class="hash-link" href="#configuration" title="Lien direct vers le titre">#</a></h2><p>Add module dependency to your POM (version depends on the BOM)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fr.cnes.regards.framework.modules.plugins</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">plugins-service</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><p>Properties :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly properties"><pre tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Comma separated list of plugin packages from which system detects and loads plugin implementations</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Fallback to fr.cnes.regards if not specified</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">regards.plugins.packages-to-scan=</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><p>vregards.plugins.packages-to-scan</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="autoconfiguration"></a>Autoconfiguration<a class="hash-link" href="#autoconfiguration" title="Lien direct vers le titre">#</a></h2><p>Module autoconfigures:</p><ul><li><code>PluginService</code> to manage plugin lifecycle.</li></ul><p>The module relies on a <strong>plugin utility library</strong> to discover and instanciate a plugin. This library can be directly imported for implementation and test purpose with the following configuration :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fr.cnes.regards.framework.utils</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">plugin-utils</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-define-an-extension-point"></a>How to define an extension point<a class="hash-link" href="#how-to-define-an-extension-point" title="Lien direct vers le titre">#</a></h2><p>To define an extension point, you have to declare a <strong>service contract</strong> annotated with <code>PluginInterface</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@PluginInterface(description = &quot;Hello sample plugin interface&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public interface IHelloPlugin {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String hello(String name);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-create-a-plugin"></a>How to create a plugin<a class="hash-link" href="#how-to-create-a-plugin" title="Lien direct vers le titre">#</a></h2><p>On a functionnal point of view, creating a <strong>plugin</strong> is defining a new way to respect a <strong>service contract</strong>. On a developper point of view, it means creating a new class annotated <code>Plugin</code> implementing the plugin interface.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Plugin(author = &quot;REGARDS Team&quot;, id = &quot;echo&quot;, version = &quot;1.0.0&quot;, licence = &quot;GPLv3&quot;, owner = &quot;CNES&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class HelloPlugin implements IHelloPlugin {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @PluginParameter(label = &quot;Message&quot;, defaultValue=&quot;Hello %s!&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    private String message;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @PluginInit</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    private void init() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Init something after plugin instanciation</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public String hello(String name) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return String.format(message, name);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><p>As we can see in the above example, <code>HelloPlugin</code> fulfils the <code>IHelloPlugin</code> service contract.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugin-reference-documentation"></a>Plugin reference documentation<a class="hash-link" href="#plugin-reference-documentation" title="Lien direct vers le titre">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="annotations"></a>Annotations<a class="hash-link" href="#annotations" title="Lien direct vers le titre">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugininterface"></a><code>PluginInterface</code><a class="hash-link" href="#plugininterface" title="Lien direct vers le titre">#</a></h4><p>This annotation identifies an extension point, also called a service contract that is used in business service workflow allowing to adapt behaviour to project requirements.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugin"></a><code>Plugin</code><a class="hash-link" href="#plugin" title="Lien direct vers le titre">#</a></h4><p>This annotation identifies an implementation of an extension point and allows to give useful information on the plugin such as its <code>id</code>, <code>decription</code> <code>version</code>, etc.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugininit"></a><code>PluginInit</code><a class="hash-link" href="#plugininit" title="Lien direct vers le titre">#</a></h4><p>This annotation is <strong>optional</strong> and is used to initialize a plugin. If used, it must annotates a no-arg method. This method is called after parameter injection on plugin instanciation.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugindestroy"></a><code>PluginDestroy</code><a class="hash-link" href="#plugindestroy" title="Lien direct vers le titre">#</a></h4><p>This annotation is <strong>optional</strong> and is used to properly destroy a plugin. If used, it must annotates a no-arg method. This method is called when plugin is destroyed by the plugin service.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pluginparameter"></a><code>PluginParameter</code><a class="hash-link" href="#pluginparameter" title="Lien direct vers le titre">#</a></h4><p>This annotation is <strong>optional</strong> and can be used several times, as many times as there are parameters. It allows accurate plugin configuration.</p><p>Plugin parameters are injected after plugin class instanciation and before init method was called.</p><p>Plugin parameters supports following types:</p><ul><li>String</li><li>Byte</li><li>Short</li><li>Integer</li><li>Long</li><li>Float</li><li>Double</li><li>Boolean</li><li>Collection</li><li>Plugin interface</li><li>Map</li><li>Plain Old Java Object (i.e. POJO)</li></ul><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>Parameter configurations are backed up as plain JSON objects so all parameters must be serializabled unequivocally!</p></div></div><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>All parameters (i.e. class fields), even in complex objects, must be annotated with <code>PluginParameter</code>!</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugin-development"></a>Plugin development<a class="hash-link" href="#plugin-development" title="Lien direct vers le titre">#</a></h3><p>As seen above, develop a plugin just means implementing <strong>pure plain JAVA objects</strong>.</p><p>Start by implementing a service contract interface and afterwards, just annotate your implementation with required plugin annotations.</p><p>Before deploying plugin, you should test it using <code>PluginUtils</code>.</p><p>Hereunder, this is a sample test built with JUnit.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Test</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public void helloPluginTest() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        String helloFormat = &quot;Welcome %s!&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = &quot;John&quot;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Set parameter configuration (override default)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Set&lt;PluginParameter&gt; parameters = PluginParametersFactory.build().addParameter(&quot;message&quot;, helloFormat).getParameters();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Init plugin instanciation context</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        PluginUtils.setup(&quot;your.root.package&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Instanciate plugin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        IHelloPlugin hello = PluginUtils.getPlugin(parameters, HelloPlugin.class, new HashMap&lt;&gt;());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Test plugin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Assert.assertEquals(String.format(helloFormat, name), hello.hello());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copier le code" class="copyButton_Ue-o clean-btn">Copier</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="plugin-deployment"></a>Plugin deployment<a class="hash-link" href="#plugin-deployment" title="Lien direct vers le titre">#</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Plugins are loaded in the same classloader as the microservice so you have to be very careful with their deployments. Plugin library and dependencies have to be compatible with the target microservice.</p></div></div><p>To deploy your plugin, we advise you this procedure :</p><ul><li>Build you plugin as a simple JAR,</li><li>Deploy this JAR and all its <strong>specific dependencies</strong> in the plugin directory of the target microservice,</li><li>Be careful not to add library already loaded by microservice to avoid library inconsistency.</li><li>Restart the microservice.</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>To be loaded in a microservice, plugin scanned packages has to be declared properly in microservice properties. By default, only the package <code>fr.cnes.regards</code> is scanned (Look at the properties above).</p></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/RegardsOss/RegardsOss.github.io/edit/master/versioned_docs/version-1.5.0/development/backend/framework/modules/plugins.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Ã‰diter cette page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fr/docs/1.5.0/development/backend/framework/dev-microservice/"><div class="pagination-nav__sublabel">PrÃ©cÃ©dent</div><div class="pagination-nav__label">Â« How to create a microservice</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fr/docs/1.5.0/development/backend/framework/dev-plugin/"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">How to create a plugin Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#purpose" class="table-of-contents__link">Purpose</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#autoconfiguration" class="table-of-contents__link">Autoconfiguration</a></li><li><a href="#how-to-define-an-extension-point" class="table-of-contents__link">How to define an extension point</a></li><li><a href="#how-to-create-a-plugin" class="table-of-contents__link">How to create a plugin</a></li><li><a href="#plugin-reference-documentation" class="table-of-contents__link">Plugin reference documentation</a><ul><li><a href="#annotations" class="table-of-contents__link">Annotations</a></li><li><a href="#plugin-development" class="table-of-contents__link">Plugin development</a></li><li><a href="#plugin-deployment" class="table-of-contents__link">Plugin deployment</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container_grid_345B"><div class="col_1_18Mg"><p><strong>A framework and a set of plugins to build scientific archives.</strong></p><p>REGARDS is an Open Source data valorization product, highly flexible to various themes, modular, efficient, long-lasting, evolutionary and scalable, aims at providing services to Mission Centers and laboratories, and is able to deal with huge amount of data. <br>Our goal is to allow a strong commitment from user community in the development of modules and plugins.</p><p><strong>We welcome <a href="https://github.com/RegardsOss/RegardsOss.github.io/blob/master/CONTRIBUTING.md">your contributions</a> to make these documents better.</strong></p><div><img src="/img/logos/courbe-institutionnelle-signature_y110-inverser.png"></div></div><div class="col_2_1mR8"><h4 class="footer__title">Utilisateurs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fr/docs/user-guide/">Manuel</a></li></ul></div><div class="col_2_1mR8"><h4 class="footer__title">DÃ©veloppeurs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/fr/docs/setup/">Installation</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/fr/docs/development/backend/architecture/concepts/">Backend</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/fr/docs/development/frontend/introduction/setup/">Frontend</a></li></ul></div><div class="col_2_1mR8"><h4 class="footer__title">Plus</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/RegardsOss/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 REGARDS, OSS. Built with Docusaurus.</div></div></footer></div>
<script src="/fr/assets/js/runtime~main.cfacd6ad.js"></script>
<script src="/fr/assets/js/main.c38a870c.js"></script>
</body>
</html>